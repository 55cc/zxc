#!/usr/bin/env node
"use strict";var navigator={};const e=require("fs"),t=require("constants"),r=require("stream"),n=require("util"),o=require("assert"),i=require("path"),s=require("node:module"),a=require("node:path"),c=require("node:url"),l=require("node:assert"),u=require("node:fs"),d=require("os"),f=require("events"),h=require("node:process"),p=require("node:stream"),y=require("node:http"),m=require("node:https"),g=require("node:zlib"),b=require("node:buffer"),_=require("node:util"),v=require("node:net");require("node:readline");const w=require("node:child_process"),S=require("node:async_hooks"),E=require("child_process"),R=require("string_decoder"),A=require("buffer"),T=require("node:os"),P=require("node:repl");var k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function C(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var O,x,$={},L={};function F(){return x||(x=1,function(C){Object.defineProperty(C,Symbol.toStringTag,{value:"Module"});const x=e,$=r,D=n,j=o,M=i,B=s,I=a,N=c,H=l,q=u,W=d,U=f,z=h,G=p,V=y,K=m,Y=g,Q=b,X=_,J=v,Z=w,ee=S,te=E,re=R,ne=A,oe=T,ie=P;var se="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==k?k:"undefined"!=typeof self?self:{};function ae(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ce={},le={fromCallback:function(e){return Object.defineProperty((function(...t){if("function"!=typeof t[t.length-1])return new Promise(((r,n)=>{e.call(this,...t,((e,t)=>null!=e?n(e):r(t)))}));e.apply(this,t)}),"name",{value:e.name})},fromPromise:function(e){return Object.defineProperty((function(...t){const r=t[t.length-1];if("function"!=typeof r)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then((e=>r(null,e)),r)}),"name",{value:e.name})}},ue=t,de=process.cwd,fe=null,he=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return fe||(fe=de.call(process)),fe};try{process.cwd()}catch(x){}if("function"==typeof process.chdir){var pe=process.chdir;process.chdir=function(e){fe=null,pe.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,pe)}var ye,me,ge=$.Stream,be=Object.getPrototypeOf||function(e){return e.__proto__},_e=x,ve=function(e){function t(t){return t?function(r,n,o){return t.call(e,r,n,(function(e){a(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function r(t){return t?function(r,n){try{return t.call(e,r,n)}catch(e){if(!a(e))throw e}}:t}function n(t){return t?function(r,n,o,i){return t.call(e,r,n,o,(function(e){a(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function o(t){return t?function(r,n,o){try{return t.call(e,r,n,o)}catch(e){if(!a(e))throw e}}:t}function i(t){return t?function(r,n,o){function i(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),o&&o.apply(this,arguments)}return"function"==typeof n&&(o=n,n=null),n?t.call(e,r,n,i):t.call(e,r,i)}:t}function s(t){return t?function(r,n){var o=n?t.call(e,r,n):t.call(e,r);return o&&(o.uid<0&&(o.uid+=4294967296),o.gid<0&&(o.gid+=4294967296)),o}:t}function a(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}var c;ue.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,r,n){e.open(t,ue.O_WRONLY|ue.O_SYMLINK,r,(function(t,o){t?n&&n(t):e.fchmod(o,r,(function(t){e.close(o,(function(e){n&&n(t||e)}))}))}))},e.lchmodSync=function(t,r){var n,o=e.openSync(t,ue.O_WRONLY|ue.O_SYMLINK,r),i=!0;try{n=e.fchmodSync(o,r),i=!1}finally{if(i)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return n}}(e),e.lutimes||function(e){ue.hasOwnProperty("O_SYMLINK")&&e.futimes?(e.lutimes=function(t,r,n,o){e.open(t,ue.O_SYMLINK,(function(t,i){t?o&&o(t):e.futimes(i,r,n,(function(t){e.close(i,(function(e){o&&o(t||e)}))}))}))},e.lutimesSync=function(t,r,n){var o,i=e.openSync(t,ue.O_SYMLINK),s=!0;try{o=e.futimesSync(i,r,n),s=!1}finally{if(s)try{e.closeSync(i)}catch(e){}else e.closeSync(i)}return o}):e.futimes&&(e.lutimes=function(e,t,r,n){n&&process.nextTick(n)},e.lutimesSync=function(){})}(e),e.chown=n(e.chown),e.fchown=n(e.fchown),e.lchown=n(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=r(e.chmodSync),e.fchmodSync=r(e.fchmodSync),e.lchmodSync=r(e.lchmodSync),e.stat=i(e.stat),e.fstat=i(e.fstat),e.lstat=i(e.lstat),e.statSync=s(e.statSync),e.fstatSync=s(e.fstatSync),e.lstatSync=s(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(e,t,r){r&&process.nextTick(r)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(e,t,r,n){n&&process.nextTick(n)},e.lchownSync=function(){}),"win32"===he&&(e.rename="function"!=typeof e.rename?e.rename:function(t){function r(r,n,o){var i=Date.now(),s=0;t(r,n,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-i<6e4)return setTimeout((function(){e.stat(n,(function(e,i){e&&"ENOENT"===e.code?t(r,n,a):o(c)}))}),s),void(s<100&&(s+=10));o&&o(c)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.rename)),e.read="function"!=typeof e.read?e.read:function(t){function r(r,n,o,i,s,a){var c;if(a&&"function"==typeof a){var l=0;c=function(u,d,f){if(u&&"EAGAIN"===u.code&&l<10)return l++,t.call(e,r,n,o,i,s,c);a.apply(this,arguments)}}return t.call(e,r,n,o,i,s,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.read),e.readSync="function"!=typeof e.readSync?e.readSync:(c=e.readSync,function(t,r,n,o,i){for(var s=0;;)try{return c.call(e,t,r,n,o,i)}catch(e){if("EAGAIN"===e.code&&s<10){s++;continue}throw e}})},we=function(e){return{ReadStream:function t(r,n){if(!(this instanceof t))return new t(r,n);ge.call(this);var o=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,n=n||{};for(var i=Object.keys(n),s=0,a=i.length;s<a;s++){var c=i[s];this[c]=n[c]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()})):process.nextTick((function(){o._read()}))},WriteStream:function t(r,n){if(!(this instanceof t))return new t(r,n);ge.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,n=n||{};for(var o=Object.keys(n),i=0,s=o.length;i<s;i++){var a=o[i];this[a]=n[a]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}},Se=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:be(e)};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})),t},Ee=D;function Re(e,t){Object.defineProperty(e,ye,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(ye=Symbol.for("graceful-fs.queue"),me=Symbol.for("graceful-fs.previous")):(ye="___graceful-fs.queue",me="___graceful-fs.previous");var Ae=function(){};if(Ee.debuglog?Ae=Ee.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Ae=function(){var e=Ee.format.apply(Ee,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!_e[ye]){var Te=se[ye]||[];Re(_e,Te),_e.close=function(e){function t(t,r){return e.call(_e,t,(function(e){e||xe(),"function"==typeof r&&r.apply(this,arguments)}))}return Object.defineProperty(t,me,{value:e}),t}(_e.close),_e.closeSync=function(e){function t(t){e.apply(_e,arguments),xe()}return Object.defineProperty(t,me,{value:e}),t}(_e.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){Ae(_e[ye]),j.equal(_e[ye].length,0)}))}se[ye]||Re(se,_e[ye]);var Pe,ke=Ce(Se(_e));function Ce(e){ve(e),e.gracefulify=Ce,e.createReadStream=function(t,r){return new e.ReadStream(t,r)},e.createWriteStream=function(t,r){return new e.WriteStream(t,r)};var t=e.readFile;e.readFile=function(e,r,n){return"function"==typeof r&&(n=r,r=null),function e(r,n,o,i){return t(r,n,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof o&&o.apply(this,arguments):Oe([e,[r,n,o],t,i||Date.now(),Date.now()])}))}(e,r,n)};var r=e.writeFile;e.writeFile=function(e,t,n,o){return"function"==typeof n&&(o=n,n=null),function e(t,n,o,i,s){return r(t,n,o,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof i&&i.apply(this,arguments):Oe([e,[t,n,o,i],r,s||Date.now(),Date.now()])}))}(e,t,n,o)};var n=e.appendFile;n&&(e.appendFile=function(e,t,r,o){return"function"==typeof r&&(o=r,r=null),function e(t,r,o,i,s){return n(t,r,o,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof i&&i.apply(this,arguments):Oe([e,[t,r,o,i],n,s||Date.now(),Date.now()])}))}(e,t,r,o)});var o=e.copyFile;o&&(e.copyFile=function(e,t,r,n){return"function"==typeof r&&(n=r,r=0),function e(t,r,n,i,s){return o(t,r,n,(function(o){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof i&&i.apply(this,arguments):Oe([e,[t,r,n,i],o,s||Date.now(),Date.now()])}))}(e,t,r,n)});var i=e.readdir;e.readdir=function(e,t,r){"function"==typeof t&&(r=t,t=null);var n=s.test(process.version)?function(e,t,r,n){return i(e,o(e,t,r,n))}:function(e,t,r,n){return i(e,t,o(e,t,r,n))};return n(e,t,r);function o(e,t,r,o){return function(i,s){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?(s&&s.sort&&s.sort(),"function"==typeof r&&r.call(this,i,s)):Oe([n,[e,t,r],i,o||Date.now(),Date.now()])}}};var s=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var a=we(e);f=a.ReadStream,h=a.WriteStream}var c=e.ReadStream;c&&(f.prototype=Object.create(c.prototype),f.prototype.open=function(){var e=this;y(e.path,e.flags,e.mode,(function(t,r){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r),e.read())}))});var l=e.WriteStream;l&&(h.prototype=Object.create(l.prototype),h.prototype.open=function(){var e=this;y(e.path,e.flags,e.mode,(function(t,r){t?(e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return f},set:function(e){f=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var u=f;Object.defineProperty(e,"FileReadStream",{get:function(){return u},set:function(e){u=e},enumerable:!0,configurable:!0});var d=h;function f(e,t){return this instanceof f?(c.apply(this,arguments),this):f.apply(Object.create(f.prototype),arguments)}function h(e,t){return this instanceof h?(l.apply(this,arguments),this):h.apply(Object.create(h.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0});var p=e.open;function y(e,t,r,n){return"function"==typeof r&&(n=r,r=null),function e(t,r,n,o,i){return p(t,r,n,(function(s,a){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof o&&o.apply(this,arguments):Oe([e,[t,r,n,o],s,i||Date.now(),Date.now()])}))}(e,t,r,n)}return e.open=y,e}function Oe(e){Ae("ENQUEUE",e[0].name,e[1]),_e[ye].push(e),$e()}function xe(){for(var e=Date.now(),t=0;t<_e[ye].length;++t)_e[ye][t].length>2&&(_e[ye][t][3]=e,_e[ye][t][4]=e);$e()}function $e(){if(clearTimeout(Pe),Pe=void 0,0!==_e[ye].length){var e=_e[ye].shift(),t=e[0],r=e[1],n=e[2],o=e[3],i=e[4];if(void 0===o)Ae("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-o>=6e4){Ae("TIMEOUT",t.name,r);var s=r.pop();"function"==typeof s&&s.call(null,n)}else{var a=Date.now()-i,c=Math.max(i-o,1);a>=Math.min(1.2*c,100)?(Ae("RETRY",t.name,r),t.apply(null,r.concat([o]))):_e[ye].push(e)}void 0===Pe&&(Pe=setTimeout($e,0))}}process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!_e.__patched&&(ke=Ce(_e),_e.__patched=!0),function(e){const t=le.fromCallback,r=ke,n=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((e=>"function"==typeof r[e]));Object.assign(e,r),n.forEach((n=>{e[n]=t(r[n])})),e.exists=function(e,t){return"function"==typeof t?r.exists(e,t):new Promise((t=>r.exists(e,t)))},e.read=function(e,t,n,o,i,s){return"function"==typeof s?r.read(e,t,n,o,i,s):new Promise(((s,a)=>{r.read(e,t,n,o,i,((e,t,r)=>{if(e)return a(e);s({bytesRead:t,buffer:r})}))}))},e.write=function(e,t,...n){return"function"==typeof n[n.length-1]?r.write(e,t,...n):new Promise(((o,i)=>{r.write(e,t,...n,((e,t,r)=>{if(e)return i(e);o({bytesWritten:t,buffer:r})}))}))},e.readv=function(e,t,...n){return"function"==typeof n[n.length-1]?r.readv(e,t,...n):new Promise(((o,i)=>{r.readv(e,t,...n,((e,t,r)=>{if(e)return i(e);o({bytesRead:t,buffers:r})}))}))},e.writev=function(e,t,...n){return"function"==typeof n[n.length-1]?r.writev(e,t,...n):new Promise(((o,i)=>{r.writev(e,t,...n,((e,t,r)=>{if(e)return i(e);o({bytesWritten:t,buffers:r})}))}))},"function"==typeof r.realpath.native?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(ce);var Le={},Fe={};const De=M;Fe.checkPath=function(e){if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(De.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}};const je=ce,{checkPath:Me}=Fe,Be=e=>"number"==typeof e?e:{mode:511,...e}.mode;Le.makeDir=async(e,t)=>(Me(e),je.mkdir(e,{mode:Be(t),recursive:!0})),Le.makeDirSync=(e,t)=>(Me(e),je.mkdirSync(e,{mode:Be(t),recursive:!0}));const Ie=le.fromPromise,{makeDir:Ne,makeDirSync:He}=Le,qe=Ie(Ne);var We={mkdirs:qe,mkdirsSync:He,mkdirp:qe,mkdirpSync:He,ensureDir:qe,ensureDirSync:He};const Ue=ce;var ze={pathExists:(0,le.fromPromise)((function(e){return Ue.access(e).then((()=>!0)).catch((()=>!1))})),pathExistsSync:Ue.existsSync};const Ge=ke;const Ve=ce,Ke=M,Ye=D;function Qe(e,t,r){const n=r.dereference?e=>Ve.stat(e,{bigint:!0}):e=>Ve.lstat(e,{bigint:!0});return Promise.all([n(e),n(t).catch((e=>{if("ENOENT"===e.code)return null;throw e}))]).then((([e,t])=>({srcStat:e,destStat:t})))}function Xe(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function Je(e,t){const r=Ke.resolve(e).split(Ke.sep).filter((e=>e)),n=Ke.resolve(t).split(Ke.sep).filter((e=>e));return r.reduce(((e,t,r)=>e&&n[r]===t),!0)}function Ze(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var et={checkPaths:function(e,t,r,n,o){Ye.callbackify(Qe)(e,t,n,((n,i)=>{if(n)return o(n);const{srcStat:s,destStat:a}=i;if(a){if(Xe(s,a)){const n=Ke.basename(e),i=Ke.basename(t);return"move"===r&&n!==i&&n.toLowerCase()===i.toLowerCase()?o(null,{srcStat:s,destStat:a,isChangingCase:!0}):o(new Error("Source and destination must not be the same."))}if(s.isDirectory()&&!a.isDirectory())return o(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!s.isDirectory()&&a.isDirectory())return o(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return s.isDirectory()&&Je(e,t)?o(new Error(Ze(e,t,r))):o(null,{srcStat:s,destStat:a})}))},checkPathsSync:function(e,t,r,n){const{srcStat:o,destStat:i}=function(e,t,r){let n;const o=r.dereference?e=>Ve.statSync(e,{bigint:!0}):e=>Ve.lstatSync(e,{bigint:!0}),i=o(e);try{n=o(t)}catch(e){if("ENOENT"===e.code)return{srcStat:i,destStat:null};throw e}return{srcStat:i,destStat:n}}(e,t,n);if(i){if(Xe(o,i)){const n=Ke.basename(e),s=Ke.basename(t);if("move"===r&&n!==s&&n.toLowerCase()===s.toLowerCase())return{srcStat:o,destStat:i,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(o.isDirectory()&&!i.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!o.isDirectory()&&i.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(o.isDirectory()&&Je(e,t))throw new Error(Ze(e,t,r));return{srcStat:o,destStat:i}},checkParentPaths:function e(t,r,n,o,i){const s=Ke.resolve(Ke.dirname(t)),a=Ke.resolve(Ke.dirname(n));if(a===s||a===Ke.parse(a).root)return i();Ve.stat(a,{bigint:!0},((s,c)=>s?"ENOENT"===s.code?i():i(s):Xe(r,c)?i(new Error(Ze(t,n,o))):e(t,r,a,o,i)))},checkParentPathsSync:function e(t,r,n,o){const i=Ke.resolve(Ke.dirname(t)),s=Ke.resolve(Ke.dirname(n));if(s===i||s===Ke.parse(s).root)return;let a;try{a=Ve.statSync(s,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(Xe(r,a))throw new Error(Ze(t,n,o));return e(t,r,s,o)},isSrcSubdir:Je,areIdentical:Xe};const tt=ke,rt=M,nt=We.mkdirs,ot=ze.pathExists,it=function(e,t,r,n){Ge.open(e,"r+",((e,o)=>{if(e)return n(e);Ge.futimes(o,t,r,(e=>{Ge.close(o,(t=>{n&&n(e||t)}))}))}))},st=et;function at(e,t,r,n){if(!r.filter)return n(null,!0);Promise.resolve(r.filter(e,t)).then((e=>n(null,e)),(e=>n(e)))}function ct(e,t,r,n,o){(n.dereference?tt.stat:tt.lstat)(t,((i,s)=>i?o(i):s.isDirectory()?function(e,t,r,n,o,i){return t?ft(r,n,o,i):function(e,t,r,n,o){tt.mkdir(r,(i=>{if(i)return o(i);ft(t,r,n,(t=>t?o(t):dt(r,e,o)))}))}(e.mode,r,n,o,i)}(s,e,t,r,n,o):s.isFile()||s.isCharacterDevice()||s.isBlockDevice()?function(e,t,r,n,o,i){return t?function(e,t,r,n,o){if(!n.overwrite)return n.errorOnExist?o(new Error(`'${r}' already exists`)):o();tt.unlink(r,(i=>i?o(i):lt(e,t,r,n,o)))}(e,r,n,o,i):lt(e,r,n,o,i)}(s,e,t,r,n,o):s.isSymbolicLink()?function(e,t,r,n,o){tt.readlink(t,((t,i)=>t?o(t):(n.dereference&&(i=rt.resolve(process.cwd(),i)),e?void tt.readlink(r,((e,t)=>e?"EINVAL"===e.code||"UNKNOWN"===e.code?tt.symlink(i,r,o):o(e):(n.dereference&&(t=rt.resolve(process.cwd(),t)),st.isSrcSubdir(i,t)?o(new Error(`Cannot copy '${i}' to a subdirectory of itself, '${t}'.`)):st.isSrcSubdir(t,i)?o(new Error(`Cannot overwrite '${t}' with '${i}'.`)):function(e,t,r){tt.unlink(t,(n=>n?r(n):tt.symlink(e,t,r)))}(i,r,o)))):tt.symlink(i,r,o))))}(e,t,r,n,o):s.isSocket()?o(new Error(`Cannot copy a socket file: ${t}`)):s.isFIFO()?o(new Error(`Cannot copy a FIFO pipe: ${t}`)):o(new Error(`Unknown file: ${t}`))))}function lt(e,t,r,n,o){tt.copyFile(t,r,(i=>i?o(i):n.preserveTimestamps?function(e,t,r,n){return function(e){return 0==(128&e)}(e)?function(e,t,r){return dt(e,128|t,r)}(r,e,(o=>o?n(o):ut(e,t,r,n))):ut(e,t,r,n)}(e.mode,t,r,o):dt(r,e.mode,o)))}function ut(e,t,r,n){!function(e,t,r){tt.stat(e,((e,n)=>e?r(e):it(t,n.atime,n.mtime,r)))}(t,r,(t=>t?n(t):dt(r,e,n)))}function dt(e,t,r){return tt.chmod(e,t,r)}function ft(e,t,r,n){tt.readdir(e,((o,i)=>o?n(o):ht(i,e,t,r,n)))}function ht(e,t,r,n,o){const i=e.pop();return i?function(e,t,r,n,o,i){const s=rt.join(r,t),a=rt.join(n,t);at(s,a,o,((t,c)=>t?i(t):c?void st.checkPaths(s,a,"copy",o,((t,c)=>{if(t)return i(t);const{destStat:l}=c;ct(l,s,a,o,(t=>t?i(t):ht(e,r,n,o,i)))})):ht(e,r,n,o,i)))}(e,i,t,r,n,o):o()}const pt=ke,yt=M,mt=We.mkdirsSync,gt=function(e,t,r){const n=Ge.openSync(e,"r+");return Ge.futimesSync(n,t,r),Ge.closeSync(n)},bt=et;function _t(e,t,r,n){const o=(n.dereference?pt.statSync:pt.lstatSync)(t);if(o.isDirectory())return function(e,t,r,n,o){return t?St(r,n,o):function(e,t,r,n){return pt.mkdirSync(r),St(t,r,n),wt(r,e)}(e.mode,r,n,o)}(o,e,t,r,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return function(e,t,r,n,o){return t?function(e,t,r,n){if(n.overwrite)return pt.unlinkSync(r),vt(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}(e,r,n,o):vt(e,r,n,o)}(o,e,t,r,n);if(o.isSymbolicLink())return function(e,t,r,n){let o=pt.readlinkSync(t);if(n.dereference&&(o=yt.resolve(process.cwd(),o)),e){let t;try{t=pt.readlinkSync(r)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return pt.symlinkSync(o,r);throw e}if(n.dereference&&(t=yt.resolve(process.cwd(),t)),bt.isSrcSubdir(o,t))throw new Error(`Cannot copy '${o}' to a subdirectory of itself, '${t}'.`);if(bt.isSrcSubdir(t,o))throw new Error(`Cannot overwrite '${t}' with '${o}'.`);return function(e,t){return pt.unlinkSync(t),pt.symlinkSync(e,t)}(o,r)}return pt.symlinkSync(o,r)}(e,t,r,n);if(o.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(o.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}function vt(e,t,r,n){return pt.copyFileSync(t,r),n.preserveTimestamps&&function(e,t,r){(function(e){return 0==(128&e)})(e)&&function(e,t){wt(e,128|t)}(r,e),function(e,t){const r=pt.statSync(e);gt(t,r.atime,r.mtime)}(t,r)}(e.mode,t,r),wt(r,e.mode)}function wt(e,t){return pt.chmodSync(e,t)}function St(e,t,r){pt.readdirSync(e).forEach((n=>function(e,t,r,n){const o=yt.join(t,e),i=yt.join(r,e);if(n.filter&&!n.filter(o,i))return;const{destStat:s}=bt.checkPathsSync(o,i,"copy",n);return _t(s,o,i,n)}(n,e,t,r)))}var Et={copy:(0,le.fromCallback)((function(e,t,r,n){"function"!=typeof r||n?"function"==typeof r&&(r={filter:r}):(n=r,r={}),n=n||function(){},(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001"),st.checkPaths(e,t,"copy",r,((o,i)=>{if(o)return n(o);const{srcStat:s,destStat:a}=i;st.checkParentPaths(e,s,t,"copy",(o=>{if(o)return n(o);at(e,t,r,((o,i)=>o?n(o):i?void function(e,t,r,n,o){const i=rt.dirname(r);ot(i,((s,a)=>s?o(s):a?ct(e,t,r,n,o):void nt(i,(i=>i?o(i):ct(e,t,r,n,o)))))}(a,e,t,r,n):n()))}))}))})),copySync:function(e,t,r){"function"==typeof r&&(r={filter:r}),(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:n,destStat:o}=bt.checkPathsSync(e,t,"copy",r);if(bt.checkParentPathsSync(e,n,t,"copy"),r.filter&&!r.filter(e,t))return;const i=yt.dirname(t);return pt.existsSync(i)||mt(i),_t(o,e,t,r)}};const Rt=ke;var At={remove:(0,le.fromCallback)((function(e,t){Rt.rm(e,{recursive:!0,force:!0},t)})),removeSync:function(e){Rt.rmSync(e,{recursive:!0,force:!0})}};const Tt=ce,Pt=M,kt=We,Ct=At,Ot=(0,le.fromPromise)((async function(e){let t;try{t=await Tt.readdir(e)}catch{return kt.mkdirs(e)}return Promise.all(t.map((t=>Ct.remove(Pt.join(e,t)))))}));function xt(e){let t;try{t=Tt.readdirSync(e)}catch{return kt.mkdirsSync(e)}t.forEach((t=>{t=Pt.join(e,t),Ct.removeSync(t)}))}var $t={emptyDirSync:xt,emptydirSync:xt,emptyDir:Ot,emptydir:Ot};const Lt=M,Ft=ke,Dt=We;var jt={createFile:(0,le.fromCallback)((function(e,t){function r(){Ft.writeFile(e,"",(e=>{if(e)return t(e);t()}))}Ft.stat(e,((n,o)=>{if(!n&&o.isFile())return t();const i=Lt.dirname(e);Ft.stat(i,((e,n)=>{if(e)return"ENOENT"===e.code?Dt.mkdirs(i,(e=>{if(e)return t(e);r()})):t(e);n.isDirectory()?r():Ft.readdir(i,(e=>{if(e)return t(e)}))}))}))})),createFileSync:function(e){let t;try{t=Ft.statSync(e)}catch{}if(t&&t.isFile())return;const r=Lt.dirname(e);try{Ft.statSync(r).isDirectory()||Ft.readdirSync(r)}catch(e){if(!e||"ENOENT"!==e.code)throw e;Dt.mkdirsSync(r)}Ft.writeFileSync(e,"")}};const Mt=le.fromCallback,Bt=M,It=ke,Nt=We,Ht=ze.pathExists,{areIdentical:qt}=et;var Wt={createLink:Mt((function(e,t,r){function n(e,t){It.link(e,t,(e=>{if(e)return r(e);r(null)}))}It.lstat(t,((o,i)=>{It.lstat(e,((o,s)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),r(o);if(i&&qt(s,i))return r(null);const a=Bt.dirname(t);Ht(a,((o,i)=>o?r(o):i?n(e,t):void Nt.mkdirs(a,(o=>{if(o)return r(o);n(e,t)}))))}))}))})),createLinkSync:function(e,t){let r;try{r=It.lstatSync(t)}catch{}try{const t=It.lstatSync(e);if(r&&qt(t,r))return}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const n=Bt.dirname(t);return It.existsSync(n)||Nt.mkdirsSync(n),It.linkSync(e,t)}};const Ut=M,zt=ke,Gt=ze.pathExists;var Vt=function(e,t,r){if(Ut.isAbsolute(e))return zt.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),r(t)):r(null,{toCwd:e,toDst:e})));{const n=Ut.dirname(t),o=Ut.join(n,e);return Gt(o,((t,i)=>t?r(t):i?r(null,{toCwd:o,toDst:e}):zt.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),r(t)):r(null,{toCwd:e,toDst:Ut.relative(n,e)})))))}},Kt=function(e,t){let r;if(Ut.isAbsolute(e)){if(r=zt.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const n=Ut.dirname(t),o=Ut.join(n,e);if(r=zt.existsSync(o),r)return{toCwd:o,toDst:e};if(r=zt.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:Ut.relative(n,e)}}};const Yt=ke;var Qt=function(e,t,r){if(r="function"==typeof t?t:r,t="function"!=typeof t&&t)return r(null,t);Yt.lstat(e,((e,n)=>{if(e)return r(null,"file");t=n&&n.isDirectory()?"dir":"file",r(null,t)}))},Xt=function(e,t){let r;if(t)return t;try{r=Yt.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"};const Jt=le.fromCallback,Zt=M,er=ce,tr=We.mkdirs,rr=We.mkdirsSync,nr=Vt,or=Kt,ir=Qt,sr=Xt,ar=ze.pathExists,{areIdentical:cr}=et;function lr(e,t,r,n){nr(e,t,((o,i)=>{if(o)return n(o);e=i.toDst,ir(i.toCwd,r,((r,o)=>{if(r)return n(r);const i=Zt.dirname(t);ar(i,((r,s)=>r?n(r):s?er.symlink(e,t,o,n):void tr(i,(r=>{if(r)return n(r);er.symlink(e,t,o,n)}))))}))}))}var ur={createSymlink:Jt((function(e,t,r,n){n="function"==typeof r?r:n,r="function"!=typeof r&&r,er.lstat(t,((o,i)=>{!o&&i.isSymbolicLink()?Promise.all([er.stat(e),er.stat(t)]).then((([o,i])=>{if(cr(o,i))return n(null);lr(e,t,r,n)})):lr(e,t,r,n)}))})),createSymlinkSync:function(e,t,r){let n;try{n=er.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const r=er.statSync(e),n=er.statSync(t);if(cr(r,n))return}const o=or(e,t);e=o.toDst,r=sr(o.toCwd,r);const i=Zt.dirname(t);return er.existsSync(i)||rr(i),er.symlinkSync(e,t,r)}};const{createFile:dr,createFileSync:fr}=jt,{createLink:hr,createLinkSync:pr}=Wt,{createSymlink:yr,createSymlinkSync:mr}=ur;var gr={createFile:dr,createFileSync:fr,ensureFile:dr,ensureFileSync:fr,createLink:hr,createLinkSync:pr,ensureLink:hr,ensureLinkSync:pr,createSymlink:yr,createSymlinkSync:mr,ensureSymlink:yr,ensureSymlinkSync:mr},br={stringify:function(e,{EOL:t="\n",finalEOL:r=!0,replacer:n=null,spaces:o}={}){const i=r?t:"";return JSON.stringify(e,n,o).replace(/\n/g,t)+i},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}};let _r;try{_r=ke}catch(e){_r=x}const vr=le,{stringify:wr,stripBom:Sr}=br,Er=vr.fromPromise((async function(e,t={}){"string"==typeof t&&(t={encoding:t});const r=t.fs||_r,n=!("throws"in t)||t.throws;let o,i=await vr.fromCallback(r.readFile)(e,t);i=Sr(i);try{o=JSON.parse(i,t?t.reviver:null)}catch(t){if(n)throw t.message=`${e}: ${t.message}`,t;return null}return o})),Rr=vr.fromPromise((async function(e,t,r={}){const n=r.fs||_r,o=wr(t,r);await vr.fromCallback(n.writeFile)(e,o,r)})),Ar={readFile:Er,readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const r=t.fs||_r,n=!("throws"in t)||t.throws;try{let n=r.readFileSync(e,t);return n=Sr(n),JSON.parse(n,t.reviver)}catch(t){if(n)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:Rr,writeFileSync:function(e,t,r={}){const n=r.fs||_r,o=wr(t,r);return n.writeFileSync(e,o,r)}};var Tr={readJson:Ar.readFile,readJsonSync:Ar.readFileSync,writeJson:Ar.writeFile,writeJsonSync:Ar.writeFileSync};const Pr=ke,kr=M,Cr=We,Or=ze.pathExists;var xr={outputFile:(0,le.fromCallback)((function(e,t,r,n){"function"==typeof r&&(n=r,r="utf8");const o=kr.dirname(e);Or(o,((i,s)=>i?n(i):s?Pr.writeFile(e,t,r,n):void Cr.mkdirs(o,(o=>{if(o)return n(o);Pr.writeFile(e,t,r,n)}))))})),outputFileSync:function(e,...t){const r=kr.dirname(e);if(Pr.existsSync(r))return Pr.writeFileSync(e,...t);Cr.mkdirsSync(r),Pr.writeFileSync(e,...t)}};const{stringify:$r}=br,{outputFile:Lr}=xr;const{stringify:Fr}=br,{outputFileSync:Dr}=xr;const jr=le.fromPromise,Mr=Tr;Mr.outputJson=jr((async function(e,t,r={}){const n=$r(t,r);await Lr(e,n,r)})),Mr.outputJsonSync=function(e,t,r){const n=Fr(t,r);Dr(e,n,r)},Mr.outputJSON=Mr.outputJson,Mr.outputJSONSync=Mr.outputJsonSync,Mr.writeJSON=Mr.writeJson,Mr.writeJSONSync=Mr.writeJsonSync,Mr.readJSON=Mr.readJson,Mr.readJSONSync=Mr.readJsonSync;var Br=Mr;const Ir=ke,Nr=M,Hr=Et.copy,qr=At.remove,Wr=We.mkdirp,Ur=ze.pathExists,zr=et;function Gr(e,t,r,n,o){return n?Vr(e,t,r,o):r?qr(t,(n=>n?o(n):Vr(e,t,r,o))):void Ur(t,((n,i)=>n?o(n):i?o(new Error("dest already exists.")):Vr(e,t,r,o)))}function Vr(e,t,r,n){Ir.rename(e,t,(o=>o?"EXDEV"!==o.code?n(o):function(e,t,r,n){Hr(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0},(t=>t?n(t):qr(e,n)))}(e,t,r,n):n()))}const Kr=ke,Yr=M,Qr=Et.copySync,Xr=At.removeSync,Jr=We.mkdirpSync,Zr=et;function en(e,t,r){try{Kr.renameSync(e,t)}catch(n){if("EXDEV"!==n.code)throw n;return function(e,t,r){return Qr(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),Xr(e)}(e,t,r)}}var tn={move:(0,le.fromCallback)((function(e,t,r,n){"function"==typeof r&&(n=r,r={});const o=(r=r||{}).overwrite||r.clobber||!1;zr.checkPaths(e,t,"move",r,((r,i)=>{if(r)return n(r);const{srcStat:s,isChangingCase:a=!1}=i;zr.checkParentPaths(e,s,t,"move",(r=>r?n(r):function(e){const t=Nr.dirname(e);return Nr.parse(t).root===t}(t)?Gr(e,t,o,a,n):void Wr(Nr.dirname(t),(r=>r?n(r):Gr(e,t,o,a,n)))))}))})),moveSync:function(e,t,r){const n=(r=r||{}).overwrite||r.clobber||!1,{srcStat:o,isChangingCase:i=!1}=Zr.checkPathsSync(e,t,"move",r);return Zr.checkParentPathsSync(e,o,t,"move"),function(e){const t=Yr.dirname(e);return Yr.parse(t).root===t}(t)||Jr(Yr.dirname(t)),function(e,t,r,n){if(n)return en(e,t,r);if(r)return Xr(t),en(e,t,r);if(Kr.existsSync(t))throw new Error("dest already exists.");return en(e,t,r)}(e,t,n,i)}};const rn=ae({...ce,...Et,...$t,...gr,...Br,...We,...tn,...xr,...ze,...At});function nn(e){return"number"==typeof e||!!/^0x[0-9a-f]+$/i.test(e)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function on(e,t){return"constructor"===t&&"function"==typeof e[t]||"__proto__"===t}const sn=ae((function(e,t){t||(t={});var r={bools:{},strings:{},unknownFn:null};"function"==typeof t.unknown&&(r.unknownFn=t.unknown),"boolean"==typeof t.boolean&&t.boolean?r.allBools=!0:[].concat(t.boolean).filter(Boolean).forEach((function(e){r.bools[e]=!0}));var n={};function o(e){return n[e].some((function(e){return r.bools[e]}))}Object.keys(t.alias||{}).forEach((function(e){n[e]=[].concat(t.alias[e]),n[e].forEach((function(t){n[t]=[e].concat(n[e].filter((function(e){return t!==e})))}))})),[].concat(t.string).filter(Boolean).forEach((function(e){r.strings[e]=!0,n[e]&&[].concat(n[e]).forEach((function(e){r.strings[e]=!0}))}));var i=t.default||{},s={_:[]};function a(e,t,n){for(var o=e,i=0;i<t.length-1;i++){var s=t[i];if(on(o,s))return;void 0===o[s]&&(o[s]={}),o[s]!==Object.prototype&&o[s]!==Number.prototype&&o[s]!==String.prototype||(o[s]={}),o[s]===Array.prototype&&(o[s]=[]),o=o[s]}var a=t[t.length-1];on(o,a)||(o!==Object.prototype&&o!==Number.prototype&&o!==String.prototype||(o={}),o===Array.prototype&&(o=[]),void 0===o[a]||r.bools[a]||"boolean"==typeof o[a]?o[a]=n:Array.isArray(o[a])?o[a].push(n):o[a]=[o[a],n])}function c(e,t,o){if(!o||!r.unknownFn||function(e,t){return r.allBools&&/^--[^=]+$/.test(t)||r.strings[e]||r.bools[e]||n[e]}(e,o)||!1!==r.unknownFn(o)){var i=!r.strings[e]&&nn(t)?Number(t):t;a(s,e.split("."),i),(n[e]||[]).forEach((function(e){a(s,e.split("."),i)}))}}Object.keys(r.bools).forEach((function(e){c(e,void 0!==i[e]&&i[e])}));var l=[];-1!==e.indexOf("--")&&(l=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var u=0;u<e.length;u++){var d,f,h=e[u];if(/^--.+=/.test(h)){var p=h.match(/^--([^=]+)=([\s\S]*)$/);d=p[1];var y=p[2];r.bools[d]&&(y="false"!==y),c(d,y,h)}else if(/^--no-.+/.test(h))c(d=h.match(/^--no-(.+)/)[1],!1,h);else if(/^--.+/.test(h))d=h.match(/^--(.+)/)[1],void 0===(f=e[u+1])||/^(-|--)[^-]/.test(f)||r.bools[d]||r.allBools||n[d]&&o(d)?/^(true|false)$/.test(f)?(c(d,"true"===f,h),u+=1):c(d,!r.strings[d]||"",h):(c(d,f,h),u+=1);else if(/^-[^-]+/.test(h)){for(var m=h.slice(1,-1).split(""),g=!1,b=0;b<m.length;b++)if("-"!==(f=h.slice(b+2))){if(/[A-Za-z]/.test(m[b])&&"="===f[0]){c(m[b],f.slice(1),h),g=!0;break}if(/[A-Za-z]/.test(m[b])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(f)){c(m[b],f,h),g=!0;break}if(m[b+1]&&m[b+1].match(/\W/)){c(m[b],h.slice(b+2),h),g=!0;break}c(m[b],!r.strings[m[b]]||"",h)}else c(m[b],f,h);d=h.slice(-1)[0],g||"-"===d||(!e[u+1]||/^(-|--)[^-]/.test(e[u+1])||r.bools[d]||n[d]&&o(d)?e[u+1]&&/^(true|false)$/.test(e[u+1])?(c(d,"true"===e[u+1],h),u+=1):c(d,!r.strings[d]||"",h):(c(d,e[u+1],h),u+=1))}else if(r.unknownFn&&!1===r.unknownFn(h)||s._.push(r.strings._||!nn(h)?h:Number(h)),t.stopEarly){s._.push.apply(s._,e.slice(u+1));break}}return Object.keys(i).forEach((function(e){var t,r,o;t=s,r=e.split("."),o=t,r.slice(0,-1).forEach((function(e){o=o[e]||{}})),r[r.length-1]in o||(a(s,e.split("."),i[e]),(n[e]||[]).forEach((function(t){a(s,t.split("."),i[e])})))})),t["--"]?s["--"]=l.slice():l.forEach((function(e){s._.push(e)})),s})),an=$.PassThrough,cn=Array.prototype.slice;var ln=function(){const e=[],t=cn.call(arguments);let r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&null==n.pipe?t.pop():n={};const o=!1!==n.end,i=!0===n.pipeError;null==n.objectMode&&(n.objectMode=!0),null==n.highWaterMark&&(n.highWaterMark=65536);const s=an(n);function a(){for(let t=0,r=arguments.length;t<r;t++)e.push(un(arguments[t],n));return c(),this}function c(){if(r)return;r=!0;let t=e.shift();if(!t)return void process.nextTick(l);Array.isArray(t)||(t=[t]);let n=t.length+1;function o(){--n>0||(r=!1,c())}function a(e){function t(){e.removeListener("merge2UnpipeEnd",t),e.removeListener("end",t),i&&e.removeListener("error",r),o()}function r(e){s.emit("error",e)}if(e._readableState.endEmitted)return o();e.on("merge2UnpipeEnd",t),e.on("end",t),i&&e.on("error",r),e.pipe(s,{end:!1}),e.resume()}for(let e=0;e<t.length;e++)a(t[e]);o()}function l(){r=!1,s.emit("queueDrain"),o&&s.end()}return s.setMaxListeners(0),s.add=a,s.on("unpipe",(function(e){e.emit("merge2UnpipeEnd")})),t.length&&a.apply(null,t),s};function un(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=un(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(an(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}const dn=ae(ln);var fn={},hn={},pn={};Object.defineProperty(pn,"__esModule",{value:!0}),pn.splitWhen=pn.flatten=void 0,pn.flatten=function(e){return e.reduce(((e,t)=>[].concat(e,t)),[])},pn.splitWhen=function(e,t){const r=[[]];let n=0;for(const o of e)t(o)?(n++,r[n]=[]):r[n].push(o);return r};var yn={};Object.defineProperty(yn,"__esModule",{value:!0}),yn.isEnoentCodeError=void 0,yn.isEnoentCodeError=function(e){return"ENOENT"===e.code};var mn={};Object.defineProperty(mn,"__esModule",{value:!0}),mn.createDirentFromStats=void 0;let gn=class{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}};mn.createDirentFromStats=function(e,t){return new gn(e,t)};var bn={};Object.defineProperty(bn,"__esModule",{value:!0}),bn.removeLeadingDotSegment=bn.escape=bn.makeAbsolute=bn.unixify=void 0;const _n=M,vn=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;bn.unixify=function(e){return e.replace(/\\/g,"/")},bn.makeAbsolute=function(e,t){return _n.resolve(e,t)},bn.escape=function(e){return e.replace(vn,"\\$2")},bn.removeLeadingDotSegment=function(e){if("."===e.charAt(0)){const t=e.charAt(1);if("/"===t||"\\"===t)return e.slice(2)}return e};var wn={},Sn={"{":"}","(":")","[":"]"},En=function(e){if("!"===e[0])return!0;for(var t=0,r=-2,n=-2,o=-2,i=-2,s=-2;t<e.length;){if("*"===e[t])return!0;if("?"===e[t+1]&&/[\].+)]/.test(e[t]))return!0;if(-1!==n&&"["===e[t]&&"]"!==e[t+1]&&(n<t&&(n=e.indexOf("]",t)),n>t)){if(-1===s||s>n)return!0;if(-1===(s=e.indexOf("\\",t))||s>n)return!0}if(-1!==o&&"{"===e[t]&&"}"!==e[t+1]&&(o=e.indexOf("}",t))>t&&(-1===(s=e.indexOf("\\",t))||s>o))return!0;if(-1!==i&&"("===e[t]&&"?"===e[t+1]&&/[:!=]/.test(e[t+2])&&")"!==e[t+3]&&(i=e.indexOf(")",t))>t&&(-1===(s=e.indexOf("\\",t))||s>i))return!0;if(-1!==r&&"("===e[t]&&"|"!==e[t+1]&&(r<t&&(r=e.indexOf("|",t)),-1!==r&&")"!==e[r+1]&&(i=e.indexOf(")",r))>r&&(-1===(s=e.indexOf("\\",r))||s>i)))return!0;if("\\"===e[t]){var a=e[t+1];t+=2;var c=Sn[a];if(c){var l=e.indexOf(c,t);-1!==l&&(t=l+1)}if("!"===e[t])return!0}else t++}return!1},Rn=function(e){if("!"===e[0])return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if("\\"===e[t]){var r=e[t+1];t+=2;var n=Sn[r];if(n){var o=e.indexOf(n,t);-1!==o&&(t=o+1)}if("!"===e[t])return!0}else t++}return!1},An=function(e,t){if("string"!=typeof e||""===e)return!1;if(function(e){if("string"!=typeof e||""===e)return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}(e))return!0;var r=En;return t&&!1===t.strict&&(r=Rn),r(e)},Tn=M.posix.dirname,Pn="win32"===W.platform(),kn=/\\/g,Cn=/[\{\[].*[\}\]]$/,On=/(^|[^\\])([\{\[]|\([^\)]+$)/,xn=/\\([\!\*\?\|\[\]\(\)\{\}])/g,$n={};
/*!
		 * is-extglob <https://github.com/jonschlinkert/is-extglob>
		 *
		 * Copyright (c) 2014-2016, Jon Schlinkert.
		 * Licensed under the MIT License.
		 */!function(e){e.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),e.find=(e,t)=>e.nodes.find((e=>e.type===t)),e.exceedsLimit=(t,r,n=1,o)=>!1!==o&&!(!e.isInteger(t)||!e.isInteger(r))&&(Number(r)-Number(t))/Number(n)>=o,e.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||"open"===n.type||"close"===n.type)&&!0!==n.escaped&&(n.value="\\"+n.value,n.escaped=!0)},e.encloseBrace=e=>"brace"===e.type&&e.commas>>0+e.ranges>>0==0&&(e.invalid=!0,!0),e.isInvalidBrace=e=>!("brace"!==e.type||!0!==e.invalid&&!e.dollar&&(e.commas>>0+e.ranges>>0!=0&&!0===e.open&&!0===e.close||(e.invalid=!0,0))),e.isOpenOrClose=e=>"open"===e.type||"close"===e.type||!0===e.open||!0===e.close,e.reduce=e=>e.reduce(((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e)),[]),e.flatten=(...e)=>{const t=[],r=e=>{for(let n=0;n<e.length;n++){let o=e[n];Array.isArray(o)?r(o):void 0!==o&&t.push(o)}return t};return r(e),t}}($n);const Ln=$n;var Fn=(e,t={})=>{let r=(e,n={})=>{let o=t.escapeInvalid&&Ln.isInvalidBrace(n),i=!0===e.invalid&&!0===t.escapeInvalid,s="";if(e.value)return(o||i)&&Ln.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(let t of e.nodes)s+=r(t);return s};return r(e)};
/*!
		 * is-number <https://github.com/jonschlinkert/is-number>
		 *
		 * Copyright (c) 2014-present, Jon Schlinkert.
		 * Released under the MIT License.
		 */
/*!
		 * to-regex-range <https://github.com/micromatch/to-regex-range>
		 *
		 * Copyright (c) 2015-present, Jon Schlinkert.
		 * Released under the MIT License.
		 */const Dn=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))},jn=(e,t,r)=>{if(!1===Dn(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===Dn(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};"boolean"==typeof n.strictZeros&&(n.relaxZeros=!1===n.strictZeros);let o=e+":"+t+"="+String(n.relaxZeros)+String(n.shorthand)+String(n.capture)+String(n.wrap);if(jn.cache.hasOwnProperty(o))return jn.cache[o].result;let i=Math.min(e,t),s=Math.max(e,t);if(1===Math.abs(i-s)){let r=e+"|"+t;return n.capture?`(${r})`:!1===n.wrap?r:`(?:${r})`}let a=Gn(e)||Gn(t),c={min:e,max:t,a:i,b:s},l=[],u=[];return a&&(c.isPadded=a,c.maxLen=String(c.max).length),i<0&&(u=Bn(s<0?Math.abs(s):1,Math.abs(i),c,n),i=c.a=0),s>=0&&(l=Bn(i,s,c,n)),c.negatives=u,c.positives=l,c.result=function(e,t,r){let n=In(e,t,"-",!1)||[],o=In(t,e,"",!1)||[],i=In(e,t,"-?",!0)||[];return n.concat(i).concat(o).join("|")}(u,l),!0===n.capture?c.result=`(${c.result})`:!1!==n.wrap&&l.length+u.length>1&&(c.result=`(?:${c.result})`),jn.cache[o]=c,c.result};function Mn(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=function(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}(e,t),o=n.length,i="",s=0;for(let e=0;e<o;e++){let[t,r]=n[e];t===r?i+=t:"0"!==t||"9"!==r?i+=zn(t,r):s++}return s&&(i+=!0===r.shorthand?"\\d":"[0-9]"),{pattern:i,count:[s],digits:o}}function Bn(e,t,r,n){let o,i=function(e,t){let r=1,n=1,o=qn(e,r),i=new Set([t]);for(;e<=o&&o<=t;)i.add(o),r+=1,o=qn(e,r);for(o=Wn(t+1,n)-1;e<o&&o<=t;)i.add(o),n+=1,o=Wn(t+1,n)-1;return i=[...i],i.sort(Nn),i}(e,t),s=[],a=e;for(let e=0;e<i.length;e++){let t=i[e],c=Mn(String(a),String(t),n),l="";r.isPadded||!o||o.pattern!==c.pattern?(r.isPadded&&(l=Vn(t,r,n)),c.string=l+c.pattern+Un(c.count),s.push(c),a=t+1,o=c):(o.count.length>1&&o.count.pop(),o.count.push(c.count[0]),o.string=o.pattern+Un(o.count),a=t+1)}return s}function In(e,t,r,n,o){let i=[];for(let o of e){let{string:e}=o;n||Hn(t,"string",e)||i.push(r+e),n&&Hn(t,"string",e)&&i.push(r+e)}return i}function Nn(e,t){return e>t?1:t>e?-1:0}function Hn(e,t,r){return e.some((e=>e[t]===r))}function qn(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function Wn(e,t){return e-e%Math.pow(10,t)}function Un(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function zn(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function Gn(e){return/^-?(0+)\d/.test(e)}function Vn(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),o=!1!==r.relaxZeros;switch(n){case 0:return"";case 1:return o?"0?":"0";case 2:return o?"0{0,2}":"00";default:return o?`0{0,${n}}`:`0{${n}}`}}jn.cache={},jn.clearCache=()=>jn.cache={}
/*!
		 * fill-range <https://github.com/jonschlinkert/fill-range>
		 *
		 * Copyright (c) 2014-present, Jon Schlinkert.
		 * Licensed under the MIT License.
		 */;const Kn=D,Yn=jn,Qn=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),Xn=e=>"number"==typeof e||"string"==typeof e&&""!==e,Jn=e=>Number.isInteger(+e),Zn=e=>{let t=`${e}`,r=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++r];);return r>0},eo=(e,t,r)=>{if(t>0){let r="-"===e[0]?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return!1===r?String(e):e},to=(e,t)=>{let r="-"===e[0]?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},ro=(e,t,r,n)=>{if(r)return Yn(e,t,{wrap:!1,...n});let o=String.fromCharCode(e);return e===t?o:`[${o}-${String.fromCharCode(t)}]`},no=(e,t,r)=>{if(Array.isArray(e)){let t=!0===r.wrap,n=r.capture?"":"?:";return t?`(${n}${e.join("|")})`:e.join("|")}return Yn(e,t,r)},oo=(...e)=>new RangeError("Invalid range arguments: "+Kn.inspect(...e)),io=(e,t,r)=>{if(!0===r.strictRanges)throw oo([e,t]);return[]},so=(e,t,r,n={})=>{if(null==t&&Xn(e))return[e];if(!Xn(e)||!Xn(t))return io(e,t,n);if("function"==typeof r)return so(e,t,1,{transform:r});if(Qn(r))return so(e,t,0,r);let o={...n};return!0===o.capture&&(o.wrap=!0),r=r||o.step||1,Jn(r)?Jn(e)&&Jn(t)?((e,t,r=1,n={})=>{let o=Number(e),i=Number(t);if(!Number.isInteger(o)||!Number.isInteger(i)){if(!0===n.strictRanges)throw oo([e,t]);return[]}0===o&&(o=0),0===i&&(i=0);let s=o>i,a=String(e),c=String(t),l=String(r);r=Math.max(Math.abs(r),1);let u=Zn(a)||Zn(c)||Zn(l),d=u?Math.max(a.length,c.length,l.length):0,f=!1===u&&!1===((e,t,r)=>"string"==typeof e||"string"==typeof t||!0===r.stringify)(e,t,n),h=n.transform||(e=>t=>!0===e?Number(t):String(t))(f);if(n.toRegex&&1===r)return ro(to(e,d),to(t,d),!0,n);let p={negatives:[],positives:[]},y=[],m=0;for(;s?o>=i:o<=i;)!0===n.toRegex&&r>1?p[(g=o)<0?"negatives":"positives"].push(Math.abs(g)):y.push(eo(h(o,m),d,f)),o=s?o-r:o+r,m++;var g;return!0===n.toRegex?r>1?((e,t)=>{e.negatives.sort(((e,t)=>e<t?-1:e>t?1:0)),e.positives.sort(((e,t)=>e<t?-1:e>t?1:0));let r,n=t.capture?"":"?:",o="",i="";return e.positives.length&&(o=e.positives.join("|")),e.negatives.length&&(i=`-(${n}${e.negatives.join("|")})`),r=o&&i?`${o}|${i}`:o||i,t.wrap?`(${n}${r})`:r})(p,n):no(y,null,{wrap:!1,...n}):y})(e,t,r,o):((e,t,r=1,n={})=>{if(!Jn(e)&&e.length>1||!Jn(t)&&t.length>1)return io(e,t,n);let o=n.transform||(e=>String.fromCharCode(e)),i=`${e}`.charCodeAt(0),s=`${t}`.charCodeAt(0),a=i>s,c=Math.min(i,s),l=Math.max(i,s);if(n.toRegex&&1===r)return ro(c,l,!1,n);let u=[],d=0;for(;a?i>=s:i<=s;)u.push(o(i,d)),i=a?i-r:i+r,d++;return!0===n.toRegex?no(u,null,{wrap:!1,options:n}):u})(e,t,Math.max(Math.abs(r),1),o):null==r||Qn(r)?so(e,t,1,r):((e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]})(r,o)},ao=so,co=$n;const lo=so,uo=Fn,fo=$n,ho=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return r?fo.flatten(t).map((e=>`{${e}}`)):t;for(let o of e)if(Array.isArray(o))for(let e of o)n.push(ho(e,t,r));else for(let e of t)!0===r&&"string"==typeof e&&(e=`{${e}}`),n.push(Array.isArray(e)?ho(o,e,r):o+e);return fo.flatten(n)};const po=Fn,{MAX_LENGTH:yo,CHAR_BACKSLASH:mo,CHAR_BACKTICK:go,CHAR_COMMA:bo,CHAR_DOT:_o,CHAR_LEFT_PARENTHESES:vo,CHAR_RIGHT_PARENTHESES:wo,CHAR_LEFT_CURLY_BRACE:So,CHAR_RIGHT_CURLY_BRACE:Eo,CHAR_LEFT_SQUARE_BRACKET:Ro,CHAR_RIGHT_SQUARE_BRACKET:Ao,CHAR_DOUBLE_QUOTE:To,CHAR_SINGLE_QUOTE:Po,CHAR_NO_BREAK_SPACE:ko,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Co}={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:"Â ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"};const Oo=Fn,xo=(e,t={})=>{let r=(e,n={})=>{let o=co.isInvalidBrace(n),i=!0===e.invalid&&!0===t.escapeInvalid,s=!0===o||!0===i,a=!0===t.escapeInvalid?"\\":"",c="";if(!0===e.isOpen)return a+e.value;if(!0===e.isClose)return a+e.value;if("open"===e.type)return s?a+e.value:"(";if("close"===e.type)return s?a+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":s?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){let r=co.reduce(e.nodes),n=ao(...r,{...t,wrap:!1,toRegex:!0});if(0!==n.length)return r.length>1&&n.length>1?`(${n})`:n}if(e.nodes)for(let t of e.nodes)c+=r(t,e);return c};return r(e)},$o=(e,t={})=>{let r=void 0===t.rangeLimit?1e3:t.rangeLimit,n=(e,o={})=>{e.queue=[];let i=o,s=o.queue;for(;"brace"!==i.type&&"root"!==i.type&&i.parent;)i=i.parent,s=i.queue;if(e.invalid||e.dollar)return void s.push(ho(s.pop(),uo(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void s.push(ho(s.pop(),["{}"]));if(e.nodes&&e.ranges>0){let n=fo.reduce(e.nodes);if(fo.exceedsLimit(...n,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let o=lo(...n,t);return 0===o.length&&(o=uo(e,t)),s.push(ho(s.pop(),o)),void(e.nodes=[])}let a=fo.encloseBrace(e),c=e.queue,l=e;for(;"brace"!==l.type&&"root"!==l.type&&l.parent;)l=l.parent,c=l.queue;for(let t=0;t<e.nodes.length;t++){let r=e.nodes[t];"comma"!==r.type||"brace"!==e.type?"close"!==r.type?r.value&&"open"!==r.type?c.push(ho(c.pop(),r.value)):r.nodes&&n(r,e):s.push(ho(s.pop(),c,a)):(1===t&&c.push(""),c.push(""))}return c};return fo.flatten(n(e))},Lo=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");let r=t||{},n="number"==typeof r.maxLength?Math.min(yo,r.maxLength):yo;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let o,i={type:"root",input:e,nodes:[]},s=[i],a=i,c=i,l=0,u=e.length,d=0,f=0;const h=()=>e[d++],p=e=>{if("text"===e.type&&"dot"===c.type&&(c.type="text"),!c||"text"!==c.type||"text"!==e.type)return a.nodes.push(e),e.parent=a,e.prev=c,c=e,e;c.value+=e.value};for(p({type:"bos"});d<u;)if(a=s[s.length-1],o=h(),o!==Co&&o!==ko)if(o!==mo)if(o!==Ao)if(o!==Ro)if(o!==vo)if(o!==wo)if(o!==To&&o!==Po&&o!==go)if(o!==So)if(o!==Eo)if(o===bo&&f>0){if(a.ranges>0){a.ranges=0;let e=a.nodes.shift();a.nodes=[e,{type:"text",value:po(a)}]}p({type:"comma",value:o}),a.commas++}else if(o===_o&&f>0&&0===a.commas){let e=a.nodes;if(0===f||0===e.length){p({type:"text",value:o});continue}if("dot"===c.type){if(a.range=[],c.value+=o,c.type="range",3!==a.nodes.length&&5!==a.nodes.length){a.invalid=!0,a.ranges=0,c.type="text";continue}a.ranges++,a.args=[];continue}if("range"===c.type){e.pop();let t=e[e.length-1];t.value+=c.value+o,c=t,a.ranges--;continue}p({type:"dot",value:o})}else p({type:"text",value:o});else{if("brace"!==a.type){p({type:"text",value:o});continue}let e="close";a=s.pop(),a.close=!0,p({type:e,value:o}),f--,a=s[s.length-1]}else{f++;let e=c.value&&"$"===c.value.slice(-1)||!0===a.dollar;a=p({type:"brace",open:!0,close:!1,dollar:e,depth:f,commas:0,ranges:0,nodes:[]}),s.push(a),p({type:"open",value:o})}else{let e,r=o;for(!0!==t.keepQuotes&&(o="");d<u&&(e=h());)if(e!==mo){if(e===r){!0===t.keepQuotes&&(o+=e);break}o+=e}else o+=e+h();p({type:"text",value:o})}else{if("paren"!==a.type){p({type:"text",value:o});continue}a=s.pop(),p({type:"text",value:o}),a=s[s.length-1]}else a=p({type:"paren",nodes:[]}),s.push(a),p({type:"text",value:o});else{let e;for(l++;d<u&&(e=h());)if(o+=e,e!==Ro)if(e!==mo){if(e===Ao&&(l--,0===l))break}else o+=h();else l++;p({type:"text",value:o})}else p({type:"text",value:"\\"+o});else p({type:"text",value:(t.keepEscaping?o:"")+h()});do{if(a=s.pop(),"root"!==a.type){a.nodes.forEach((e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)}));let e=s[s.length-1],t=e.nodes.indexOf(a);e.nodes.splice(t,1,...a.nodes)}}while(s.length>0);return p({type:"eos"}),i},Fo=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let e=Fo.create(n,t);Array.isArray(e)?r.push(...e):r.push(e)}else r=[].concat(Fo.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(r=[...new Set(r)]),r};Fo.parse=(e,t={})=>Lo(e,t),Fo.stringify=(e,t={})=>Oo("string"==typeof e?Fo.parse(e,t):e,t),Fo.compile=(e,t={})=>("string"==typeof e&&(e=Fo.parse(e,t)),xo(e,t)),Fo.expand=(e,t={})=>{"string"==typeof e&&(e=Fo.parse(e,t));let r=$o(e,t);return!0===t.noempty&&(r=r.filter(Boolean)),!0===t.nodupes&&(r=[...new Set(r)]),r},Fo.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?Fo.compile(e,t):Fo.expand(e,t);var Do=Fo,jo={};const Mo=M,Bo="\\\\/",Io=`[^${Bo}]`,No="\\.",Ho="\\/",qo="[^/]",Wo=`(?:${Ho}|$)`,Uo=`(?:^|${Ho})`,zo=`${No}{1,2}${Wo}`,Go={DOT_LITERAL:No,PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:Ho,ONE_CHAR:"(?=.)",QMARK:qo,END_ANCHOR:Wo,DOTS_SLASH:zo,NO_DOT:`(?!${No})`,NO_DOTS:`(?!${Uo}${zo})`,NO_DOT_SLASH:`(?!${No}{0,1}${Wo})`,NO_DOTS_SLASH:`(?!${zo})`,QMARK_NO_DOT:`[^.${Ho}]`,STAR:`${qo}*?`,START_ANCHOR:Uo},Vo={...Go,SLASH_LITERAL:`[${Bo}]`,QMARK:Io,STAR:`${Io}*?`,DOTS_SLASH:`${No}{1,2}(?:[${Bo}]|$)`,NO_DOT:`(?!${No})`,NO_DOTS:`(?!(?:^|[${Bo}])${No}{1,2}(?:[${Bo}]|$))`,NO_DOT_SLASH:`(?!${No}{0,1}(?:[${Bo}]|$))`,NO_DOTS_SLASH:`(?!${No}{1,2}(?:[${Bo}]|$))`,QMARK_NO_DOT:`[^.${Bo}]`,START_ANCHOR:`(?:^|[${Bo}])`,END_ANCHOR:`(?:[${Bo}]|$)`};var Ko={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Mo.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?Vo:Go};!function(e){const t=M,r="win32"===process.platform,{REGEX_BACKSLASH:n,REGEX_REMOVE_BACKSLASH:o,REGEX_SPECIAL_CHARS:i,REGEX_SPECIAL_CHARS_GLOBAL:s}=Ko;e.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),e.hasRegexChars=e=>i.test(e),e.isRegexChar=t=>1===t.length&&e.hasRegexChars(t),e.escapeRegex=e=>e.replace(s,"\\$1"),e.toPosixSlashes=e=>e.replace(n,"/"),e.removeBackslashes=e=>e.replace(o,(e=>"\\"===e?"":e)),e.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);return 3===e.length&&e[0]>=9||8===e[0]&&e[1]>=10},e.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===r||"\\"===t.sep,e.escapeLast=(t,r,n)=>{const o=t.lastIndexOf(r,n);return-1===o?t:"\\"===t[o-1]?e.escapeLast(t,r,o-1):`${t.slice(0,o)}\\${t.slice(o)}`},e.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r},e.wrapOutput=(e,t={},r={})=>{let n=`${r.contains?"":"^"}(?:${e})${r.contains?"":"$"}`;return!0===t.negated&&(n=`(?:^(?!${n}).*$)`),n}}(jo);const Yo=jo,{CHAR_ASTERISK:Qo,CHAR_AT:Xo,CHAR_BACKWARD_SLASH:Jo,CHAR_COMMA:Zo,CHAR_DOT:ei,CHAR_EXCLAMATION_MARK:ti,CHAR_FORWARD_SLASH:ri,CHAR_LEFT_CURLY_BRACE:ni,CHAR_LEFT_PARENTHESES:oi,CHAR_LEFT_SQUARE_BRACKET:ii,CHAR_PLUS:si,CHAR_QUESTION_MARK:ai,CHAR_RIGHT_CURLY_BRACE:ci,CHAR_RIGHT_PARENTHESES:li,CHAR_RIGHT_SQUARE_BRACKET:ui}=Ko,di=e=>e===ri||e===Jo,fi=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};const hi=Ko,pi=jo,{MAX_LENGTH:yi,POSIX_REGEX_SOURCE:mi,REGEX_NON_SPECIAL_CHARS:gi,REGEX_SPECIAL_CHARS_BACKREF:bi,REPLACEMENTS:_i}=hi,vi=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map((e=>pi.escapeRegex(e))).join("..")}return r},wi=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Si=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=_i[e]||e;const r={...t},n="number"==typeof r.maxLength?Math.min(yi,r.maxLength):yi;let o=e.length;if(o>n)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${n}`);const i={type:"bos",value:"",output:r.prepend||""},s=[i],a=r.capture?"":"?:",c=pi.isWindows(t),l=hi.globChars(c),u=hi.extglobChars(l),{DOT_LITERAL:d,PLUS_LITERAL:f,SLASH_LITERAL:h,ONE_CHAR:p,DOTS_SLASH:y,NO_DOT:m,NO_DOT_SLASH:g,NO_DOTS_SLASH:b,QMARK:_,QMARK_NO_DOT:v,STAR:w,START_ANCHOR:S}=l,E=e=>`(${a}(?:(?!${S}${e.dot?y:d}).)*?)`,R=r.dot?"":m,A=r.dot?_:v;let T=!0===r.bash?E(r):w;r.capture&&(T=`(${T})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);const P={input:e,index:-1,start:0,dot:!0===r.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};e=pi.removePrefix(e,P),o=e.length;const k=[],C=[],O=[];let x,$=i;const L=()=>P.index===o-1,F=P.peek=(t=1)=>e[P.index+t],D=P.advance=()=>e[++P.index]||"",j=()=>e.slice(P.index+1),M=(e="",t=0)=>{P.consumed+=e,P.index+=t},B=e=>{P.output+=null!=e.output?e.output:e.value,M(e.value)},I=()=>{let e=1;for(;"!"===F()&&("("!==F(2)||"?"===F(3));)D(),P.start++,e++;return e%2!=0&&(P.negated=!0,P.start++,!0)},N=e=>{P[e]++,O.push(e)},H=e=>{P[e]--,O.pop()},q=e=>{if("globstar"===$.type){const t=P.braces>0&&("comma"===e.type||"brace"===e.type),r=!0===e.extglob||k.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(P.output=P.output.slice(0,-$.output.length),$.type="star",$.value="*",$.output=T,P.output+=$.output)}if(k.length&&"paren"!==e.type&&(k[k.length-1].inner+=e.value),(e.value||e.output)&&B(e),$&&"text"===$.type&&"text"===e.type)return $.value+=e.value,void($.output=($.output||"")+e.value);e.prev=$,s.push(e),$=e},W=(e,t)=>{const n={...u[t],conditions:1,inner:""};n.prev=$,n.parens=P.parens,n.output=P.output;const o=(r.capture?"(":"")+n.open;N("parens"),q({type:e,value:t,output:P.output?"":p}),q({type:"paren",extglob:!0,value:D(),output:o}),k.push(n)},U=e=>{let n,o=e.close+(r.capture?")":"");if("negate"===e.type){let i=T;if(e.inner&&e.inner.length>1&&e.inner.includes("/")&&(i=E(r)),(i!==T||L()||/^\)+$/.test(j()))&&(o=e.close=`)$))${i}`),e.inner.includes("*")&&(n=j())&&/^\.[^\\/.]+$/.test(n)){const r=Si(n,{...t,fastpaths:!1}).output;o=e.close=`)${r})${i})`}"bos"===e.prev.type&&(P.negatedExtglob=!0)}q({type:"paren",extglob:!0,value:x,output:o}),H("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let n=!1,o=e.replace(bi,((e,t,r,o,i,s)=>"\\"===o?(n=!0,e):"?"===o?t?t+o+(i?_.repeat(i.length):""):0===s?A+(i?_.repeat(i.length):""):_.repeat(r.length):"."===o?d.repeat(r.length):"*"===o?t?t+o+(i?T:""):T:t?e:`\\${e}`));return!0===n&&(o=!0===r.unescape?o.replace(/\\/g,""):o.replace(/\\+/g,(e=>e.length%2==0?"\\\\":e?"\\":""))),o===e&&!0===r.contains?(P.output=e,P):(P.output=pi.wrapOutput(o,P,t),P)}for(;!L();){if(x=D(),"\0"===x)continue;if("\\"===x){const e=F();if("/"===e&&!0!==r.bash)continue;if("."===e||";"===e)continue;if(!e){x+="\\",q({type:"text",value:x});continue}const t=/^\\+/.exec(j());let n=0;if(t&&t[0].length>2&&(n=t[0].length,P.index+=n,n%2!=0&&(x+="\\")),!0===r.unescape?x=D():x+=D(),0===P.brackets){q({type:"text",value:x});continue}}if(P.brackets>0&&("]"!==x||"["===$.value||"[^"===$.value)){if(!1!==r.posix&&":"===x){const e=$.value.slice(1);if(e.includes("[")&&($.posix=!0,e.includes(":"))){const e=$.value.lastIndexOf("["),t=$.value.slice(0,e),r=$.value.slice(e+2),n=mi[r];if(n){$.value=t+n,P.backtrack=!0,D(),i.output||1!==s.indexOf($)||(i.output=p);continue}}}("["===x&&":"!==F()||"-"===x&&"]"===F())&&(x=`\\${x}`),"]"!==x||"["!==$.value&&"[^"!==$.value||(x=`\\${x}`),!0===r.posix&&"!"===x&&"["===$.value&&(x="^"),$.value+=x,B({value:x});continue}if(1===P.quotes&&'"'!==x){x=pi.escapeRegex(x),$.value+=x,B({value:x});continue}if('"'===x){P.quotes=1===P.quotes?0:1,!0===r.keepQuotes&&q({type:"text",value:x});continue}if("("===x){N("parens"),q({type:"paren",value:x});continue}if(")"===x){if(0===P.parens&&!0===r.strictBrackets)throw new SyntaxError(wi("opening","("));const e=k[k.length-1];if(e&&P.parens===e.parens+1){U(k.pop());continue}q({type:"paren",value:x,output:P.parens?")":"\\)"}),H("parens");continue}if("["===x){if(!0!==r.nobracket&&j().includes("]"))N("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(wi("closing","]"));x=`\\${x}`}q({type:"bracket",value:x});continue}if("]"===x){if(!0===r.nobracket||$&&"bracket"===$.type&&1===$.value.length){q({type:"text",value:x,output:`\\${x}`});continue}if(0===P.brackets){if(!0===r.strictBrackets)throw new SyntaxError(wi("opening","["));q({type:"text",value:x,output:`\\${x}`});continue}H("brackets");const e=$.value.slice(1);if(!0===$.posix||"^"!==e[0]||e.includes("/")||(x=`/${x}`),$.value+=x,B({value:x}),!1===r.literalBrackets||pi.hasRegexChars(e))continue;const t=pi.escapeRegex($.value);if(P.output=P.output.slice(0,-$.value.length),!0===r.literalBrackets){P.output+=t,$.value=t;continue}$.value=`(${a}${t}|${$.value})`,P.output+=$.value;continue}if("{"===x&&!0!==r.nobrace){N("braces");const e={type:"brace",value:x,output:"(",outputIndex:P.output.length,tokensIndex:P.tokens.length};C.push(e),q(e);continue}if("}"===x){const e=C[C.length-1];if(!0===r.nobrace||!e){q({type:"text",value:x,output:x});continue}let t=")";if(!0===e.dots){const e=s.slice(),n=[];for(let t=e.length-1;t>=0&&(s.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&n.unshift(e[t].value);t=vi(n,r),P.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const r=P.output.slice(0,e.outputIndex),n=P.tokens.slice(e.tokensIndex);e.value=e.output="\\{",x=t="\\}",P.output=r;for(const e of n)P.output+=e.output||e.value}q({type:"brace",value:x,output:t}),H("braces"),C.pop();continue}if("|"===x){k.length>0&&k[k.length-1].conditions++,q({type:"text",value:x});continue}if(","===x){let e=x;const t=C[C.length-1];t&&"braces"===O[O.length-1]&&(t.comma=!0,e="|"),q({type:"comma",value:x,output:e});continue}if("/"===x){if("dot"===$.type&&P.index===P.start+1){P.start=P.index+1,P.consumed="",P.output="",s.pop(),$=i;continue}q({type:"slash",value:x,output:h});continue}if("."===x){if(P.braces>0&&"dot"===$.type){"."===$.value&&($.output=d);const e=C[C.length-1];$.type="dots",$.output+=x,$.value+=x,e.dots=!0;continue}if(P.braces+P.parens===0&&"bos"!==$.type&&"slash"!==$.type){q({type:"text",value:x,output:d});continue}q({type:"dot",value:x,output:d});continue}if("?"===x){if((!$||"("!==$.value)&&!0!==r.noextglob&&"("===F()&&"?"!==F(2)){W("qmark",x);continue}if($&&"paren"===$.type){const e=F();let t=x;if("<"===e&&!pi.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===$.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(j()))&&(t=`\\${x}`),q({type:"text",value:x,output:t});continue}if(!0!==r.dot&&("slash"===$.type||"bos"===$.type)){q({type:"qmark",value:x,output:v});continue}q({type:"qmark",value:x,output:_});continue}if("!"===x){if(!0!==r.noextglob&&"("===F()&&("?"!==F(2)||!/[!=<:]/.test(F(3)))){W("negate",x);continue}if(!0!==r.nonegate&&0===P.index){I();continue}}if("+"===x){if(!0!==r.noextglob&&"("===F()&&"?"!==F(2)){W("plus",x);continue}if($&&"("===$.value||!1===r.regex){q({type:"plus",value:x,output:f});continue}if($&&("bracket"===$.type||"paren"===$.type||"brace"===$.type)||P.parens>0){q({type:"plus",value:x});continue}q({type:"plus",value:f});continue}if("@"===x){if(!0!==r.noextglob&&"("===F()&&"?"!==F(2)){q({type:"at",extglob:!0,value:x,output:""});continue}q({type:"text",value:x});continue}if("*"!==x){"$"!==x&&"^"!==x||(x=`\\${x}`);const e=gi.exec(j());e&&(x+=e[0],P.index+=e[0].length),q({type:"text",value:x});continue}if($&&("globstar"===$.type||!0===$.star)){$.type="star",$.star=!0,$.value+=x,$.output=T,P.backtrack=!0,P.globstar=!0,M(x);continue}let t=j();if(!0!==r.noextglob&&/^\([^?]/.test(t)){W("star",x);continue}if("star"===$.type){if(!0===r.noglobstar){M(x);continue}const n=$.prev,o=n.prev,i="slash"===n.type||"bos"===n.type,s=o&&("star"===o.type||"globstar"===o.type);if(!0===r.bash&&(!i||t[0]&&"/"!==t[0])){q({type:"star",value:x,output:""});continue}const a=P.braces>0&&("comma"===n.type||"brace"===n.type),c=k.length&&("pipe"===n.type||"paren"===n.type);if(!i&&"paren"!==n.type&&!a&&!c){q({type:"star",value:x,output:""});continue}for(;"/**"===t.slice(0,3);){const r=e[P.index+4];if(r&&"/"!==r)break;t=t.slice(3),M("/**",3)}if("bos"===n.type&&L()){$.type="globstar",$.value+=x,$.output=E(r),P.output=$.output,P.globstar=!0,M(x);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!s&&L()){P.output=P.output.slice(0,-(n.output+$.output).length),n.output=`(?:${n.output}`,$.type="globstar",$.output=E(r)+(r.strictSlashes?")":"|$)"),$.value+=x,P.globstar=!0,P.output+=n.output+$.output,M(x);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";P.output=P.output.slice(0,-(n.output+$.output).length),n.output=`(?:${n.output}`,$.type="globstar",$.output=`${E(r)}${h}|${h}${e})`,$.value+=x,P.output+=n.output+$.output,P.globstar=!0,M(x+D()),q({type:"slash",value:"/",output:""});continue}if("bos"===n.type&&"/"===t[0]){$.type="globstar",$.value+=x,$.output=`(?:^|${h}|${E(r)}${h})`,P.output=$.output,P.globstar=!0,M(x+D()),q({type:"slash",value:"/",output:""});continue}P.output=P.output.slice(0,-$.output.length),$.type="globstar",$.output=E(r),$.value+=x,P.output+=$.output,P.globstar=!0,M(x);continue}const n={type:"star",value:x,output:T};!0!==r.bash?!$||"bracket"!==$.type&&"paren"!==$.type||!0!==r.regex?(P.index!==P.start&&"slash"!==$.type&&"dot"!==$.type||("dot"===$.type?(P.output+=g,$.output+=g):!0===r.dot?(P.output+=b,$.output+=b):(P.output+=R,$.output+=R),"*"!==F()&&(P.output+=p,$.output+=p)),q(n)):(n.output=x,q(n)):(n.output=".*?","bos"!==$.type&&"slash"!==$.type||(n.output=R+n.output),q(n))}for(;P.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(wi("closing","]"));P.output=pi.escapeLast(P.output,"["),H("brackets")}for(;P.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(wi("closing",")"));P.output=pi.escapeLast(P.output,"("),H("parens")}for(;P.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(wi("closing","}"));P.output=pi.escapeLast(P.output,"{"),H("braces")}if(!0===r.strictSlashes||"star"!==$.type&&"bracket"!==$.type||q({type:"maybe_slash",value:"",output:`${h}?`}),!0===P.backtrack){P.output="";for(const e of P.tokens)P.output+=null!=e.output?e.output:e.value,e.suffix&&(P.output+=e.suffix)}return P};Si.fastpaths=(e,t)=>{const r={...t},n="number"==typeof r.maxLength?Math.min(yi,r.maxLength):yi,o=e.length;if(o>n)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${n}`);e=_i[e]||e;const i=pi.isWindows(t),{DOT_LITERAL:s,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:l,NO_DOT:u,NO_DOTS:d,NO_DOTS_SLASH:f,STAR:h,START_ANCHOR:p}=hi.globChars(i),y=r.dot?d:u,m=r.dot?f:u,g=r.capture?"":"?:";let b=!0===r.bash?".*?":h;r.capture&&(b=`(${b})`);const _=e=>!0===e.noglobstar?b:`(${g}(?:(?!${p}${e.dot?l:s}).)*?)`,v=e=>{switch(e){case"*":return`${y}${c}${b}`;case".*":return`${s}${c}${b}`;case"*.*":return`${y}${b}${s}${c}${b}`;case"*/*":return`${y}${b}${a}${c}${m}${b}`;case"**":return y+_(r);case"**/*":return`(?:${y}${_(r)}${a})?${m}${c}${b}`;case"**/*.*":return`(?:${y}${_(r)}${a})?${m}${b}${s}${c}${b}`;case"**/.*":return`(?:${y}${_(r)}${a})?${s}${c}${b}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const r=v(t[1]);if(!r)return;return r+s+t[2]}}},w=pi.removePrefix(e,{negated:!1,prefix:""});let S=v(w);return S&&!0!==r.strictSlashes&&(S+=`${a}?`),S};const Ei=M,Ri=(e,t)=>{const r=t||{},n=e.length-1,o=!0===r.parts||!0===r.scanToEnd,i=[],s=[],a=[];let c,l,u=e,d=-1,f=0,h=0,p=!1,y=!1,m=!1,g=!1,b=!1,_=!1,v=!1,w=!1,S=!1,E=!1,R=0,A={value:"",depth:0,isGlob:!1};const T=()=>d>=n,P=()=>(c=l,u.charCodeAt(++d));for(;d<n;){let e;if(l=P(),l!==Jo){if(!0===_||l===ni){for(R++;!0!==T()&&(l=P());)if(l!==Jo)if(l!==ni){if(!0!==_&&l===ei&&(l=P())===ei){if(p=A.isBrace=!0,m=A.isGlob=!0,E=!0,!0===o)continue;break}if(!0!==_&&l===Zo){if(p=A.isBrace=!0,m=A.isGlob=!0,E=!0,!0===o)continue;break}if(l===ci&&(R--,0===R)){_=!1,p=A.isBrace=!0,E=!0;break}}else R++;else v=A.backslashes=!0,P();if(!0===o)continue;break}if(l!==ri){if(!0!==r.noext&&!0==(l===si||l===Xo||l===Qo||l===ai||l===ti)&&u.charCodeAt(d+1)===oi){if(m=A.isGlob=!0,g=A.isExtglob=!0,E=!0,l===ti&&d===f&&(S=!0),!0===o){for(;!0!==T()&&(l=P());)if(l!==Jo){if(l===li){m=A.isGlob=!0,E=!0;break}}else v=A.backslashes=!0,l=P();continue}break}if(l===Qo){if(c===Qo&&(b=A.isGlobstar=!0),m=A.isGlob=!0,E=!0,!0===o)continue;break}if(l===ai){if(m=A.isGlob=!0,E=!0,!0===o)continue;break}if(l===ii){for(;!0!==T()&&(e=P());)if(e!==Jo){if(e===ui){y=A.isBracket=!0,m=A.isGlob=!0,E=!0;break}}else v=A.backslashes=!0,P();if(!0===o)continue;break}if(!0===r.nonegate||l!==ti||d!==f){if(!0!==r.noparen&&l===oi){if(m=A.isGlob=!0,!0===o){for(;!0!==T()&&(l=P());)if(l!==oi){if(l===li){E=!0;break}}else v=A.backslashes=!0,l=P();continue}break}if(!0===m){if(E=!0,!0===o)continue;break}}else w=A.negated=!0,f++}else{if(i.push(d),s.push(A),A={value:"",depth:0,isGlob:!1},!0===E)continue;if(c===ei&&d===f+1){f+=2;continue}h=d+1}}else v=A.backslashes=!0,l=P(),l===ni&&(_=!0)}!0===r.noext&&(g=!1,m=!1);let k=u,C="",O="";f>0&&(C=u.slice(0,f),u=u.slice(f),h-=f),k&&!0===m&&h>0?(k=u.slice(0,h),O=u.slice(h)):!0===m?(k="",O=u):k=u,k&&""!==k&&"/"!==k&&k!==u&&di(k.charCodeAt(k.length-1))&&(k=k.slice(0,-1)),!0===r.unescape&&(O&&(O=Yo.removeBackslashes(O)),k&&!0===v&&(k=Yo.removeBackslashes(k)));const x={prefix:C,input:e,start:f,base:k,glob:O,isBrace:p,isBracket:y,isGlob:m,isExtglob:g,isGlobstar:b,negated:w,negatedExtglob:S};if(!0===r.tokens&&(x.maxDepth=0,di(l)||s.push(A),x.tokens=s),!0===r.parts||!0===r.tokens){let t;for(let n=0;n<i.length;n++){const o=t?t+1:f,c=i[n],l=e.slice(o,c);r.tokens&&(0===n&&0!==f?(s[n].isPrefix=!0,s[n].value=C):s[n].value=l,fi(s[n]),x.maxDepth+=s[n].depth),0===n&&""===l||a.push(l),t=c}if(t&&t+1<e.length){const n=e.slice(t+1);a.push(n),r.tokens&&(s[s.length-1].value=n,fi(s[s.length-1]),x.maxDepth+=s[s.length-1].depth)}x.slashes=i,x.parts=a}return x},Ai=Si,Ti=jo,Pi=Ko,ki=(e,t,r=!1)=>{if(Array.isArray(e)){const n=e.map((e=>ki(e,t,r))),o=e=>{for(const t of n){const r=t(e);if(r)return r}return!1};return o}const n=(o=e)&&"object"==typeof o&&!Array.isArray(o)&&e.tokens&&e.input;var o;if(""===e||"string"!=typeof e&&!n)throw new TypeError("Expected pattern to be a non-empty string");const i=t||{},s=Ti.isWindows(t),a=n?ki.compileRe(e,t):ki.makeRe(e,t,!1,!0),c=a.state;delete a.state;let l=()=>!1;if(i.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};l=ki(i.ignore,e,r)}const u=(r,n=!1)=>{const{isMatch:o,match:u,output:d}=ki.test(r,a,t,{glob:e,posix:s}),f={glob:e,state:c,regex:a,posix:s,input:r,output:d,match:u,isMatch:o};return"function"==typeof i.onResult&&i.onResult(f),!1===o?(f.isMatch=!1,!!n&&f):l(r)?("function"==typeof i.onIgnore&&i.onIgnore(f),f.isMatch=!1,!!n&&f):("function"==typeof i.onMatch&&i.onMatch(f),!n||f)};return r&&(u.state=c),u};ki.test=(e,t,r,{glob:n,posix:o}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const i=r||{},s=i.format||(o?Ti.toPosixSlashes:null);let a=e===n,c=a&&s?s(e):e;return!1===a&&(c=s?s(e):e,a=c===n),!1!==a&&!0!==i.capture||(a=!0===i.matchBase||!0===i.basename?ki.matchBase(e,t,r,o):t.exec(c)),{isMatch:Boolean(a),match:a,output:c}},ki.matchBase=(e,t,r,n=Ti.isWindows(r))=>(t instanceof RegExp?t:ki.makeRe(t,r)).test(Ei.basename(e)),ki.isMatch=(e,t,r)=>ki(t,r)(e),ki.parse=(e,t)=>Array.isArray(e)?e.map((e=>ki.parse(e,t))):Ai(e,{...t,fastpaths:!1}),ki.scan=(e,t)=>Ri(e,t),ki.compileRe=(e,t,r=!1,n=!1)=>{if(!0===r)return e.output;const o=t||{},i=o.contains?"":"^",s=o.contains?"":"$";let a=`${i}(?:${e.output})${s}`;e&&!0===e.negated&&(a=`^(?!${a}).*$`);const c=ki.toRegex(a,t);return!0===n&&(c.state=e),c},ki.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let o={negated:!1,fastpaths:!0};return!1===t.fastpaths||"."!==e[0]&&"*"!==e[0]||(o.output=Ai.fastpaths(e,t)),o.output||(o=Ai(e,t)),ki.compileRe(o,t,r,n)},ki.toRegex=(e,t)=>{try{const r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},ki.constants=Pi;const Ci=D,Oi=Do,xi=ki,$i=jo,Li=e=>""===e||"./"===e,Fi=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,o=new Set,i=new Set,s=0,a=e=>{i.add(e.output),r&&r.onResult&&r.onResult(e)};for(let i=0;i<t.length;i++){let c=xi(String(t[i]),{...r,onResult:a},!0),l=c.state.negated||c.state.negatedExtglob;l&&s++;for(let t of e){let e=c(t,!0);(l?!e.isMatch:e.isMatch)&&(l?n.add(e.output):(n.delete(e.output),o.add(e.output)))}}let c=(s===t.length?[...i]:[...o]).filter((e=>!n.has(e)));if(r&&0===c.length){if(!0===r.failglob)throw new Error(`No matches found for "${t.join(", ")}"`);if(!0===r.nonull||!0===r.nullglob)return r.unescape?t.map((e=>e.replace(/\\/g,""))):t}return c};Fi.match=Fi,Fi.matcher=(e,t)=>xi(e,t),Fi.isMatch=(e,t,r)=>xi(t,r)(e),Fi.any=Fi.isMatch,Fi.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,o=[],i=new Set(Fi(e,t,{...r,onResult:e=>{r.onResult&&r.onResult(e),o.push(e.output)}}));for(let e of o)i.has(e)||n.add(e);return[...n]},Fi.contains=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${Ci.inspect(e)}"`);if(Array.isArray(t))return t.some((t=>Fi.contains(e,t,r)));if("string"==typeof t){if(Li(e)||Li(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return Fi.isMatch(e,t,{...r,contains:!0})},Fi.matchKeys=(e,t,r)=>{if(!$i.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=Fi(Object.keys(e),t,r),o={};for(let t of n)o[t]=e[t];return o},Fi.some=(e,t,r)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=xi(String(e),r);if(n.some((e=>t(e))))return!0}return!1},Fi.every=(e,t,r)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=xi(String(e),r);if(!n.every((e=>t(e))))return!1}return!0},Fi.all=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${Ci.inspect(e)}"`);return[].concat(t).every((t=>xi(t,r)(e)))},Fi.capture=(e,t,r)=>{let n=$i.isWindows(r),o=xi.makeRe(String(e),{...r,capture:!0}).exec(n?$i.toPosixSlashes(t):t);if(o)return o.slice(1).map((e=>void 0===e?"":e))},Fi.makeRe=(...e)=>xi.makeRe(...e),Fi.scan=(...e)=>xi.scan(...e),Fi.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let e of Oi(String(n),t))r.push(xi.parse(e,t));return r},Fi.braces=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return t&&!0===t.nobrace||!/\{.*\}/.test(e)?[e]:Oi(e,t)},Fi.braceExpand=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return Fi.braces(e,{...t,expand:!0})};var Di=Fi;Object.defineProperty(wn,"__esModule",{value:!0}),wn.matchAny=wn.convertPatternsToRe=wn.makeRe=wn.getPatternParts=wn.expandBraceExpansion=wn.expandPatternsWithBraceExpansion=wn.isAffectDepthOfReadingPattern=wn.endsWithSlashGlobStar=wn.hasGlobStar=wn.getBaseDirectory=wn.isPatternRelatedToParentDirectory=wn.getPatternsOutsideCurrentDirectory=wn.getPatternsInsideCurrentDirectory=wn.getPositivePatterns=wn.getNegativePatterns=wn.isPositivePattern=wn.isNegativePattern=wn.convertToNegativePattern=wn.convertToPositivePattern=wn.isDynamicPattern=wn.isStaticPattern=void 0;const ji=M,Mi=Di,Bi="\\",Ii=/[*?]|^!/,Ni=/\[[^[]*]/,Hi=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,qi=/[!*+?@]\([^(]*\)/,Wi=/,|\.\./;function Ui(e,t={}){return!zi(e,t)}function zi(e,t={}){return!!(""!==e&&(!1===t.caseSensitiveMatch||e.includes(Bi)||Ii.test(e)||Ni.test(e)||Hi.test(e)||!1!==t.extglob&&qi.test(e)||!1!==t.braceExpansion&&function(e){const t=e.indexOf("{");if(-1===t)return!1;const r=e.indexOf("}",t+1);if(-1===r)return!1;const n=e.slice(t,r);return Wi.test(n)}(e)))}function Gi(e){return e.startsWith("!")&&"("!==e[1]}function Vi(e){return!Gi(e)}function Ki(e){return e.startsWith("..")||e.startsWith("./..")}function Yi(e){return e.endsWith("/**")}function Qi(e){return Mi.braces(e,{expand:!0,nodupes:!0})}function Xi(e,t){return Mi.makeRe(e,t)}wn.isStaticPattern=Ui,wn.isDynamicPattern=zi,wn.convertToPositivePattern=function(e){return Gi(e)?e.slice(1):e},wn.convertToNegativePattern=function(e){return"!"+e},wn.isNegativePattern=Gi,wn.isPositivePattern=Vi,wn.getNegativePatterns=function(e){return e.filter(Gi)},wn.getPositivePatterns=function(e){return e.filter(Vi)},wn.getPatternsInsideCurrentDirectory=function(e){return e.filter((e=>!Ki(e)))},wn.getPatternsOutsideCurrentDirectory=function(e){return e.filter(Ki)},wn.isPatternRelatedToParentDirectory=Ki,wn.getBaseDirectory=function(e){return function(e,t){Object.assign({flipBackslashes:!0},t).flipBackslashes&&Pn&&e.indexOf("/")<0&&(e=e.replace(kn,"/")),Cn.test(e)&&(e+="/"),e+="a";do{e=Tn(e)}while(An(e)||On.test(e));return e.replace(xn,"$1")}(e,{flipBackslashes:!1})},wn.hasGlobStar=function(e){return e.includes("**")},wn.endsWithSlashGlobStar=Yi,wn.isAffectDepthOfReadingPattern=function(e){const t=ji.basename(e);return Yi(e)||Ui(t)},wn.expandPatternsWithBraceExpansion=function(e){return e.reduce(((e,t)=>e.concat(Qi(t))),[])},wn.expandBraceExpansion=Qi,wn.getPatternParts=function(e,t){let{parts:r}=Mi.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return 0===r.length&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r},wn.makeRe=Xi,wn.convertPatternsToRe=function(e,t){return e.map((e=>Xi(e,t)))},wn.matchAny=function(e,t){return t.some((t=>t.test(e)))};var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.merge=void 0;const Zi=ln;function es(e){e.forEach((e=>e.emit("close")))}Ji.merge=function(e){const t=Zi(e);return e.forEach((e=>{e.once("error",(e=>t.emit("error",e)))})),t.once("close",(()=>es(e))),t.once("end",(()=>es(e))),t};var ts={};Object.defineProperty(ts,"__esModule",{value:!0}),ts.isEmpty=ts.isString=void 0,ts.isString=function(e){return"string"==typeof e},ts.isEmpty=function(e){return""===e},Object.defineProperty(hn,"__esModule",{value:!0}),hn.string=hn.stream=hn.pattern=hn.path=hn.fs=hn.errno=hn.array=void 0;const rs=pn;hn.array=rs;const ns=yn;hn.errno=ns;const os=mn;hn.fs=os;const is=bn;hn.path=is;const ss=wn;hn.pattern=ss;const as=Ji;hn.stream=as;const cs=ts;hn.string=cs,Object.defineProperty(fn,"__esModule",{value:!0}),fn.convertPatternGroupToTask=fn.convertPatternGroupsToTasks=fn.groupPatternsByBaseDirectory=fn.getNegativePatternsAsPositive=fn.getPositivePatterns=fn.convertPatternsToTasks=fn.generate=void 0;const ls=hn;function us(e,t,r){const n=[],o=ls.pattern.getPatternsOutsideCurrentDirectory(e),i=ls.pattern.getPatternsInsideCurrentDirectory(e),s=hs(o),a=hs(i);return n.push(...ps(s,t,r)),"."in a?n.push(ys(".",i,t,r)):n.push(...ps(a,t,r)),n}function ds(e){return ls.pattern.getPositivePatterns(e)}function fs(e,t){return ls.pattern.getNegativePatterns(e).concat(t).map(ls.pattern.convertToPositivePattern)}function hs(e){return e.reduce(((e,t)=>{const r=ls.pattern.getBaseDirectory(t);return r in e?e[r].push(t):e[r]=[t],e}),{})}function ps(e,t,r){return Object.keys(e).map((n=>ys(n,e[n],t,r)))}function ys(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(ls.pattern.convertToNegativePattern))}}fn.generate=function(e,t){const r=ds(e),n=fs(e,t.ignore),o=r.filter((e=>ls.pattern.isStaticPattern(e,t))),i=r.filter((e=>ls.pattern.isDynamicPattern(e,t))),s=us(o,n,!1),a=us(i,n,!0);return s.concat(a)},fn.convertPatternsToTasks=us,fn.getPositivePatterns=ds,fn.getNegativePatternsAsPositive=fs,fn.groupPatternsByBaseDirectory=hs,fn.convertPatternGroupsToTasks=ps,fn.convertPatternGroupToTask=ys;var ms={};Object.defineProperty(ms,"__esModule",{value:!0}),ms.removeDuplicateSlashes=ms.transform=void 0;const gs=/(?!^)\/{2,}/g;function bs(e){return e.replace(gs,"/")}ms.transform=function(e){return e.map((e=>bs(e)))},ms.removeDuplicateSlashes=bs;var _s={},vs={},ws={},Ss={};function Es(e,t){e(t)}function Rs(e,t){e(null,t)}Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.read=void 0,Ss.read=function(e,t,r){t.fs.lstat(e,((n,o)=>{null===n?o.isSymbolicLink()&&t.followSymbolicLink?t.fs.stat(e,((e,n)=>{if(null!==e)return t.throwErrorOnBrokenSymbolicLink?void Es(r,e):void Rs(r,o);t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),Rs(r,n)})):Rs(r,o):Es(r,n)}))};var As={};Object.defineProperty(As,"__esModule",{value:!0}),As.read=void 0,As.read=function(e,t){const r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{const r=t.fs.statSync(e);return t.markSymbolicLink&&(r.isSymbolicLink=()=>!0),r}catch(e){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw e}};var Ts={},Ps={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;const t=x;e.FILE_SYSTEM_ADAPTER={lstat:t.lstat,stat:t.stat,lstatSync:t.lstatSync,statSync:t.statSync},e.createFileSystemAdapter=function(t){return void 0===t?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),t)}}(Ps),Object.defineProperty(Ts,"__esModule",{value:!0});const ks=Ps;Ts.default=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=ks.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,t){return null!=e?e:t}},Object.defineProperty(ws,"__esModule",{value:!0}),ws.statSync=ws.stat=ws.Settings=void 0;const Cs=Ss,Os=As,xs=Ts;function $s(e={}){return e instanceof xs.default?e:new xs.default(e)}ws.Settings=xs.default,ws.stat=function(e,t,r){"function"!=typeof t?Cs.read(e,$s(t),r):Cs.read(e,$s(),t)},ws.statSync=function(e,t){const r=$s(t);return Os.read(e,r)};var Ls={},Fs={},Ds={},js={},Ms={};
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let Bs;
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const Is="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:se):e=>(Bs||(Bs=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)));var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const Hs=process.versions.node.split(".");if(void 0===Hs[0]||void 0===Hs[1])throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);const qs=Number.parseInt(Hs[0],10),Ws=Number.parseInt(Hs[1],10),Us=qs>10,zs=10===qs&&Ws>=10;Ns.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Us||zs;var Gs={},Vs={};Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.createDirentFromStats=void 0;class Ks{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}Vs.createDirentFromStats=function(e,t){return new Ks(e,t)},Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.fs=void 0;const Ys=Vs;Gs.fs=Ys;var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.joinPathSegments=void 0,Qs.joinPathSegments=function(e,t,r){return e.endsWith(r)?e+t:e+r+t},Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.readdir=Ms.readdirWithFileTypes=Ms.read=void 0;const Xs=ws,Js=function(e,t){let r,n,o,i=!0;function s(e){function n(){t&&t(e,r),t=null}i?Is(n):n()}function a(e,t,o){r[e]=o,(0==--n||t)&&s(t)}Array.isArray(e)?(r=[],n=e.length):(o=Object.keys(e),r={},n=o.length),n?o?o.forEach((function(t){e[t]((function(e,r){a(t,e,r)}))})):e.forEach((function(e,t){e((function(e,r){a(t,e,r)}))})):s(null),i=!1},Zs=Ns,ea=Gs,ta=Qs;function ra(e,t,r){t.fs.readdir(e,{withFileTypes:!0},((n,o)=>{if(null!==n)return void oa(r,n);const i=o.map((r=>({dirent:r,name:r.name,path:ta.joinPathSegments(e,r.name,t.pathSegmentSeparator)})));if(!t.followSymbolicLinks)return void ia(r,i);const s=i.map((e=>function(e,t){return r=>{e.dirent.isSymbolicLink()?t.fs.stat(e.path,((n,o)=>{if(null!==n)return t.throwErrorOnBrokenSymbolicLink?void r(n):void r(null,e);e.dirent=ea.fs.createDirentFromStats(e.name,o),r(null,e)})):r(null,e)}}(e,t)));Js(s,((e,t)=>{null===e?ia(r,t):oa(r,e)}))}))}function na(e,t,r){t.fs.readdir(e,((n,o)=>{if(null!==n)return void oa(r,n);const i=o.map((r=>{const n=ta.joinPathSegments(e,r,t.pathSegmentSeparator);return e=>{Xs.stat(n,t.fsStatSettings,((o,i)=>{if(null!==o)return void e(o);const s={name:r,path:n,dirent:ea.fs.createDirentFromStats(r,i)};t.stats&&(s.stats=i),e(null,s)}))}}));Js(i,((e,t)=>{null===e?ia(r,t):oa(r,e)}))}))}function oa(e,t){e(t)}function ia(e,t){e(null,t)}Ms.read=function(e,t,r){t.stats||!Zs.IS_SUPPORT_READDIR_WITH_FILE_TYPES?na(e,t,r):ra(e,t,r)},Ms.readdirWithFileTypes=ra,Ms.readdir=na;var sa={};Object.defineProperty(sa,"__esModule",{value:!0}),sa.readdir=sa.readdirWithFileTypes=sa.read=void 0;const aa=ws,ca=Ns,la=Gs,ua=Qs;function da(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map((r=>{const n={dirent:r,name:r.name,path:ua.joinPathSegments(e,r.name,t.pathSegmentSeparator)};if(n.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{const e=t.fs.statSync(n.path);n.dirent=la.fs.createDirentFromStats(n.name,e)}catch(e){if(t.throwErrorOnBrokenSymbolicLink)throw e}return n}))}function fa(e,t){return t.fs.readdirSync(e).map((r=>{const n=ua.joinPathSegments(e,r,t.pathSegmentSeparator),o=aa.statSync(n,t.fsStatSettings),i={name:r,path:n,dirent:la.fs.createDirentFromStats(r,o)};return t.stats&&(i.stats=o),i}))}sa.read=function(e,t){return!t.stats&&ca.IS_SUPPORT_READDIR_WITH_FILE_TYPES?da(e,t):fa(e,t)},sa.readdirWithFileTypes=da,sa.readdir=fa;var ha={},pa={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;const t=x;e.FILE_SYSTEM_ADAPTER={lstat:t.lstat,stat:t.stat,lstatSync:t.lstatSync,statSync:t.statSync,readdir:t.readdir,readdirSync:t.readdirSync},e.createFileSystemAdapter=function(t){return void 0===t?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),t)}}(pa),Object.defineProperty(ha,"__esModule",{value:!0});const ya=M,ma=ws,ga=pa;ha.default=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=ga.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,ya.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new ma.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return null!=e?e:t}},Object.defineProperty(js,"__esModule",{value:!0}),js.Settings=js.scandirSync=js.scandir=void 0;const ba=Ms,_a=sa,va=ha;function wa(e={}){return e instanceof va.default?e:new va.default(e)}js.Settings=va.default,js.scandir=function(e,t,r){"function"!=typeof t?ba.read(e,wa(t),r):ba.read(e,wa(),t)},js.scandirSync=function(e,t){const r=wa(t);return _a.read(e,r)};var Sa={exports:{}};function Ea(e,t,r){if("function"==typeof e&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=function(e){var t=new e,r=t;return{get:function(){var n=t;return n.next?t=n.next:(t=new e,r=t),n.next=null,n},release:function(e){r.next=e,r=e}}}(Aa),o=null,i=null,s=0,a=null,c={push:function(r,u){var d=n.get();d.context=e,d.release=l,d.value=r,d.callback=u||Ra,d.errorHandler=a,s===c.concurrency||c.paused?i?(i.next=d,i=d):(o=d,i=d,c.saturated()):(s++,t.call(e,d.value,d.worked))},drain:Ra,saturated:Ra,pause:function(){c.paused=!0},paused:!1,concurrency:r,running:function(){return s},resume:function(){if(c.paused){c.paused=!1;for(var e=0;e<c.concurrency;e++)s++,l()}},idle:function(){return 0===s&&0===c.length()},length:function(){for(var e=o,t=0;e;)e=e.next,t++;return t},getQueue:function(){for(var e=o,t=[];e;)t.push(e.value),e=e.next;return t},unshift:function(r,a){var u=n.get();u.context=e,u.release=l,u.value=r,u.callback=a||Ra,s===c.concurrency||c.paused?o?(u.next=o,o=u):(o=u,i=u,c.saturated()):(s++,t.call(e,u.value,u.worked))},empty:Ra,kill:function(){o=null,i=null,c.drain=Ra},killAndDrain:function(){o=null,i=null,c.drain(),c.drain=Ra},error:function(e){a=e}};return c;function l(r){r&&n.release(r);var a=o;a?c.paused?s--:(i===o&&(i=null),o=a.next,a.next=null,t.call(e,a.value,a.worked),null===i&&c.empty()):0==--s&&c.drain()}}function Ra(){}function Aa(){this.value=null,this.callback=Ra,this.next=null,this.release=Ra,this.context=null,this.errorHandler=null;var e=this;this.worked=function(t,r){var n=e.callback,o=e.errorHandler,i=e.value;e.value=null,e.callback=Ra,e.errorHandler&&o(t,i),n.call(e.context,t,r),e.release(e)}}Sa.exports=Ea,Sa.exports.promise=function(e,t,r){"function"==typeof e&&(r=t,t=e,e=null);var n=Ea(e,(function(e,r){t.call(this,e).then((function(e){r(null,e)}),r)}),r),o=n.push,i=n.unshift;return n.push=function(e){var t=new Promise((function(t,r){o(e,(function(e,n){e?r(e):t(n)}))}));return t.catch(Ra),t},n.unshift=function(e){var t=new Promise((function(t,r){i(e,(function(e,n){e?r(e):t(n)}))}));return t.catch(Ra),t},n.drained=function(){var e=n.drain;return new Promise((function(t){n.drain=function(){e(),t()}}))},n};var Ta=Sa.exports,Pa={};Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.joinPathSegments=Pa.replacePathSegmentSeparator=Pa.isAppliedFilter=Pa.isFatalError=void 0,Pa.isFatalError=function(e,t){return null===e.errorFilter||!e.errorFilter(t)},Pa.isAppliedFilter=function(e,t){return null===e||e(t)},Pa.replacePathSegmentSeparator=function(e,t){return e.split(/[/\\]/).join(t)},Pa.joinPathSegments=function(e,t,r){return""===e?t:e.endsWith(r)?e+t:e+r+t};var ka={};Object.defineProperty(ka,"__esModule",{value:!0});const Ca=Pa;ka.default=class{constructor(e,t){this._root=e,this._settings=t,this._root=Ca.replacePathSegmentSeparator(e,t.pathSegmentSeparator)}},Object.defineProperty(Ds,"__esModule",{value:!0});const Oa=U,xa=js,$a=Ta,La=Pa,Fa=ka;class Da extends Fa.default{constructor(e,t){super(e,t),this._settings=t,this._scandir=xa.scandir,this._emitter=new Oa.EventEmitter,this._queue=$a(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate((()=>{this._pushToQueue(this._root,this._settings.basePath)})),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){const r={directory:e,base:t};this._queue.push(r,(e=>{null!==e&&this._handleError(e)}))}_worker(e,t){this._scandir(e.directory,this._settings.fsScandirSettings,((r,n)=>{if(null===r){for(const t of n)this._handleEntry(t,e.base);t(null,void 0)}else t(r,void 0)}))}_handleError(e){!this._isDestroyed&&La.isFatalError(this._settings,e)&&(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,t){if(this._isDestroyed||this._isFatalError)return;const r=e.path;void 0!==t&&(e.path=La.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),La.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&La.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(r,void 0===t?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}}Ds.default=Da,Object.defineProperty(Fs,"__esModule",{value:!0});const ja=Ds;Fs.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new ja.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError((t=>{!function(e,t){e(t)}(e,t)})),this._reader.onEntry((e=>{this._storage.push(e)})),this._reader.onEnd((()=>{!function(e,t){e(null,t)}(e,this._storage)})),this._reader.read()}};var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});const Ba=$,Ia=Ds;Ma.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new Ia.default(this._root,this._settings),this._stream=new Ba.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError((e=>{this._stream.emit("error",e)})),this._reader.onEntry((e=>{this._stream.push(e)})),this._reader.onEnd((()=>{this._stream.push(null)})),this._reader.read(),this._stream}};var Na={},Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});const qa=js,Wa=Pa,Ua=ka;class za extends Ua.default{constructor(){super(...arguments),this._scandir=qa.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,t){this._queue.add({directory:e,base:t})}_handleQueue(){for(const e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,t){try{const r=this._scandir(e,this._settings.fsScandirSettings);for(const e of r)this._handleEntry(e,t)}catch(e){this._handleError(e)}}_handleError(e){if(Wa.isFatalError(this._settings,e))throw e}_handleEntry(e,t){const r=e.path;void 0!==t&&(e.path=Wa.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),Wa.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&Wa.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(r,void 0===t?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}}Ha.default=za,Object.defineProperty(Na,"__esModule",{value:!0});const Ga=Ha;Na.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new Ga.default(this._root,this._settings)}read(){return this._reader.read()}};var Va={};Object.defineProperty(Va,"__esModule",{value:!0});const Ka=M,Ya=js;Va.default=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Ka.sep),this.fsScandirSettings=new Ya.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return null!=e?e:t}},Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.Settings=Ls.walkStream=Ls.walkSync=Ls.walk=void 0;const Qa=Fs,Xa=Ma,Ja=Na,Za=Va;function ec(e={}){return e instanceof Za.default?e:new Za.default(e)}Ls.Settings=Za.default,Ls.walk=function(e,t,r){"function"!=typeof t?new Qa.default(e,ec(t)).read(r):new Qa.default(e,ec()).read(t)},Ls.walkSync=function(e,t){const r=ec(t);return new Ja.default(e,r).read()},Ls.walkStream=function(e,t){const r=ec(t);return new Xa.default(e,r).read()};var tc={};Object.defineProperty(tc,"__esModule",{value:!0});const rc=M,nc=ws,oc=hn;tc.default=class{constructor(e){this._settings=e,this._fsStatSettings=new nc.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return rc.resolve(this._settings.cwd,e)}_makeEntry(e,t){const r={name:t,path:t,dirent:oc.fs.createDirentFromStats(t,e)};return this._settings.stats&&(r.stats=e),r}_isFatalError(e){return!oc.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}},Object.defineProperty(vs,"__esModule",{value:!0});const ic=$,sc=ws,ac=Ls,cc=tc;class lc extends cc.default{constructor(){super(...arguments),this._walkStream=ac.walkStream,this._stat=sc.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,t){const r=e.map(this._getFullEntryPath,this),n=new ic.PassThrough({objectMode:!0});n._write=(o,i,s)=>this._getEntry(r[o],e[o],t).then((e=>{null!==e&&t.entryFilter(e)&&n.push(e),o===r.length-1&&n.end(),s()})).catch(s);for(let e=0;e<r.length;e++)n.write(e);return n}_getEntry(e,t,r){return this._getStat(e).then((e=>this._makeEntry(e,t))).catch((e=>{if(r.errorFilter(e))return null;throw e}))}_getStat(e){return new Promise(((t,r)=>{this._stat(e,this._fsStatSettings,((e,n)=>null===e?t(n):r(e)))}))}}vs.default=lc;var uc={},dc={},fc={},hc={};Object.defineProperty(hc,"__esModule",{value:!0});const pc=hn;hc.default=class{constructor(e,t,r){this._patterns=e,this._settings=t,this._micromatchOptions=r,this._storage=[],this._fillStorage()}_fillStorage(){const e=pc.pattern.expandPatternsWithBraceExpansion(this._patterns);for(const t of e){const e=this._getPatternSegments(t),r=this._splitSegmentsIntoSections(e);this._storage.push({complete:r.length<=1,pattern:t,segments:e,sections:r})}}_getPatternSegments(e){return pc.pattern.getPatternParts(e,this._micromatchOptions).map((e=>pc.pattern.isDynamicPattern(e,this._settings)?{dynamic:!0,pattern:e,patternRe:pc.pattern.makeRe(e,this._micromatchOptions)}:{dynamic:!1,pattern:e}))}_splitSegmentsIntoSections(e){return pc.array.splitWhen(e,(e=>e.dynamic&&pc.pattern.hasGlobStar(e.pattern)))}},Object.defineProperty(fc,"__esModule",{value:!0});const yc=hc;class mc extends yc.default{match(e){const t=e.split("/"),r=t.length,n=this._storage.filter((e=>!e.complete||e.segments.length>r));for(const e of n){const n=e.sections[0];if(!e.complete&&r>n.length)return!0;if(t.every(((t,r)=>{const n=e.segments[r];return!(!n.dynamic||!n.patternRe.test(t))||!n.dynamic&&n.pattern===t})))return!0}return!1}}fc.default=mc,Object.defineProperty(dc,"__esModule",{value:!0});const gc=hn,bc=fc;dc.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t}getFilter(e,t,r){const n=this._getMatcher(t),o=this._getNegativePatternsRe(r);return t=>this._filter(e,t,n,o)}_getMatcher(e){return new bc.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){const t=e.filter(gc.pattern.isAffectDepthOfReadingPattern);return gc.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(e,t,r,n){if(this._isSkippedByDeep(e,t.path))return!1;if(this._isSkippedSymbolicLink(t))return!1;const o=gc.path.removeLeadingDotSegment(t.path);return!this._isSkippedByPositivePatterns(o,r)&&this._isSkippedByNegativePatterns(o,n)}_isSkippedByDeep(e,t){return this._settings.deep!==1/0&&this._getEntryLevel(e,t)>=this._settings.deep}_getEntryLevel(e,t){const r=t.split("/").length;return""===e?r:r-e.split("/").length}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,t){return!this._settings.baseNameMatch&&!t.match(e)}_isSkippedByNegativePatterns(e,t){return!gc.pattern.matchAny(e,t)}};var _c={};Object.defineProperty(_c,"__esModule",{value:!0});const vc=hn;_c.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t,this.index=new Map}getFilter(e,t){const r=vc.pattern.convertPatternsToRe(e,this._micromatchOptions),n=vc.pattern.convertPatternsToRe(t,this._micromatchOptions);return e=>this._filter(e,r,n)}_filter(e,t,r){if(this._settings.unique&&this._isDuplicateEntry(e))return!1;if(this._onlyFileFilter(e)||this._onlyDirectoryFilter(e))return!1;if(this._isSkippedByAbsoluteNegativePatterns(e.path,r))return!1;const n=this._settings.baseNameMatch?e.name:e.path,o=this._isMatchToPatterns(n,t)&&!this._isMatchToPatterns(e.path,r);return this._settings.unique&&o&&this._createIndexRecord(e),o}_isDuplicateEntry(e){return this.index.has(e.path)}_createIndexRecord(e){this.index.set(e.path,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,t){if(!this._settings.absolute)return!1;const r=vc.path.makeAbsolute(this._settings.cwd,e);return vc.pattern.matchAny(r,t)}_isMatchToPatterns(e,t){const r=vc.path.removeLeadingDotSegment(e);return vc.pattern.matchAny(r,t)||vc.pattern.matchAny(r+"/",t)}};var wc={};Object.defineProperty(wc,"__esModule",{value:!0});const Sc=hn;wc.default=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return Sc.errno.isEnoentCodeError(e)||this._settings.suppressErrors}};var Ec={};Object.defineProperty(Ec,"__esModule",{value:!0});const Rc=hn;Ec.default=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let t=e.path;return this._settings.absolute&&(t=Rc.path.makeAbsolute(this._settings.cwd,t),t=Rc.path.unixify(t)),this._settings.markDirectories&&e.dirent.isDirectory()&&(t+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:t}):t}},Object.defineProperty(uc,"__esModule",{value:!0});const Ac=M,Tc=dc,Pc=_c,kc=wc,Cc=Ec;uc.default=class{constructor(e){this._settings=e,this.errorFilter=new kc.default(this._settings),this.entryFilter=new Pc.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new Tc.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new Cc.default(this._settings)}_getRootDirectory(e){return Ac.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){const t="."===e.base?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}},Object.defineProperty(_s,"__esModule",{value:!0});const Oc=vs,xc=uc;class $c extends xc.default{constructor(){super(...arguments),this._reader=new Oc.default(this._settings)}read(e){const t=this._getRootDirectory(e),r=this._getReaderOptions(e),n=[];return new Promise(((o,i)=>{const s=this.api(t,e,r);s.once("error",i),s.on("data",(e=>n.push(r.transform(e)))),s.once("end",(()=>o(n)))}))}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}_s.default=$c;var Lc={};Object.defineProperty(Lc,"__esModule",{value:!0});const Fc=$,Dc=vs,jc=uc;class Mc extends jc.default{constructor(){super(...arguments),this._reader=new Dc.default(this._settings)}read(e){const t=this._getRootDirectory(e),r=this._getReaderOptions(e),n=this.api(t,e,r),o=new Fc.Readable({objectMode:!0,read:()=>{}});return n.once("error",(e=>o.emit("error",e))).on("data",(e=>o.emit("data",r.transform(e)))).once("end",(()=>o.emit("end"))),o.once("close",(()=>n.destroy())),o}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}Lc.default=Mc;var Bc={},Ic={};Object.defineProperty(Ic,"__esModule",{value:!0});const Nc=ws,Hc=Ls,qc=tc;class Wc extends qc.default{constructor(){super(...arguments),this._walkSync=Hc.walkSync,this._statSync=Nc.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){const r=[];for(const n of e){const e=this._getFullEntryPath(n),o=this._getEntry(e,n,t);null!==o&&t.entryFilter(o)&&r.push(o)}return r}_getEntry(e,t,r){try{const r=this._getStat(e);return this._makeEntry(r,t)}catch(e){if(r.errorFilter(e))return null;throw e}}_getStat(e){return this._statSync(e,this._fsStatSettings)}}Ic.default=Wc,Object.defineProperty(Bc,"__esModule",{value:!0});const Uc=Ic,zc=uc;class Gc extends zc.default{constructor(){super(...arguments),this._reader=new Uc.default(this._settings)}read(e){const t=this._getRootDirectory(e),r=this._getReaderOptions(e);return this.api(t,e,r).map(r.transform)}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}Bc.default=Gc;var Vc={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const t=x,r=W,n=Math.max(r.cpus().length,1);e.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:t.lstat,lstatSync:t.lstatSync,stat:t.stat,statSync:t.statSync,readdir:t.readdir,readdirSync:t.readdirSync},e.default=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,n),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(e,t){return void 0===e?t:e}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},e.DEFAULT_FILE_SYSTEM_ADAPTER),t)}}}(Vc);const Kc=fn,Yc=ms,Qc=_s,Xc=Lc,Jc=Bc,Zc=Vc,el=hn;async function tl(e,t){nl(e);const r=rl(e,Qc.default,t),n=await Promise.all(r);return el.array.flatten(n)}function rl(e,t,r){const n=Yc.transform([].concat(e)),o=new Zc.default(r),i=Kc.generate(n,o),s=new t(o);return i.map(s.read,s)}function nl(e){if(![].concat(e).every((e=>el.string.isString(e)&&!el.string.isEmpty(e))))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}!function(e){e.sync=function(e,t){nl(e);const r=rl(e,Jc.default,t);return el.array.flatten(r)},e.stream=function(e,t){nl(e);const r=rl(e,Xc.default,t);return el.stream.merge(r)},e.generateTasks=function(e,t){nl(e);const r=Yc.transform([].concat(e)),n=new Zc.default(t);return Kc.generate(r,n)},e.isDynamicPattern=function(e,t){nl(e);const r=new Zc.default(t);return el.pattern.isDynamicPattern(e,r)},e.escapePath=function(e){return nl(e),el.path.escape(e)}}(tl||(tl={}));const ol=ae(tl);var il={exports:{}},sl={};const{promisify:al}=D,cl=x;async function ll(e,t,r){if("string"!=typeof r)throw new TypeError("Expected a string, got "+typeof r);try{return(await al(cl[e])(r))[t]()}catch(e){if("ENOENT"===e.code)return!1;throw e}}function ul(e,t,r){if("string"!=typeof r)throw new TypeError("Expected a string, got "+typeof r);try{return cl[e](r)[t]()}catch(e){if("ENOENT"===e.code)return!1;throw e}}sl.isFile=ll.bind(null,"stat","isFile"),sl.isDirectory=ll.bind(null,"stat","isDirectory"),sl.isSymlink=ll.bind(null,"lstat","isSymbolicLink"),sl.isFileSync=ul.bind(null,"statSync","isFile"),sl.isDirectorySync=ul.bind(null,"statSync","isDirectory"),sl.isSymlinkSync=ul.bind(null,"lstatSync","isSymbolicLink");const dl=M,fl=sl,hl=e=>e.length>1?`{${e.join(",")}}`:e[0],pl=(e,t)=>{const r="!"===e[0]?e.slice(1):e;return dl.isAbsolute(r)?r:dl.join(t,r)},yl=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map((r=>dl.posix.join(e,((e,t)=>dl.extname(e)?`**/${e}`:`**/${e}.${hl(t)}`)(r,t.extensions)))):t.files?t.files.map((t=>dl.posix.join(e,`**/${t}`))):t.extensions?[dl.posix.join(e,`**/*.${hl(t.extensions)}`)]:[dl.posix.join(e,"**")]};il.exports=async(e,t)=>{if("string"!=typeof(t={cwd:process.cwd(),...t}).cwd)throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);const r=await Promise.all([].concat(e).map((async e=>await fl.isDirectory(pl(e,t.cwd))?yl(e,t):e)));return[].concat.apply([],r)},il.exports.sync=(e,t)=>{if("string"!=typeof(t={cwd:process.cwd(),...t}).cwd)throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);const r=[].concat(e).map((e=>fl.isDirectorySync(pl(e,t.cwd))?yl(e,t):e));return[].concat.apply([],r)};const ml=ae(il.exports);function gl(e){return Array.isArray(e)?e:[e]}const bl=/^\s+$/,_l=/^\\!/,vl=/^\\#/,wl=/\r?\n/g,Sl=/^\.*\/|^\.+$/,El="undefined"!=typeof Symbol?Symbol.for("node-ignore"):"node-ignore",Rl=/([0-z])-([0-z])/g,Al=()=>!1,Tl=[[/\\?\s+$/,e=>0===e.indexOf("\\")?" ":""],[/\\\s/g,()=>" "],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>"\\"],[/\\\\/g,()=>"\\"],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,o)=>"\\"===t?`\\[${r}${(e=>{const{length:t}=e;return e.slice(0,t-t%2)})(n)}${o}`:"]"===o&&n.length%2==0?`[${(e=>e.replace(Rl,((e,t,r)=>t.charCodeAt(0)<=r.charCodeAt(0)?e:"")))(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>(t?`${t}[^/]+`:"[^/]*")+"(?=$|\\/$)"]],Pl=Object.create(null),kl=e=>"string"==typeof e;class Cl{constructor(e,t,r,n){this.origin=e,this.pattern=t,this.negative=r,this.regex=n}}const Ol=(e,t)=>{throw new t(e)},xl=(e,t,r)=>kl(e)?e?!xl.isNotRelative(e)||r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),$l=e=>Sl.test(e);xl.isNotRelative=$l,xl.convert=e=>e;class Ll{constructor({ignorecase:e=!0,ignoreCase:t=e,allowRelativePaths:r=!1}={}){var n;n=El,Object.defineProperty(this,n,{value:true}),this._rules=[],this._ignoreCase=t,this._allowRelativePaths=r,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[El])return this._rules=this._rules.concat(e._rules),void(this._added=!0);if((e=>e&&kl(e)&&!bl.test(e)&&0!==e.indexOf("#"))(e)){const t=((e,t)=>{const r=e;let n=!1;0===e.indexOf("!")&&(n=!0,e=e.substr(1));const o=((e,t)=>{let r=Pl[e];return r||(r=Tl.reduce(((t,r)=>t.replace(r[0],r[1].bind(e))),e),Pl[e]=r),t?new RegExp(r,"i"):new RegExp(r)})(e=e.replace(_l,"!").replace(vl,"#"),t);return new Cl(r,e,n,o)})(e,this._ignoreCase);this._added=!0,this._rules.push(t)}}add(e){return this._added=!1,gl(kl(e)?(e=>e.split(wl))(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,t){let r=!1,n=!1;return this._rules.forEach((o=>{const{negative:i}=o;n===i&&r!==n||i&&!r&&!n&&!t||o.regex.test(e)&&(r=!i,n=i)})),{ignored:r,unignored:n}}_test(e,t,r,n){const o=e&&xl.convert(e);return xl(o,e,this._allowRelativePaths?Al:Ol),this._t(o,t,r,n)}_t(e,t,r,n){if(e in t)return t[e];if(n||(n=e.split("/")),n.pop(),!n.length)return t[e]=this._testOne(e,r);const o=this._t(n.join("/")+"/",t,r,n);return t[e]=o.ignored?o:this._testOne(e,r)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return gl(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}}const Fl=e=>new Ll(e);Fl.isPathValid=e=>xl(e&&xl.convert(e),e,Al),Fl.default=Fl;var Dl=Fl;if("undefined"!=typeof process&&(process.env&&process.env.IGNORE_TEST_WIN32||"win32"===process.platform)){const e=e=>/^\\\\\?\\/.test(e)||/["<>|\u0000-\u001F]+/u.test(e)?e:e.replace(/\\/g,"/");xl.convert=e;const t=/^[a-z]:\//i;xl.isNotRelative=e=>t.test(e)||$l(e)}const jl=ae(Dl);function Ml(e){const t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}const Bl=e=>e instanceof URL?N.fileURLToPath(e):e;class Il extends G.Transform{constructor(e){super({objectMode:!0,transform(t,r,n){n(void 0,e(t)?t:void 0)}})}}const Nl=e=>"!"===e[0],Hl={ignore:["**/node_modules","**/flow-typed","**/coverage","**/.git"],absolute:!0,dot:!0},ql="**/.gitignore",Wl=(e,t)=>{const r=e.flatMap((e=>((e,t)=>{const r=Ml(I.relative(t,I.dirname(e.filePath)));return e.content.split(/\r?\n/).filter((e=>e&&!e.startsWith("#"))).map((e=>((e,t)=>Nl(e)?"!"+I.posix.join(t,e.slice(1)):I.posix.join(t,e))(e,r)))})(e,t))),n=jl().add(r);return e=>(e=((e,t)=>{if(t=Ml(t),I.isAbsolute(e)){if(Ml(e).startsWith(t))return I.relative(t,e);throw new Error(`Path ${e} is not in cwd ${t}`)}return e})(e=Bl(e),t),!!e&&n.ignores(Ml(e)))},Ul=(e={})=>({cwd:Bl(e.cwd)||z.cwd(),suppressErrors:Boolean(e.suppressErrors)}),zl=async(e,t)=>{const{cwd:r,suppressErrors:n}=Ul(t),o=await ol(e,{cwd:r,suppressErrors:n,...Hl}),i=await Promise.all(o.map((async e=>({filePath:e,content:await q.promises.readFile(e,"utf8")}))));return Wl(i,r)},Gl=(e,t)=>{const{cwd:r,suppressErrors:n}=Ul(t),o=ol.sync(e,{cwd:r,suppressErrors:n,...Hl}).map((e=>({filePath:e,content:q.readFileSync(e,"utf8")})));return Wl(o,r)},Vl=e=>((e=>{if(e.some((e=>"string"!=typeof e)))throw new TypeError("Patterns must be a string or an array of strings")})(e=[...new Set([e].flat())]),e),Kl=(e={})=>((e=>{if(!e.cwd)return;let t;try{t=q.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")})(e={ignore:[],expandDirectories:!0,...e,cwd:Bl(e.cwd)}),e),Yl=e=>async(t,r)=>e(Vl(t),Kl(r)),Ql=e=>(t,r)=>e(Vl(t),Kl(r)),Xl=e=>{const{ignoreFiles:t,gitignore:r}=e,n=t?Vl(t):[];return r&&n.push(ql),n},Jl=async e=>{const t=Xl(e);return eu(t.length>0&&await zl(t,e))},Zl=e=>{const t=Xl(e);return eu(t.length>0&&Gl(t,e))},eu=e=>{const t=new Set;return r=>{const n=r.path||r,o=I.normalize(n),i=t.has(o)||e&&e(n);return t.add(o),!i}},tu=(e,t)=>e.flat().filter((e=>t(e))),ru=(e,t)=>{const r=[];for(;e.length>0;){const n=e.findIndex((e=>Nl(e)));if(-1===n){r.push({patterns:e,options:t});break}const o=e[n].slice(1);for(const e of r)e.options.ignore.push(o);0!==n&&r.push({patterns:e.slice(0,n),options:{...t,ignore:[...t.ignore,o]}}),e=e.slice(n+1)}return r},nu=(e,t)=>({...t?{cwd:t}:{},...Array.isArray(e)?{files:e}:e}),ou=async(e,t)=>{const r=ru(e,t),{cwd:n,expandDirectories:o}=t;if(!o)return r;const i=nu(o,n),s=n?{cwd:n}:void 0;return Promise.all(r.map((async e=>{let{patterns:t,options:r}=e;return[t,r.ignore]=await Promise.all([ml(t,i),ml(r.ignore,s)]),{patterns:t,options:r}})))},iu=(e,t)=>{const r=ru(e,t),{cwd:n,expandDirectories:o}=t;if(!o)return r;const i=nu(o,n),s=n?{cwd:n}:void 0;return r.map((e=>{let{patterns:t,options:r}=e;return t=ml.sync(t,i),r.ignore=ml.sync(r.ignore,s),{patterns:t,options:r}}))},su=Yl((async(e,t)=>{const[r,n]=await Promise.all([ou(e,t),Jl(t)]),o=await Promise.all(r.map((e=>ol(e.patterns,e.options))));return tu(o,n)})),au=Ql(((e,t)=>{const r=iu(e,t),n=Zl(t),o=r.map((e=>ol.sync(e.patterns,e.options)));return tu(o,n)})),cu=Ql(((e,t)=>{const r=iu(e,t),n=Zl(t);return((e,t)=>dn(e).pipe(new Il((e=>t(e)))))(r.map((e=>ol.stream(e.patterns,e.options))),n)})),lu=Ql(((e,t)=>e.some((e=>ol.isDynamicPattern(e,t))))),uu=Yl(ou),du=Ql(iu),fu=Object.freeze(Object.defineProperty({__proto__:null,generateGlobTasks:uu,generateGlobTasksSync:du,globby:su,globbyStream:cu,globbySync:au,isDynamicPattern:lu,isGitIgnored:e=>zl(ql,e),isGitIgnoredSync:e=>Gl(ql,e)},Symbol.toStringTag,{value:"Module"}));var hu,pu={exports:{}};if(!globalThis.ReadableStream)try{const e=require("node:process"),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),e.emitWarning=t}catch(wc){throw e.emitWarning=t,wc}}catch(wc){Object.assign(globalThis,(hu||(hu=1,function(e){const t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function r(){}const n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==se?se:void 0;function o(e){return"object"==typeof e&&null!==e||"function"==typeof e}const i=r,s=Promise,a=Promise.prototype.then,c=Promise.resolve.bind(s),l=Promise.reject.bind(s);function u(e){return new s(e)}function d(e){return c(e)}function f(e){return l(e)}function h(e,t,r){return a.call(e,t,r)}function p(e,t,r){h(h(e,t,r),void 0,i)}function y(e,t){p(e,t)}function m(e,t){p(e,void 0,t)}function g(e,t,r){return h(e,t,r)}function b(e){h(e,void 0,i)}const _=(()=>{const e=n&&n.queueMicrotask;if("function"==typeof e)return e;const t=d(void 0);return e=>h(t,e)})();function v(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function w(e,t,r){try{return d(v(e,t,r))}catch(e){return f(e)}}class S{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){const e=this._front;let t=e;const r=this._cursor;let n=r+1;const o=e._elements,i=o[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),o[r]=void 0,i}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&void 0===r._next||t===n.length&&(r=r._next,n=r._elements,t=0,0===n.length));)e(n[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}function E(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?P(e):"closed"===t._state?function(e){P(e),O(e)}(e):k(e,t._storedError)}function R(e,t){return Rr(e._ownerReadableStream,t)}function A(e){"readable"===e._ownerReadableStream._state?C(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){k(e,t)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function T(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function P(e){e._closedPromise=u(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function k(e,t){P(e),C(e,t)}function C(e,t){void 0!==e._closedPromise_reject&&(b(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function O(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const x=t("[[AbortSteps]]"),$=t("[[ErrorSteps]]"),L=t("[[CancelSteps]]"),F=t("[[PullSteps]]"),D=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},j=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function M(e,t){if(void 0!==e&&!function(e){return"object"==typeof e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function B(e,t){if("function"!=typeof e)throw new TypeError(`${t} is not a function.`)}function I(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function N(e,t,r){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function H(e,t,r){if(void 0===e)throw new TypeError(`${t} is required in '${r}'.`)}function q(e){return Number(e)}function W(e){return 0===e?0:e}function U(e,t){const r=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=W(n),!D(n))throw new TypeError(`${t} is not a finite number`);if(n=function(e){return W(j(e))}(n),n<0||n>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return D(n)&&0!==n?n:0}function z(e,t){if(!Sr(e))throw new TypeError(`${t} is not a ReadableStream.`)}function G(e){return new X(e)}function V(e,t){e._reader._readRequests.push(t)}function K(e,t,r){const n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function Y(e){return e._reader._readRequests.length}function Q(e){const t=e._reader;return void 0!==t&&!!J(t)}class X{constructor(e){if(N(e,1,"ReadableStreamDefaultReader"),z(e,"First parameter"),Er(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");E(this,e),this._readRequests=new S}get closed(){return J(this)?this._closedPromise:f(ee("closed"))}cancel(e=void 0){return J(this)?void 0===this._ownerReadableStream?f(T("cancel")):R(this,e):f(ee("cancel"))}read(){if(!J(this))return f(ee("read"));if(void 0===this._ownerReadableStream)return f(T("read from"));let e,t;const r=u(((r,n)=>{e=r,t=n}));return Z(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!J(this))throw ee("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");A(this)}}}function J(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof X}function Z(e,t){const r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[F](t)}function ee(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(X.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(X.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});const te=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype);class re{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?g(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?g(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(void 0===e._ownerReadableStream)return f(T("iterate"));let t,r;const n=u(((e,n)=>{t=e,r=n}));return Z(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,_((()=>t({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,A(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,A(e),r(t)}}),n}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(void 0===t._ownerReadableStream)return f(T("finish iterating"));if(!this._preventCancel){const r=R(t,e);return A(t),g(r,(()=>({value:e,done:!0})))}return A(t),d({value:e,done:!0})}}const ne={next(){return oe(this)?this._asyncIteratorImpl.next():f(ie("next"))},return(e){return oe(this)?this._asyncIteratorImpl.return(e):f(ie("return"))}};function oe(e){if(!o(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof re}catch(e){return!1}}function ie(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==te&&Object.setPrototypeOf(ne,te);const ae=Number.isNaN||function(e){return e!=e};function ce(e){return e.slice()}function le(e,t,r,n,o){new Uint8Array(e).set(new Uint8Array(r,n,o),t)}function ue(e,t,r){if(e.slice)return e.slice(t,r);const n=r-t,o=new ArrayBuffer(n);return le(o,0,e,t,n),o}function de(e){const t=ue(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function fe(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function he(e,t,r){if(!function(e){return!("number"!=typeof e||ae(e)||e<0)}(r)||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function pe(e){e._queue=new S,e._queueTotalSize=0}class ye{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!be(this))throw Ne("view");return this._view}respond(e){if(!be(this))throw Ne("respond");if(N(e,1,"respond"),e=U(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,Me(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!be(this))throw Ne("respondWithNewView");if(N(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");e.buffer,Be(this._associatedReadableByteStreamController,e)}}Object.defineProperties(ye.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(ye.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class me{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ge(this))throw He("byobRequest");return De(this)}get desiredSize(){if(!ge(this))throw He("desiredSize");return je(this)}close(){if(!ge(this))throw He("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);$e(this)}enqueue(e){if(!ge(this))throw He("enqueue");if(N(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);Le(this,e)}error(e=void 0){if(!ge(this))throw He("error");Fe(this,e)}[L](e){ve(this),pe(this);const t=this._cancelAlgorithm(e);return xe(this),t}[F](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0){const t=this._queue.shift();this._queueTotalSize-=t.byteLength,Te(this);const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return void e._chunkSteps(r)}const r=this._autoAllocateChunkSize;if(void 0!==r){let n;try{n=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}const o={buffer:n,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(o)}V(t,e),_e(this)}}function ge(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof me}function be(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof ye}function _e(e){(function(e){const t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&(!!(Q(t)&&Y(t)>0)||!!(ze(t)&&Ue(t)>0)||je(e)>0)})(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,p(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,_e(e))}),(t=>{Fe(e,t)}))))}function ve(e){Pe(e),e._pendingPullIntos=new S}function we(e,t){let r=!1;"closed"===e._state&&(r=!0);const n=Se(t);"default"===t.readerType?K(e,n,r):function(e,t,r){const n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}(e,n,r)}function Se(e){const t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function Ee(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function Re(e,t){const r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,o=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),i=t.bytesFilled+o,s=i-i%r;let a=o,c=!1;s>n&&(a=s-t.bytesFilled,c=!0);const l=e._queue;for(;a>0;){const r=l.peek(),n=Math.min(a,r.byteLength),o=t.byteOffset+t.bytesFilled;le(t.buffer,o,r.buffer,r.byteOffset,n),r.byteLength===n?l.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,Ae(e,n,t),a-=n}return c}function Ae(e,t,r){r.bytesFilled+=t}function Te(e){0===e._queueTotalSize&&e._closeRequested?(xe(e),Ar(e._controlledReadableByteStream)):_e(e)}function Pe(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function ke(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();Re(e,t)&&(Oe(e),we(e._controlledReadableByteStream,t))}}function Ce(e,t){const r=e._pendingPullIntos.peek();Pe(e),"closed"===e._controlledReadableByteStream._state?function(e,t){const r=e._controlledReadableByteStream;if(ze(r))for(;Ue(r)>0;)we(r,Oe(e))}(e):function(e,t,r){if(Ae(0,t,r),r.bytesFilled<r.elementSize)return;Oe(e);const n=r.bytesFilled%r.elementSize;if(n>0){const t=r.byteOffset+r.bytesFilled,o=ue(r.buffer,t-n,t);Ee(e,o,0,o.byteLength)}r.bytesFilled-=n,we(e._controlledReadableByteStream,r),ke(e)}(e,t,r),_e(e)}function Oe(e){return e._pendingPullIntos.shift()}function xe(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function $e(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Fe(e,t),t}xe(e),Ar(t)}}function Le(e,t){const r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;const n=t.buffer,o=t.byteOffset,i=t.byteLength,s=n;if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();t.buffer,t.buffer=t.buffer}Pe(e),Q(r)?0===Y(r)?Ee(e,s,o,i):(e._pendingPullIntos.length>0&&Oe(e),K(r,new Uint8Array(s,o,i),!1)):ze(r)?(Ee(e,s,o,i),ke(e)):Ee(e,s,o,i),_e(e)}function Fe(e,t){const r=e._controlledReadableByteStream;"readable"===r._state&&(ve(e),pe(e),xe(e),Tr(r,t))}function De(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(ye.prototype);(function(e,t,r){e._associatedReadableByteStreamController=t,e._view=r})(n,e,r),e._byobRequest=n}return e._byobRequest}function je(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Me(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=r.buffer,Ce(e,t)}function Be(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const n=t.byteLength;r.buffer=t.buffer,Ce(e,n)}function Ie(e,t,r,n,o,i,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,pe(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=o,t._autoAllocateChunkSize=s,t._pendingPullIntos=new S,e._readableStreamController=t,p(d(r()),(()=>{t._started=!0,_e(t)}),(e=>{Fe(t,e)}))}function Ne(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function He(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function qe(e){return new Ge(e)}function We(e,t){e._reader._readIntoRequests.push(t)}function Ue(e){return e._reader._readIntoRequests.length}function ze(e){const t=e._reader;return void 0!==t&&!!Ve(t)}Object.defineProperties(me.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(me.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class Ge{constructor(e){if(N(e,1,"ReadableStreamBYOBReader"),z(e,"First parameter"),Er(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ge(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");E(this,e),this._readIntoRequests=new S}get closed(){return Ve(this)?this._closedPromise:f(Ye("closed"))}cancel(e=void 0){return Ve(this)?void 0===this._ownerReadableStream?f(T("cancel")):R(this,e):f(Ye("cancel"))}read(e){if(!Ve(this))return f(Ye("read"));if(!ArrayBuffer.isView(e))return f(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return f(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return f(new TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return f(T("read from"));let t,r;const n=u(((e,n)=>{t=e,r=n})),o={_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>r(e)};return Ke(this,e,o),n}releaseLock(){if(!Ve(this))throw Ye("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");A(this)}}}function Ve(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof Ge}function Ke(e,t,r){const n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):function(e,t,r){const n=e._controlledReadableByteStream;let o=1;t.constructor!==DataView&&(o=t.constructor.BYTES_PER_ELEMENT);const i=t.constructor,s=t.buffer,a={buffer:s,bufferByteLength:s.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:o,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(a),void We(n,r);if("closed"!==n._state){if(e._queueTotalSize>0){if(Re(e,a)){const t=Se(a);return Te(e),void r._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return Fe(e,t),void r._errorSteps(t)}}e._pendingPullIntos.push(a),We(n,r),_e(e)}else{const e=new i(a.buffer,a.byteOffset,0);r._closeSteps(e)}}(n._readableStreamController,t,r)}function Ye(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Qe(e,t){const{highWaterMark:r}=e;if(void 0===r)return t;if(ae(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Xe(e){const{size:t}=e;return t||(()=>1)}function Je(e,t){M(e,t);const r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:q(r),size:void 0===n?void 0:Ze(n,`${t} has member 'size' that`)}}function Ze(e,t){return B(e,t),t=>q(e(t))}function et(e,t,r){return B(e,r),r=>w(e,t,[r])}function tt(e,t,r){return B(e,r),()=>w(e,t,[])}function rt(e,t,r){return B(e,r),r=>v(e,t,[r])}function nt(e,t,r){return B(e,r),(r,n)=>w(e,t,[r,n])}function ot(e,t){if(!lt(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(Ge.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Ge.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const it="function"==typeof AbortController;class st{constructor(e={},t={}){void 0===e?e=null:I(e,"First parameter");const r=Je(t,"Second parameter"),n=function(e,t){M(e,t);const r=null==e?void 0:e.abort,n=null==e?void 0:e.close,o=null==e?void 0:e.start,i=null==e?void 0:e.type,s=null==e?void 0:e.write;return{abort:void 0===r?void 0:et(r,e,`${t} has member 'abort' that`),close:void 0===n?void 0:tt(n,e,`${t} has member 'close' that`),start:void 0===o?void 0:rt(o,e,`${t} has member 'start' that`),write:void 0===s?void 0:nt(s,e,`${t} has member 'write' that`),type:i}}(e,"First parameter");if(ct(this),void 0!==n.type)throw new RangeError("Invalid type is specified");const o=Xe(r);!function(e,t,r,n){const o=Object.create(kt.prototype);let i=()=>{},s=()=>d(void 0),a=()=>d(void 0),c=()=>d(void 0);void 0!==t.start&&(i=()=>t.start(o)),void 0!==t.write&&(s=e=>t.write(e,o)),void 0!==t.close&&(a=()=>t.close()),void 0!==t.abort&&(c=e=>t.abort(e)),Ot(e,o,i,s,a,c,r,n)}(this,n,Qe(r,1),o)}get locked(){if(!lt(this))throw Mt("locked");return ut(this)}abort(e=void 0){return lt(this)?ut(this)?f(new TypeError("Cannot abort a stream that already has a writer")):dt(this,e):f(Mt("abort"))}close(){return lt(this)?ut(this)?f(new TypeError("Cannot close a stream that already has a writer")):mt(this)?f(new TypeError("Cannot close an already-closing stream")):ft(this):f(Mt("close"))}getWriter(){if(!lt(this))throw Mt("getWriter");return at(this)}}function at(e){return new _t(e)}function ct(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new S,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function lt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof st}function ut(e){return void 0!==e._writer}function dt(e,t){var r;if("closed"===e._state||"errored"===e._state)return d(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort();const n=e._state;if("closed"===n||"errored"===n)return d(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let o=!1;"erroring"===n&&(o=!0,t=void 0);const i=u(((r,n)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:o}}));return e._pendingAbortRequest._promise=i,o||pt(e,t),i}function ft(e){const t=e._state;if("closed"===t||"errored"===t)return f(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=u(((t,r)=>{const n={_resolve:t,_reject:r};e._closeRequest=n})),n=e._writer;return void 0!==n&&e._backpressure&&"writable"===t&&Yt(n),function(e){he(e,Pt,0),Lt(e)}(e._writableStreamController),r}function ht(e,t){"writable"!==e._state?yt(e):pt(e,t)}function pt(e,t){const r=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;void 0!==n&&Rt(n,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&r._started&&yt(e)}function yt(e){e._state="errored",e._writableStreamController[$]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new S,void 0===e._pendingAbortRequest)return void gt(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void gt(e);p(e._writableStreamController[x](r._reason),(()=>{r._resolve(),gt(e)}),(t=>{r._reject(t),gt(e)}))}function mt(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function gt(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&Wt(t,e._storedError)}function bt(e,t){const r=e._writer;void 0!==r&&t!==e._backpressure&&(t?function(e){zt(e)}(r):Yt(r)),e._backpressure=t}Object.defineProperties(st.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(st.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});class _t{constructor(e){if(N(e,1,"WritableStreamDefaultWriter"),ot(e,"First parameter"),ut(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!mt(e)&&e._backpressure?zt(this):Vt(this),Ht(this);else if("erroring"===t)Gt(this,e._storedError),Ht(this);else if("closed"===t)Vt(this),function(e){Ht(e),Ut(e)}(this);else{const t=e._storedError;Gt(this,t),qt(this,t)}}get closed(){return vt(this)?this._closedPromise:f(It("closed"))}get desiredSize(){if(!vt(this))throw It("desiredSize");if(void 0===this._ownerWritableStream)throw Nt("desiredSize");return function(e){const t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:$t(t._writableStreamController)}(this)}get ready(){return vt(this)?this._readyPromise:f(It("ready"))}abort(e=void 0){return vt(this)?void 0===this._ownerWritableStream?f(Nt("abort")):function(e,t){return dt(e._ownerWritableStream,t)}(this,e):f(It("abort"))}close(){if(!vt(this))return f(It("close"));const e=this._ownerWritableStream;return void 0===e?f(Nt("close")):mt(e)?f(new TypeError("Cannot close an already-closing stream")):wt(this)}releaseLock(){if(!vt(this))throw It("releaseLock");void 0!==this._ownerWritableStream&&At(this)}write(e=void 0){return vt(this)?void 0===this._ownerWritableStream?f(Nt("write to")):Tt(this,e):f(It("write"))}}function vt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof _t}function wt(e){return ft(e._ownerWritableStream)}function St(e){const t=e._ownerWritableStream,r=t._state;return mt(t)||"closed"===r?d(void 0):"errored"===r?f(t._storedError):wt(e)}function Et(e,t){"pending"===e._closedPromiseState?Wt(e,t):function(e,t){qt(e,t)}(e,t)}function Rt(e,t){"pending"===e._readyPromiseState?Kt(e,t):function(e,t){Gt(e,t)}(e,t)}function At(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Rt(e,r),Et(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function Tt(e,t){const r=e._ownerWritableStream,n=r._writableStreamController,o=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return Ft(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return f(Nt("write to"));const i=r._state;if("errored"===i)return f(r._storedError);if(mt(r)||"closed"===i)return f(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===i)return f(r._storedError);const s=function(e){return u(((t,r)=>{const n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}(r);return function(e,t,r){try{he(e,t,r)}catch(t){return void Ft(e,t)}const n=e._controlledWritableStream;mt(n)||"writable"!==n._state||bt(n,Dt(e)),Lt(e)}(n,t,o),s}Object.defineProperties(_t.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(_t.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Pt={};class kt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Ct(this))throw Bt("abortReason");return this._abortReason}get signal(){if(!Ct(this))throw Bt("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e=void 0){if(!Ct(this))throw Bt("error");"writable"===this._controlledWritableStream._state&&jt(this,e)}[x](e){const t=this._abortAlgorithm(e);return xt(this),t}[$](){pe(this)}}function Ct(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof kt}function Ot(e,t,r,n,o,i,s,a){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,pe(t),t._abortReason=void 0,t._abortController=function(){if(it)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=a,t._strategyHWM=s,t._writeAlgorithm=n,t._closeAlgorithm=o,t._abortAlgorithm=i;const c=Dt(t);bt(e,c),p(d(r()),(()=>{t._started=!0,Lt(t)}),(r=>{t._started=!0,ht(e,r)}))}function xt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function $t(e){return e._strategyHWM-e._queueTotalSize}function Lt(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void yt(t);if(0===e._queue.length)return;const r=function(e){return e._queue.peek().value}(e);r===Pt?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),fe(e);const r=e._closeAlgorithm();xt(e),p(r,(()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&Ut(t)}(t)}),(e=>{!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),ht(e,t)}(t,e)}))}(e):function(e,t){const r=e._controlledWritableStream;(function(e){e._inFlightWriteRequest=e._writeRequests.shift()})(r),p(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);const t=r._state;if(fe(e),!mt(r)&&"writable"===t){const t=Dt(e);bt(r,t)}Lt(e)}),(t=>{"writable"===r._state&&xt(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,ht(e,t)}(r,t)}))}(e,r)}function Ft(e,t){"writable"===e._controlledWritableStream._state&&jt(e,t)}function Dt(e){return $t(e)<=0}function jt(e,t){const r=e._controlledWritableStream;xt(e),pt(r,t)}function Mt(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Bt(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function It(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Nt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Ht(e){e._closedPromise=u(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function qt(e,t){Ht(e),Wt(e,t)}function Wt(e,t){void 0!==e._closedPromise_reject&&(b(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Ut(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function zt(e){e._readyPromise=u(((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function Gt(e,t){zt(e),Kt(e,t)}function Vt(e){zt(e),Yt(e)}function Kt(e,t){void 0!==e._readyPromise_reject&&(b(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Yt(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(kt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(kt.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const Qt="undefined"!=typeof DOMException?DOMException:void 0;const Xt=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(Qt)?Qt:function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function Jt(e,t,n,o,i,s){const a=G(e),c=at(t);e._disturbed=!0;let l=!1,f=d(void 0);return u(((g,_)=>{let v;if(void 0!==s){if(v=()=>{const r=new Xt("Aborted","AbortError"),n=[];o||n.push((()=>"writable"===t._state?dt(t,r):d(void 0))),i||n.push((()=>"readable"===e._state?Rr(e,r):d(void 0))),R((()=>Promise.all(n.map((e=>e())))),!0,r)},s.aborted)return void v();s.addEventListener("abort",v)}function w(){return l?d(!0):h(c._readyPromise,(()=>u(((e,t)=>{Z(a,{_chunkSteps:t=>{f=h(Tt(c,t),void 0,r),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})}))))}if(E(e,a._closedPromise,(e=>{o?T(!0,e):R((()=>dt(t,e)),!0,e)})),E(t,c._closedPromise,(t=>{i?T(!0,t):R((()=>Rr(e,t)),!0,t)})),function(e,t,r){"closed"===e._state?r():y(t,r)}(e,a._closedPromise,(()=>{n?T():R((()=>St(c)))})),mt(t)||"closed"===t._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");i?T(!0,t):R((()=>Rr(e,t)),!0,t)}function S(){const e=f;return h(f,(()=>e!==f?S():void 0))}function E(e,t,r){"errored"===e._state?r(e._storedError):m(t,r)}function R(e,r,n){function o(){p(e(),(()=>P(r,n)),(e=>P(!0,e)))}l||(l=!0,"writable"!==t._state||mt(t)?o():y(S(),o))}function T(e,r){l||(l=!0,"writable"!==t._state||mt(t)?P(e,r):y(S(),(()=>P(e,r))))}function P(e,t){At(c),A(a),void 0!==s&&s.removeEventListener("abort",v),e?_(t):g(void 0)}b(u(((e,t)=>{!function r(n){n?e():h(w(),r,t)}(!1)})))}))}class Zt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!er(this))throw ur("desiredSize");return ar(this)}close(){if(!er(this))throw ur("close");if(!cr(this))throw new TypeError("The stream is not in a state that permits close");or(this)}enqueue(e=void 0){if(!er(this))throw ur("enqueue");if(!cr(this))throw new TypeError("The stream is not in a state that permits enqueue");return ir(this,e)}error(e=void 0){if(!er(this))throw ur("error");sr(this,e)}[L](e){pe(this);const t=this._cancelAlgorithm(e);return nr(this),t}[F](e){const t=this._controlledReadableStream;if(this._queue.length>0){const r=fe(this);this._closeRequested&&0===this._queue.length?(nr(this),Ar(t)):tr(this),e._chunkSteps(r)}else V(t,e),tr(this)}}function er(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof Zt}function tr(e){rr(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,p(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,tr(e))}),(t=>{sr(e,t)}))))}function rr(e){const t=e._controlledReadableStream;return!!cr(e)&&!!e._started&&(!!(Er(t)&&Y(t)>0)||ar(e)>0)}function nr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function or(e){if(!cr(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(nr(e),Ar(t))}function ir(e,t){if(!cr(e))return;const r=e._controlledReadableStream;if(Er(r)&&Y(r)>0)K(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw sr(e,t),t}try{he(e,t,r)}catch(t){throw sr(e,t),t}}tr(e)}function sr(e,t){const r=e._controlledReadableStream;"readable"===r._state&&(pe(e),nr(e),Tr(r,t))}function ar(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function cr(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function lr(e,t,r,n,o,i,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,pe(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=o,e._readableStreamController=t,p(d(r()),(()=>{t._started=!0,tr(t)}),(e=>{sr(t,e)}))}function ur(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function dr(e,t){return ge(e._readableStreamController)?function(e){let t,r,n,o,i,s=G(e),a=!1,c=!1,l=!1,f=!1,h=!1;const p=u((e=>{i=e}));function y(e){m(e._closedPromise,(t=>{e===s&&(Fe(n._readableStreamController,t),Fe(o._readableStreamController,t),f&&h||i(void 0))}))}function g(){Ve(s)&&(A(s),s=G(e),y(s)),Z(s,{_chunkSteps:t=>{_((()=>{c=!1,l=!1;const r=t;let s=t;if(!f&&!h)try{s=de(t)}catch(t){return Fe(n._readableStreamController,t),Fe(o._readableStreamController,t),void i(Rr(e,t))}f||Le(n._readableStreamController,r),h||Le(o._readableStreamController,s),a=!1,c?v():l&&w()}))},_closeSteps:()=>{a=!1,f||$e(n._readableStreamController),h||$e(o._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&Me(n._readableStreamController,0),o._readableStreamController._pendingPullIntos.length>0&&Me(o._readableStreamController,0),f&&h||i(void 0)},_errorSteps:()=>{a=!1}})}function b(t,r){J(s)&&(A(s),s=qe(e),y(s));const u=r?o:n,d=r?n:o;Ke(s,t,{_chunkSteps:t=>{_((()=>{c=!1,l=!1;const n=r?h:f;if(r?f:h)n||Be(u._readableStreamController,t);else{let r;try{r=de(t)}catch(t){return Fe(u._readableStreamController,t),Fe(d._readableStreamController,t),void i(Rr(e,t))}n||Be(u._readableStreamController,t),Le(d._readableStreamController,r)}a=!1,c?v():l&&w()}))},_closeSteps:e=>{a=!1;const t=r?h:f,n=r?f:h;t||$e(u._readableStreamController),n||$e(d._readableStreamController),void 0!==e&&(t||Be(u._readableStreamController,e),!n&&d._readableStreamController._pendingPullIntos.length>0&&Me(d._readableStreamController,0)),t&&n||i(void 0)},_errorSteps:()=>{a=!1}})}function v(){if(a)return c=!0,d(void 0);a=!0;const e=De(n._readableStreamController);return null===e?g():b(e._view,!1),d(void 0)}function w(){if(a)return l=!0,d(void 0);a=!0;const e=De(o._readableStreamController);return null===e?g():b(e._view,!0),d(void 0)}function S(n){if(f=!0,t=n,h){const n=ce([t,r]),o=Rr(e,n);i(o)}return p}function E(n){if(h=!0,r=n,f){const n=ce([t,r]),o=Rr(e,n);i(o)}return p}function R(){}return n=vr(R,v,S),o=vr(R,w,E),y(s),[n,o]}(e):function(e,t){const r=G(e);let n,o,i,s,a,c=!1,l=!1,f=!1,h=!1;const p=u((e=>{a=e}));function y(){return c?(l=!0,d(void 0)):(c=!0,Z(r,{_chunkSteps:e=>{_((()=>{l=!1;const t=e,r=e;f||ir(i._readableStreamController,t),h||ir(s._readableStreamController,r),c=!1,l&&y()}))},_closeSteps:()=>{c=!1,f||or(i._readableStreamController),h||or(s._readableStreamController),f&&h||a(void 0)},_errorSteps:()=>{c=!1}}),d(void 0))}function g(t){if(f=!0,n=t,h){const t=ce([n,o]),r=Rr(e,t);a(r)}return p}function b(t){if(h=!0,o=t,f){const t=ce([n,o]),r=Rr(e,t);a(r)}return p}function v(){}return i=_r(v,y,g),s=_r(v,y,b),m(r._closedPromise,(e=>{sr(i._readableStreamController,e),sr(s._readableStreamController,e),f&&h||a(void 0)})),[i,s]}(e)}function fr(e,t,r){return B(e,r),r=>w(e,t,[r])}function hr(e,t,r){return B(e,r),r=>w(e,t,[r])}function pr(e,t,r){return B(e,r),r=>v(e,t,[r])}function yr(e,t){if("bytes"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function mr(e,t){if("byob"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function gr(e,t){M(e,t);const r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,o=null==e?void 0:e.preventClose,i=null==e?void 0:e.signal;return void 0!==i&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(i,`${t} has member 'signal' that`),{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(o),signal:i}}Object.defineProperties(Zt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Zt.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class br{constructor(e={},t={}){void 0===e?e=null:I(e,"First parameter");const r=Je(t,"Second parameter"),n=function(e,t){M(e,t);const r=e,n=null==r?void 0:r.autoAllocateChunkSize,o=null==r?void 0:r.cancel,i=null==r?void 0:r.pull,s=null==r?void 0:r.start,a=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:U(n,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===o?void 0:fr(o,r,`${t} has member 'cancel' that`),pull:void 0===i?void 0:hr(i,r,`${t} has member 'pull' that`),start:void 0===s?void 0:pr(s,r,`${t} has member 'start' that`),type:void 0===a?void 0:yr(a,`${t} has member 'type' that`)}}(e,"First parameter");if(wr(this),"bytes"===n.type){if(void 0!==r.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){const n=Object.create(me.prototype);let o=()=>{},i=()=>d(void 0),s=()=>d(void 0);void 0!==t.start&&(o=()=>t.start(n)),void 0!==t.pull&&(i=()=>t.pull(n)),void 0!==t.cancel&&(s=e=>t.cancel(e));const a=t.autoAllocateChunkSize;if(0===a)throw new TypeError("autoAllocateChunkSize must be greater than 0");Ie(e,n,o,i,s,r,a)}(this,n,Qe(r,0))}else{const e=Xe(r);!function(e,t,r,n){const o=Object.create(Zt.prototype);let i=()=>{},s=()=>d(void 0),a=()=>d(void 0);void 0!==t.start&&(i=()=>t.start(o)),void 0!==t.pull&&(s=()=>t.pull(o)),void 0!==t.cancel&&(a=e=>t.cancel(e)),lr(e,o,i,s,a,r,n)}(this,n,Qe(r,1),e)}}get locked(){if(!Sr(this))throw Pr("locked");return Er(this)}cancel(e=void 0){return Sr(this)?Er(this)?f(new TypeError("Cannot cancel a stream that already has a reader")):Rr(this,e):f(Pr("cancel"))}getReader(e=void 0){if(!Sr(this))throw Pr("getReader");return void 0===function(e,t){M(e,t);const r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:mr(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode?G(this):qe(this)}pipeThrough(e,t={}){if(!Sr(this))throw Pr("pipeThrough");N(e,1,"pipeThrough");const r=function(e,t){M(e,t);const r=null==e?void 0:e.readable;H(r,"readable","ReadableWritablePair"),z(r,`${t} has member 'readable' that`);const n=null==e?void 0:e.writable;return H(n,"writable","ReadableWritablePair"),ot(n,`${t} has member 'writable' that`),{readable:r,writable:n}}(e,"First parameter"),n=gr(t,"Second parameter");if(Er(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ut(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return b(Jt(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(e,t={}){if(!Sr(this))return f(Pr("pipeTo"));if(void 0===e)return f("Parameter 1 is required in 'pipeTo'.");if(!lt(e))return f(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let r;try{r=gr(t,"Second parameter")}catch(e){return f(e)}return Er(this)?f(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ut(e)?f(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Jt(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!Sr(this))throw Pr("tee");return ce(dr(this))}values(e=void 0){if(!Sr(this))throw Pr("values");return function(e,t){const r=G(e),n=new re(r,t),o=Object.create(ne);return o._asyncIteratorImpl=n,o}(this,function(e,t){M(e,t);const r=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}(e,"First parameter").preventCancel)}}function _r(e,t,r,n=1,o=(()=>1)){const i=Object.create(br.prototype);return wr(i),lr(i,Object.create(Zt.prototype),e,t,r,n,o),i}function vr(e,t,r){const n=Object.create(br.prototype);return wr(n),Ie(n,Object.create(me.prototype),e,t,r,0,void 0),n}function wr(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Sr(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof br}function Er(e){return void 0!==e._reader}function Rr(e,t){if(e._disturbed=!0,"closed"===e._state)return d(void 0);if("errored"===e._state)return f(e._storedError);Ar(e);const n=e._reader;return void 0!==n&&Ve(n)&&(n._readIntoRequests.forEach((e=>{e._closeSteps(void 0)})),n._readIntoRequests=new S),g(e._readableStreamController[L](t),r)}function Ar(e){e._state="closed";const t=e._reader;void 0!==t&&(O(t),J(t)&&(t._readRequests.forEach((e=>{e._closeSteps()})),t._readRequests=new S))}function Tr(e,t){e._state="errored",e._storedError=t;const r=e._reader;void 0!==r&&(C(r,t),J(r)?(r._readRequests.forEach((e=>{e._errorSteps(t)})),r._readRequests=new S):(r._readIntoRequests.forEach((e=>{e._errorSteps(t)})),r._readIntoRequests=new S))}function Pr(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function kr(e,t){M(e,t);const r=null==e?void 0:e.highWaterMark;return H(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:q(r)}}Object.defineProperties(br.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(br.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof t.asyncIterator&&Object.defineProperty(br.prototype,t.asyncIterator,{value:br.prototype.values,writable:!0,configurable:!0});const Cr=e=>e.byteLength;try{Object.defineProperty(Cr,"name",{value:"size",configurable:!0})}catch(e){}class Or{constructor(e){N(e,1,"ByteLengthQueuingStrategy"),e=kr(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!$r(this))throw xr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!$r(this))throw xr("size");return Cr}}function xr(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function $r(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof Or}Object.defineProperties(Or.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Or.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const Lr=()=>1;try{Object.defineProperty(Lr,"name",{value:"size",configurable:!0})}catch(e){}class Fr{constructor(e){N(e,1,"CountQueuingStrategy"),e=kr(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!jr(this))throw Dr("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!jr(this))throw Dr("size");return Lr}}function Dr(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function jr(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof Fr}function Mr(e,t,r){return B(e,r),r=>w(e,t,[r])}function Br(e,t,r){return B(e,r),r=>v(e,t,[r])}function Ir(e,t,r){return B(e,r),(r,n)=>w(e,t,[r,n])}Object.defineProperties(Fr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Fr.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class Nr{constructor(e={},t={},r={}){void 0===e&&(e=null);const n=Je(t,"Second parameter"),o=Je(r,"Third parameter"),i=function(e,t){M(e,t);const r=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,o=null==e?void 0:e.start,i=null==e?void 0:e.transform,s=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:Mr(r,e,`${t} has member 'flush' that`),readableType:n,start:void 0===o?void 0:Br(o,e,`${t} has member 'start' that`),transform:void 0===i?void 0:Ir(i,e,`${t} has member 'transform' that`),writableType:s}}(e,"First parameter");if(void 0!==i.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==i.writableType)throw new RangeError("Invalid writableType specified");const s=Qe(o,0),a=Xe(o),c=Qe(n,1),l=Xe(n);let h;(function(e,t,r,n,o,i){function s(){return t}function a(t){return function(e,t){const r=e._transformStreamController;return e._backpressure?g(e._backpressureChangePromise,(()=>{const n=e._writable;if("erroring"===n._state)throw n._storedError;return Yr(r,t)})):Yr(r,t)}(e,t)}function c(t){return function(e,t){return qr(e,t),d(void 0)}(e,t)}function l(){return function(e){const t=e._readable,r=e._transformStreamController,n=r._flushAlgorithm();return Vr(r),g(n,(()=>{if("errored"===t._state)throw t._storedError;or(t._readableStreamController)}),(r=>{throw qr(e,r),t._storedError}))}(e)}function u(){return function(e){return Ur(e,!1),e._backpressureChangePromise}(e)}function f(t){return Wr(e,t),d(void 0)}e._writable=function(e,t,r,n,o=1,i=(()=>1)){const s=Object.create(st.prototype);return ct(s),Ot(s,Object.create(kt.prototype),e,t,r,n,o,i),s}(s,a,l,c,r,n),e._readable=_r(s,u,f,o,i),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Ur(e,!0),e._transformStreamController=void 0})(this,u((e=>{h=e})),c,l,s,a),function(e,t){const r=Object.create(zr.prototype);let n=e=>{try{return Kr(r,e),d(void 0)}catch(e){return f(e)}},o=()=>d(void 0);void 0!==t.transform&&(n=e=>t.transform(e,r)),void 0!==t.flush&&(o=()=>t.flush(r)),function(e,t,r,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n}(e,r,n,o)}(this,i),void 0!==i.start?h(i.start(this._transformStreamController)):h(void 0)}get readable(){if(!Hr(this))throw Xr("readable");return this._readable}get writable(){if(!Hr(this))throw Xr("writable");return this._writable}}function Hr(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof Nr}function qr(e,t){sr(e._readable._readableStreamController,t),Wr(e,t)}function Wr(e,t){Vr(e._transformStreamController),Ft(e._writable._writableStreamController,t),e._backpressure&&Ur(e,!1)}function Ur(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=u((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(Nr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Nr.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});class zr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Gr(this))throw Qr("desiredSize");return ar(this._controlledTransformStream._readable._readableStreamController)}enqueue(e=void 0){if(!Gr(this))throw Qr("enqueue");Kr(this,e)}error(e=void 0){if(!Gr(this))throw Qr("error");!function(e,t){qr(e._controlledTransformStream,t)}(this,e)}terminate(){if(!Gr(this))throw Qr("terminate");!function(e){const t=e._controlledTransformStream;or(t._readable._readableStreamController),Wr(t,new TypeError("TransformStream terminated"))}(this)}}function Gr(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof zr}function Vr(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Kr(e,t){const r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!cr(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{ir(n,t)}catch(e){throw Wr(r,e),r._readable._storedError}(function(e){return!rr(e)})(n)!==r._backpressure&&Ur(r,!0)}function Yr(e,t){return g(e._transformAlgorithm(t),void 0,(t=>{throw qr(e._controlledTransformStream,t),t}))}function Qr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Xr(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(zr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(zr.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=Or,e.CountQueuingStrategy=Fr,e.ReadableByteStreamController=me,e.ReadableStream=br,e.ReadableStreamBYOBReader=Ge,e.ReadableStreamBYOBRequest=ye,e.ReadableStreamDefaultController=Zt,e.ReadableStreamDefaultReader=X,e.TransformStream=Nr,e.TransformStreamDefaultController=zr,e.WritableStream=st,e.WritableStreamDefaultController=kt,e.WritableStreamDefaultWriter=_t,Object.defineProperty(e,"__esModule",{value:!0})}(pu.exports)),pu.exports))}try{const{Blob:e}=require("buffer");e&&!e.prototype.stream&&(e.prototype.stream=function(e){let t=0;const r=this;return new ReadableStream({type:"bytes",async pull(e){const n=r.slice(t,Math.min(r.size,t+65536)),o=await n.arrayBuffer();t+=o.byteLength,e.enqueue(new Uint8Array(o)),t===r.size&&e.close()}})})}catch(wc){}
/*! fetch-blob. MIT License. Jimmy WÃ¤rting <https://jimmy.warting.se/opensource> */async function*yu(e,t=!0){for(const r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(t){let e=r.byteOffset;const t=r.byteOffset+r.byteLength;for(;e!==t;){const n=Math.min(t-e,65536),o=r.buffer.slice(e,e+n);e+=o.byteLength,yield new Uint8Array(o)}}else yield r;else{let e=0,t=r;for(;e!==t.size;){const r=t.slice(e,Math.min(t.size,e+65536)),n=await r.arrayBuffer();e+=n.byteLength,yield new Uint8Array(n)}}}const mu=class e{#e=[];#t="";#r=0;#n="transparent";constructor(t=[],r={}){if("object"!=typeof t||null===t)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof t[Symbol.iterator])throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof r&&"function"!=typeof r)throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===r&&(r={});const n=new TextEncoder;for(const r of t){let t;t=ArrayBuffer.isView(r)?new Uint8Array(r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)):r instanceof ArrayBuffer?new Uint8Array(r.slice(0)):r instanceof e?r:n.encode(`${r}`),this.#r+=ArrayBuffer.isView(t)?t.byteLength:t.size,this.#e.push(t)}this.#n=`${void 0===r.endings?"transparent":r.endings}`;const o=void 0===r.type?"":String(r.type);this.#t=/^[\x20-\x7E]*$/.test(o)?o:""}get size(){return this.#r}get type(){return this.#t}async text(){const e=new TextDecoder;let t="";for await(const r of yu(this.#e,!1))t+=e.decode(r,{stream:!0});return t+=e.decode(),t}async arrayBuffer(){const e=new Uint8Array(this.size);let t=0;for await(const r of yu(this.#e,!1))e.set(r,t),t+=r.length;return e.buffer}stream(){const e=yu(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){const r=await e.next();r.done?t.close():t.enqueue(r.value)},async cancel(){await e.return()}})}slice(t=0,r=this.size,n=""){const{size:o}=this;let i=t<0?Math.max(o+t,0):Math.min(t,o),s=r<0?Math.max(o+r,0):Math.min(r,o);const a=Math.max(s-i,0),c=this.#e,l=[];let u=0;for(const e of c){if(u>=a)break;const t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(i&&t<=i)i-=t,s-=t;else{let r;ArrayBuffer.isView(e)?(r=e.subarray(i,Math.min(t,s)),u+=r.byteLength):(r=e.slice(i,Math.min(t,s)),u+=r.size),s-=t,l.push(r),i=0}}const d=new e([],{type:String(n).toLowerCase()});return d.#r=a,d.#e=l,d}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&"object"==typeof e&&"function"==typeof e.constructor&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(mu.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});const gu=mu,bu=class extends gu{#o=0;#i="";constructor(e,t,r={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,r),null===r&&(r={});const n=void 0===r.lastModified?Date.now():Number(r.lastModified);Number.isNaN(n)||(this.#o=n),this.#i=String(t)}get name(){return this.#i}get lastModified(){return this.#o}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof gu&&/^(File)$/.test(e[Symbol.toStringTag])}};
/*! formdata-polyfill. MIT License. Jimmy WÃ¤rting <https://jimmy.warting.se/opensource> */var{toStringTag:_u,iterator:vu,hasInstance:wu}=Symbol,Su=Math.random,Eu="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),Ru=(e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[_u])?[(r=void 0!==r?r+"":"File"==t[_u]?t.name:"blob",e),t.name!==r||"blob"==t[_u]?new bu([t],r,t):t]:[e,t+""]),Au=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),Tu=(e,t,r)=>{if(t.length<r)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)};const Pu=class{#s=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[_u](){return"FormData"}[vu](){return this.entries()}static[wu](e){return e&&"object"==typeof e&&"FormData"===e[_u]&&!Eu.some((t=>"function"!=typeof e[t]))}append(...e){Tu("append",arguments,2),this.#s.push(Ru(...e))}delete(e){Tu("delete",arguments,1),e+="",this.#s=this.#s.filter((([t])=>t!==e))}get(e){Tu("get",arguments,1),e+="";for(var t=this.#s,r=t.length,n=0;n<r;n++)if(t[n][0]===e)return t[n][1];return null}getAll(e,t){return Tu("getAll",arguments,1),t=[],e+="",this.#s.forEach((r=>r[0]===e&&t.push(r[1]))),t}has(e){return Tu("has",arguments,1),e+="",this.#s.some((t=>t[0]===e))}forEach(e,t){for(var[r,n]of(Tu("forEach",arguments,1),this))e.call(t,n,r,this)}set(...e){Tu("set",arguments,2);var t=[],r=!0;e=Ru(...e),this.#s.forEach((n=>{n[0]===e[0]?r&&(r=!t.push(e)):t.push(n)})),r&&t.push(e),this.#s=t}*entries(){yield*this.#s}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}};class ku extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class Cu extends ku{constructor(e,t,r){super(e,t),r&&(this.code=this.errno=r.code,this.erroredSysCall=r.syscall)}}const Ou=Symbol.toStringTag,xu=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[Ou],$u=e=>e&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[Ou]),Lu=X.promisify(G.pipeline),Fu=Symbol("Body internals");class Du{constructor(e,{size:t=0}={}){let r=null;null===e?e=null:xu(e)?e=Q.Buffer.from(e.toString()):$u(e)||Q.Buffer.isBuffer(e)||(X.types.isAnyArrayBuffer(e)?e=Q.Buffer.from(e):ArrayBuffer.isView(e)?e=Q.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof G||(e instanceof Pu?r=(e=function(e,t=gu){var r=`${Su()}${Su()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),n=[],o=`--${r}\r\nContent-Disposition: form-data; name="`;return e.forEach(((e,t)=>"string"==typeof e?n.push(o+Au(t)+`"\r\n\r\n${e.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r\n`):n.push(o+Au(t)+`"; filename="${Au(e.name,1)}"\r\nContent-Type: ${e.type||"application/octet-stream"}\r\n\r\n`,e,"\r\n"))),n.push(`--${r}--`),new t(n,{type:"multipart/form-data; boundary="+r})}(e)).type.split("=")[1]:e=Q.Buffer.from(String(e))));let n=e;Q.Buffer.isBuffer(e)?n=G.Readable.from(e):$u(e)&&(n=G.Readable.from(e.stream())),this[Fu]={body:e,stream:n,boundary:r,disturbed:!1,error:null},this.size=t,e instanceof G&&e.on("error",(e=>{const t=e instanceof ku?e:new Cu(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[Fu].error=t}))}get body(){return this[Fu].stream}get bodyUsed(){return this[Fu].disturbed}async arrayBuffer(){const{buffer:e,byteOffset:t,byteLength:r}=await ju(this);return e.slice(t,t+r)}async formData(){const e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){const e=new Pu,t=new URLSearchParams(await this.text());for(const[r,n]of t)e.append(r,n);return e}const{toFormData:t}=await Promise.resolve().then((()=>(O||(O=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F();let r=0;const n={START_BOUNDARY:r++,HEADER_FIELD_START:r++,HEADER_FIELD:r++,HEADER_VALUE_START:r++,HEADER_VALUE:r++,HEADER_VALUE_ALMOST_DONE:r++,HEADERS_ALMOST_DONE:r++,PART_DATA_START:r++,PART_DATA:r++,END:r++};let o=1;const i=o,s=o*=2,a=e=>32|e,c=()=>{};class l{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=c,this.onHeaderField=c,this.onHeadersEnd=c,this.onHeaderValue=c,this.onPartBegin=c,this.onPartData=c,this.onPartEnd=c,this.boundaryChars={},e="\r\n--"+e;const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r),this.boundaryChars[t[r]]=!0;this.boundary=t,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=n.START_BOUNDARY}write(e){let t=0;const r=e.length;let o=this.index,{lookbehind:c,boundary:l,boundaryChars:u,index:d,state:f,flags:h}=this;const p=this.boundary.length,y=p-1,m=e.length;let g,b;const _=e=>{this[e+"Mark"]=t},v=e=>{delete this[e+"Mark"]},w=(e,t,r,n)=>{void 0!==t&&t===r||this[e](n&&n.subarray(t,r))},S=(r,n)=>{const o=r+"Mark";o in this&&(n?(w(r,this[o],t,e),delete this[o]):(w(r,this[o],e.length,e),this[o]=0))};for(t=0;t<r;t++)switch(g=e[t],f){case n.START_BOUNDARY:if(d===l.length-2){if(45===g)h|=s;else if(13!==g)return;d++;break}if(d-1==l.length-2){if(h&s&&45===g)f=n.END,h=0;else{if(h&s||10!==g)return;d=0,w("onPartBegin"),f=n.HEADER_FIELD_START}break}g!==l[d+2]&&(d=-2),g===l[d+2]&&d++;break;case n.HEADER_FIELD_START:f=n.HEADER_FIELD,_("onHeaderField"),d=0;case n.HEADER_FIELD:if(13===g){v("onHeaderField"),f=n.HEADERS_ALMOST_DONE;break}if(d++,45===g)break;if(58===g){if(1===d)return;S("onHeaderField",!0),f=n.HEADER_VALUE_START;break}if(b=a(g),b<97||b>122)return;break;case n.HEADER_VALUE_START:if(32===g)break;_("onHeaderValue"),f=n.HEADER_VALUE;case n.HEADER_VALUE:13===g&&(S("onHeaderValue",!0),w("onHeaderEnd"),f=n.HEADER_VALUE_ALMOST_DONE);break;case n.HEADER_VALUE_ALMOST_DONE:if(10!==g)return;f=n.HEADER_FIELD_START;break;case n.HEADERS_ALMOST_DONE:if(10!==g)return;w("onHeadersEnd"),f=n.PART_DATA_START;break;case n.PART_DATA_START:f=n.PART_DATA,_("onPartData");case n.PART_DATA:if(o=d,0===d){for(t+=y;t<m&&!(e[t]in u);)t+=p;t-=y,g=e[t]}if(d<l.length)l[d]===g?(0===d&&S("onPartData",!0),d++):d=0;else if(d===l.length)d++,13===g?h|=i:45===g?h|=s:d=0;else if(d-1===l.length)if(h&i){if(d=0,10===g){h&=~i,w("onPartEnd"),w("onPartBegin"),f=n.HEADER_FIELD_START;break}}else h&s&&45===g?(w("onPartEnd"),f=n.END,h=0):d=0;if(d>0)c[d-1]=g;else if(o>0){const e=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);w("onPartData",0,o,e),o=0,_("onPartData"),t--}break;case n.END:break;default:throw new Error(`Unexpected state entered: ${f}`)}S("onHeaderField"),S("onHeaderValue"),S("onPartData"),this.index=d,this.state=f,this.flags=h}end(){if(this.state===n.HEADER_FIELD_START&&0===this.index||this.state===n.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==n.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}e.toFormData=async function(e,r){if(!/multipart/i.test(r))throw new TypeError("Failed to fetch");const n=r.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!n)throw new TypeError("no or bad content-type header, no multipart boundary");const o=new l(n[1]||n[2]);let i,s,a,c,u,d;const f=[],h=new t.FormData,p=e=>{a+=b.decode(e,{stream:!0})},y=e=>{f.push(e)},m=()=>{const e=new t.File(f,d,{type:u});h.append(c,e)},g=()=>{h.append(c,a)},b=new TextDecoder("utf-8");b.decode(),o.onPartBegin=function(){o.onPartData=p,o.onPartEnd=g,i="",s="",a="",c="",u="",d=null,f.length=0},o.onHeaderField=function(e){i+=b.decode(e,{stream:!0})},o.onHeaderValue=function(e){s+=b.decode(e,{stream:!0})},o.onHeaderEnd=function(){if(s+=b.decode(),i=i.toLowerCase(),"content-disposition"===i){const e=s.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);e&&(c=e[2]||e[3]||""),d=function(e){const t=e.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!t)return;const r=t[2]||t[3]||"";let n=r.slice(r.lastIndexOf("\\")+1);return n=n.replace(/%22/g,'"'),n=n.replace(/&#(\d{4});/g,((e,t)=>String.fromCharCode(t))),n}(s),d&&(o.onPartData=y,o.onPartEnd=m)}else"content-type"===i&&(u=s);s="",i=""};for await(const t of e)o.write(t);return o.end(),h}}(L)),L)));return t(this.body,e)}async blob(){const e=this.headers&&this.headers.get("content-type")||this[Fu].body&&this[Fu].body.type||"",t=await this.arrayBuffer();return new gu([t],{type:e})}async json(){const e=await this.text();return JSON.parse(e)}async text(){const e=await ju(this);return(new TextDecoder).decode(e)}buffer(){return ju(this)}}async function ju(e){if(e[Fu].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[Fu].disturbed=!0,e[Fu].error)throw e[Fu].error;const{body:t}=e;if(null===t)return Q.Buffer.alloc(0);if(!(t instanceof G))return Q.Buffer.alloc(0);const r=[];let n=0;try{for await(const o of t){if(e.size>0&&n+o.length>e.size){const r=new Cu(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(r),r}n+=o.length,r.push(o)}}catch(t){throw t instanceof ku?t:new Cu(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)}if(!0!==t.readableEnded&&!0!==t._readableState.ended)throw new Cu(`Premature close of server response while trying to fetch ${e.url}`);try{return r.every((e=>"string"==typeof e))?Q.Buffer.from(r.join("")):Q.Buffer.concat(r,n)}catch(t){throw new Cu(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}}Du.prototype.buffer=X.deprecate(Du.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(Du.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:X.deprecate((()=>{}),"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});const Mu=(e,t)=>{let r,n,{body:o}=e[Fu];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof G&&"function"!=typeof o.getBoundary&&(r=new G.PassThrough({highWaterMark:t}),n=new G.PassThrough({highWaterMark:t}),o.pipe(r),o.pipe(n),e[Fu].stream=r,o=n),o},Bu=X.deprecate((e=>e.getBoundary()),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Iu=(e,t)=>null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":xu(e)?"application/x-www-form-urlencoded;charset=UTF-8":$u(e)?e.type||null:Q.Buffer.isBuffer(e)||X.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof Pu?`multipart/form-data; boundary=${t[Fu].boundary}`:e&&"function"==typeof e.getBoundary?`multipart/form-data;boundary=${Bu(e)}`:e instanceof G?null:"text/plain;charset=UTF-8",Nu="function"==typeof V.validateHeaderName?V.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){const t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},Hu="function"==typeof V.validateHeaderValue?V.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){const t=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class qu extends URLSearchParams{constructor(e){let t=[];if(e instanceof qu){const r=e.raw();for(const[e,n]of Object.entries(r))t.push(...n.map((t=>[e,t])))}else if(null==e);else{if("object"!=typeof e||X.types.isBoxedPrimitive(e))throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");{const r=e[Symbol.iterator];if(null==r)t.push(...Object.entries(e));else{if("function"!=typeof r)throw new TypeError("Header pairs must be iterable");t=[...e].map((e=>{if("object"!=typeof e||X.types.isBoxedPrimitive(e))throw new TypeError("Each header pair must be an iterable object");return[...e]})).map((e=>{if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");return[...e]}))}}}return t=t.length>0?t.map((([e,t])=>(Nu(e),Hu(e,String(t)),[String(e).toLowerCase(),String(t)]))):void 0,super(t),new Proxy(this,{get(e,t,r){switch(t){case"append":case"set":return(r,n)=>(Nu(r),Hu(r,String(n)),URLSearchParams.prototype[t].call(e,String(r).toLowerCase(),String(n)));case"delete":case"has":case"getAll":return r=>(Nu(r),URLSearchParams.prototype[t].call(e,String(r).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,r)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){const t=this.getAll(e);if(0===t.length)return null;let r=t.join(", ");return/^content-encoding$/i.test(e)&&(r=r.toLowerCase()),r}forEach(e,t=void 0){for(const r of this.keys())Reflect.apply(e,t,[this.get(r),r,this])}*values(){for(const e of this.keys())yield this.get(e)}*entries(){for(const e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce(((e,t)=>(e[t]=this.getAll(t),e)),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce(((e,t)=>{const r=this.getAll(t);return e[t]="host"===t?r[0]:r.length>1?r:r[0],e}),{})}}Object.defineProperties(qu.prototype,["get","entries","forEach","values"].reduce(((e,t)=>(e[t]={enumerable:!0},e)),{}));const Wu=new Set([301,302,303,307,308]),Uu=e=>Wu.has(e),zu=Symbol("Response internals");class Gu extends Du{constructor(e=null,t={}){super(e,t);const r=null!=t.status?t.status:200,n=new qu(t.headers);if(null!==e&&!n.has("Content-Type")){const t=Iu(e,this);t&&n.append("Content-Type",t)}this[zu]={type:"default",url:t.url,status:r,statusText:t.statusText||"",headers:n,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[zu].type}get url(){return this[zu].url||""}get status(){return this[zu].status}get ok(){return this[zu].status>=200&&this[zu].status<300}get redirected(){return this[zu].counter>0}get statusText(){return this[zu].statusText}get headers(){return this[zu].headers}get highWaterMark(){return this[zu].highWaterMark}clone(){return new Gu(Mu(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!Uu(t))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new Gu(null,{headers:{location:new URL(e).toString()},status:t})}static error(){const e=new Gu(null,{status:0,statusText:""});return e[zu].type="error",e}static json(e=void 0,t={}){const r=JSON.stringify(e);if(void 0===r)throw new TypeError("data is not JSON serializable");const n=new qu(t&&t.headers);return n.has("content-type")||n.set("content-type","application/json"),new Gu(r,{...t,headers:n})}get[Symbol.toStringTag](){return"Response"}}function Vu(e,t=!1){return null==e?"no-referrer":(e=new URL(e),/^(about|blob|data):$/.test(e.protocol)?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e))}Object.defineProperties(Gu.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});const Ku=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function Yu(e){return!!/^about:(blank|srcdoc)$/.test(e)||"data:"===e.protocol||!!/^(blob|filesystem):$/.test(e.protocol)||function(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;const t=e.host.replace(/(^\[)|(]$)/g,""),r=J.isIP(t);return!(4!==r||!/^127\./.test(t))||!(6!==r||!/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t))||"localhost"!==e.host&&!e.host.endsWith(".localhost")&&"file:"===e.protocol}(e)}const Qu=Symbol("Request internals"),Xu=e=>"object"==typeof e&&"object"==typeof e[Qu],Ju=X.deprecate((()=>{}),".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class Zu extends Du{constructor(e,t={}){let r;if(Xu(e)?r=new URL(e.url):(r=new URL(e),e={}),""!==r.username||""!==r.password)throw new TypeError(`${r} is an url with embedded credentials.`);let n=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(n)&&(n=n.toUpperCase()),!Xu(t)&&"data"in t&&Ju(),(null!=t.body||Xu(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");const o=t.body?t.body:Xu(e)&&null!==e.body?Mu(e):null;super(o,{size:t.size||e.size||0});const i=new qu(t.headers||e.headers||{});if(null!==o&&!i.has("Content-Type")){const e=Iu(o,this);e&&i.set("Content-Type",e)}let s=Xu(e)?e.signal:null;if("signal"in t&&(s=t.signal),null!=s&&("object"!=typeof(a=s)||"AbortSignal"!==a[Ou]&&"EventTarget"!==a[Ou]))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");var a;let c=null==t.referrer?e.referrer:t.referrer;if(""===c)c="no-referrer";else if(c){const e=new URL(c);c=/^about:(\/\/)?client$/.test(e)?"client":e}else c=void 0;this[Qu]={method:n,redirect:t.redirect||e.redirect||"follow",headers:i,parsedURL:r,signal:s,referrer:c},this.follow=void 0===t.follow?void 0===e.follow?20:e.follow:t.follow,this.compress=void 0===t.compress?void 0===e.compress||e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[Qu].method}get url(){return N.format(this[Qu].parsedURL)}get headers(){return this[Qu].headers}get redirect(){return this[Qu].redirect}get signal(){return this[Qu].signal}get referrer(){return"no-referrer"===this[Qu].referrer?"":"client"===this[Qu].referrer?"about:client":this[Qu].referrer?this[Qu].referrer.toString():void 0}get referrerPolicy(){return this[Qu].referrerPolicy}set referrerPolicy(e){this[Qu].referrerPolicy=function(e){if(!Ku.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}(e)}clone(){return new Zu(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(Zu.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});class ed extends ku{constructor(e,t="aborted"){super(e,t)}}
/*! node-domexception. MIT License. Jimmy WÃ¤rting <https://jimmy.warting.se/opensource> */if(!globalThis.DOMException)try{const{MessageChannel:e}=require("worker_threads"),t=(new e).port1,r=new ArrayBuffer;t.postMessage(r,[r,r])}catch(x){"DOMException"===x.constructor.name&&(globalThis.DOMException=x.constructor)}const td=new Set(["data:","http:","https:"]);async function rd(e,t){return new Promise(((r,n)=>{const o=new Zu(e,t),{parsedURL:i,options:s}=(e=>{const{parsedURL:t}=e[Qu],r=new qu(e[Qu].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(n="0"),null!==e.body){const t=(e=>{const{body:t}=e[Fu];return null===t?0:$u(t)?t.size:Q.Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null})(e);"number"!=typeof t||Number.isNaN(t)||(n=String(t))}n&&r.set("Content-Length",n),""===e.referrerPolicy&&(e.referrerPolicy="strict-origin-when-cross-origin"),e.referrer&&"no-referrer"!==e.referrer?e[Qu].referrer=function(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if("no-referrer"===e.referrer||""===e.referrerPolicy)return null;const n=e.referrerPolicy;if("about:client"===e.referrer)return"no-referrer";const o=e.referrer;let i=Vu(o),s=Vu(o,!0);i.toString().length>4096&&(i=s),t&&(i=t(i)),r&&(s=r(s));const a=new URL(e.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return s;case"unsafe-url":return i;case"strict-origin":return Yu(i)&&!Yu(a)?"no-referrer":s.toString();case"strict-origin-when-cross-origin":return i.origin===a.origin?i:Yu(i)&&!Yu(a)?"no-referrer":s;case"same-origin":return i.origin===a.origin?i:"no-referrer";case"origin-when-cross-origin":return i.origin===a.origin?i:s;case"no-referrer-when-downgrade":return Yu(i)&&!Yu(a)?"no-referrer":i;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}(e):e[Qu].referrer="no-referrer",e[Qu].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:o}=e;"function"==typeof o&&(o=o(t)),r.has("Connection")||o||r.set("Connection","close");const i=(e=>{if(e.search)return e.search;const t=e.href.length-1,r=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-r.length]?"?":""})(t);return{parsedURL:t,options:{path:t.pathname+i,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:o}}})(o);if(!td.has(i.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${i.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===i.protocol){const e=function(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');const t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw new TypeError("malformed data: URI");const r=e.substring(5,t).split(";");let n="",o=!1;const i=r[0]||"text/plain";let s=i;for(let e=1;e<r.length;e++)"base64"===r[e]?o=!0:(s+=`;${r[e]}`,0===r[e].indexOf("charset=")&&(n=r[e].substring(8)));r[0]||n.length||(s+=";charset=US-ASCII",n="US-ASCII");const a=o?"base64":"ascii",c=unescape(e.substring(t+1)),l=Buffer.from(c,a);return l.type=i,l.typeFull=s,l.charset=n,l}(o.url),t=new Gu(e,{headers:{"Content-Type":e.typeFull}});return void r(t)}const a=("https:"===i.protocol?K:V).request,{signal:c}=o;let l=null;const u=()=>{const e=new ed("The operation was aborted.");n(e),o.body&&o.body instanceof G.Readable&&o.body.destroy(e),l&&l.body&&l.body.emit("error",e)};if(c&&c.aborted)return void u();const d=()=>{u(),h()},f=a(i.toString(),s);c&&c.addEventListener("abort",d);const h=()=>{f.abort(),c&&c.removeEventListener("abort",d)};f.on("error",(e=>{n(new Cu(`request to ${o.url} failed, reason: ${e.message}`,"system",e)),h()})),function(e,t){const r=Q.Buffer.from("0\r\n\r\n");let n,o=!1,i=!1;e.on("response",(e=>{const{headers:t}=e;o="chunked"===t["transfer-encoding"]&&!t["content-length"]})),e.on("socket",(t=>{const s=()=>{if(o&&!i){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",(e=>{l&&l.body&&l.body.destroy(e)})(e)}},a=e=>{i=0===Q.Buffer.compare(e.slice(-5),r),!i&&n&&(i=0===Q.Buffer.compare(n.slice(-3),r.slice(0,3))&&0===Q.Buffer.compare(e.slice(-2),r.slice(3))),n=e};t.prependListener("close",s),t.on("data",a),e.on("close",(()=>{t.removeListener("close",s),t.removeListener("data",a)}))}))}(f),process.version<"v14"&&f.on("socket",(e=>{let t;e.prependListener("end",(()=>{t=e._eventsCount})),e.prependListener("close",(r=>{if(l&&t<e._eventsCount&&!r){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",l.body.emit("error",e)}}))})),f.on("response",(e=>{f.setTimeout(0);const i=function(e=[]){return new qu(e.reduce(((e,t,r,n)=>(r%2==0&&e.push(n.slice(r,r+2)),e)),[]).filter((([e,t])=>{try{return Nu(e),Hu(e,String(t)),!0}catch{return!1}})))}(e.rawHeaders);if(Uu(e.statusCode)){const s=i.get("Location");let a=null;try{a=null===s?null:new URL(s,o.url)}catch{if("manual"!==o.redirect)return n(new Cu(`uri requested responds with an invalid redirect URL: ${s}`,"invalid-redirect")),void h()}switch(o.redirect){case"error":return n(new Cu(`uri requested responds with a redirect, redirect mode is set to error: ${o.url}`,"no-redirect")),void h();case"manual":break;case"follow":{if(null===a)break;if(o.counter>=o.follow)return n(new Cu(`maximum redirect reached at: ${o.url}`,"max-redirect")),void h();const s={headers:new qu(o.headers),follow:o.follow,counter:o.counter+1,agent:o.agent,compress:o.compress,method:o.method,body:Mu(o),signal:o.signal,size:o.size,referrer:o.referrer,referrerPolicy:o.referrerPolicy};if(!((e,t)=>{const r=new URL(t).hostname,n=new URL(e).hostname;return r===n||r.endsWith(`.${n}`)})(o.url,a)||!((e,t)=>new URL(t).protocol===new URL(e).protocol)(o.url,a))for(const e of["authorization","www-authenticate","cookie","cookie2"])s.headers.delete(e);if(303!==e.statusCode&&o.body&&t.body instanceof G.Readable)return n(new Cu("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void h();303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==o.method)||(s.method="GET",s.body=void 0,s.headers.delete("content-length"));const c=function(e){const t=(e.get("referrer-policy")||"").split(/[,\s]+/);let r="";for(const e of t)e&&Ku.has(e)&&(r=e);return r}(i);return c&&(s.referrerPolicy=c),r(rd(new Zu(a,s))),void h()}default:return n(new TypeError(`Redirect option '${o.redirect}' is not a valid value of RequestRedirect`))}}c&&e.once("end",(()=>{c.removeEventListener("abort",d)}));let s=G.pipeline(e,new G.PassThrough,(e=>{e&&n(e)}));process.version<"v12.10"&&e.on("aborted",d);const a={url:o.url,status:e.statusCode,statusText:e.statusMessage,headers:i,size:o.size,counter:o.counter,highWaterMark:o.highWaterMark},u=i.get("Content-Encoding");if(!o.compress||"HEAD"===o.method||null===u||204===e.statusCode||304===e.statusCode)return l=new Gu(s,a),void r(l);const p={flush:Y.Z_SYNC_FLUSH,finishFlush:Y.Z_SYNC_FLUSH};if("gzip"===u||"x-gzip"===u)return s=G.pipeline(s,Y.createGunzip(p),(e=>{e&&n(e)})),l=new Gu(s,a),void r(l);if("deflate"===u||"x-deflate"===u){const t=G.pipeline(e,new G.PassThrough,(e=>{e&&n(e)}));return t.once("data",(e=>{s=8==(15&e[0])?G.pipeline(s,Y.createInflate(),(e=>{e&&n(e)})):G.pipeline(s,Y.createInflateRaw(),(e=>{e&&n(e)})),l=new Gu(s,a),r(l)})),void t.once("end",(()=>{l||(l=new Gu(s,a),r(l))}))}if("br"===u)return s=G.pipeline(s,Y.createBrotliDecompress(),(e=>{e&&n(e)})),l=new Gu(s,a),void r(l);l=new Gu(s,a),r(l)})),(async(e,{body:t})=>{null===t?e.end():await Lu(t,e)})(f,o).catch(n)}))}const nd=(e=0)=>t=>`[${t+e}m`,od=(e=0)=>t=>`[${38+e};5;${t}m`,id=(e=0)=>(t,r,n)=>`[${38+e};2;${t};${r};${n}m`,sd={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(sd.modifier),Object.keys(sd.color),Object.keys(sd.bgColor);const ad=function(){const e=new Map;for(const[t,r]of Object.entries(sd)){for(const[t,n]of Object.entries(r))sd[t]={open:`[${n[0]}m`,close:`[${n[1]}m`},r[t]=sd[t],e.set(n[0],n[1]);Object.defineProperty(sd,t,{value:r,enumerable:!1})}return Object.defineProperty(sd,"codes",{value:e,enumerable:!1}),sd.color.close="[39m",sd.bgColor.close="[49m",sd.color.ansi=nd(),sd.color.ansi256=od(),sd.color.ansi16m=id(),sd.bgColor.ansi=nd(10),sd.bgColor.ansi256=od(10),sd.bgColor.ansi16m=id(10),Object.defineProperties(sd,{rgbToAnsi256:{value:(e,t,r)=>e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value(e){const t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[r]=t;3===r.length&&(r=[...r].map((e=>e+e)).join(""));const n=Number.parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},enumerable:!1},hexToAnsi256:{value:e=>sd.rgbToAnsi256(...sd.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return e-8+90;let t,r,n;if(e>=232)t=(10*(e-232)+8)/255,r=t,n=t;else{const o=(e-=16)%36;t=Math.floor(e/36)/5,r=Math.floor(o/6)/5,n=o%6/5}const o=2*Math.max(t,r,n);if(0===o)return 30;let i=30+(Math.round(n)<<2|Math.round(r)<<1|Math.round(t));return 2===o&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,t,r)=>sd.ansi256ToAnsi(sd.rgbToAnsi256(e,t,r)),enumerable:!1},hexToAnsi:{value:e=>sd.ansi256ToAnsi(sd.hexToAnsi256(e)),enumerable:!1}}),sd}(),cd=(()=>{if(navigator.userAgentData){const e=navigator.userAgentData.brands.find((({brand:e})=>"Chromium"===e));if(e&&e.version>93)return 3}return/\b(Chrome|Chromium)\//.test(navigator.userAgent)?1:0})(),ld=0!==cd&&{level:cd,hasBasic:!0,has256:cd>=2,has16m:cd>=3},ud={stdout:ld,stderr:ld};function dd(e,t,r){let n=e.indexOf(t);if(-1===n)return e;const o=t.length;let i=0,s="";do{s+=e.slice(i,n)+t+r,i=n+o,n=e.indexOf(t,i)}while(-1!==n);return s+=e.slice(i),s}const{stdout:fd,stderr:hd}=ud,pd=Symbol("GENERATOR"),yd=Symbol("STYLER"),md=Symbol("IS_EMPTY"),gd=["ansi","ansi","ansi256","ansi16m"],bd=Object.create(null);function _d(e){return(e=>{const t=(...e)=>e.join(" ");return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=fd?fd.level:0;e.level=void 0===t.level?r:t.level})(t,e),Object.setPrototypeOf(t,_d.prototype),t})(e)}Object.setPrototypeOf(_d.prototype,Function.prototype);for(const[e,t]of Object.entries(ad))bd[e]={get(){const r=Rd(this,Ed(t.open,t.close,this[yd]),this[md]);return Object.defineProperty(this,e,{value:r}),r}};bd.visible={get(){const e=Rd(this,this[yd],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const vd=(e,t,r,...n)=>"rgb"===e?"ansi16m"===t?ad[r].ansi16m(...n):"ansi256"===t?ad[r].ansi256(ad.rgbToAnsi256(...n)):ad[r].ansi(ad.rgbToAnsi(...n)):"hex"===e?vd("rgb",t,r,...ad.hexToRgb(...n)):ad[r][e](...n),wd=["rgb","hex","ansi256"];for(const e of wd)bd[e]={get(){const{level:t}=this;return function(...r){const n=Ed(vd(e,gd[t],"color",...r),ad.color.close,this[yd]);return Rd(this,n,this[md])}}},bd["bg"+e[0].toUpperCase()+e.slice(1)]={get(){const{level:t}=this;return function(...r){const n=Ed(vd(e,gd[t],"bgColor",...r),ad.bgColor.close,this[yd]);return Rd(this,n,this[md])}}};const Sd=Object.defineProperties((()=>{}),{...bd,level:{enumerable:!0,get(){return this[pd].level},set(e){this[pd].level=e}}}),Ed=(e,t,r)=>{let n,o;return void 0===r?(n=e,o=t):(n=r.openAll+e,o=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:o,parent:r}},Rd=(e,t,r)=>{const n=(...e)=>Ad(n,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(n,Sd),n[pd]=e,n[yd]=t,n[md]=r,n},Ad=(e,t)=>{if(e.level<=0||!t)return e[md]?"":t;let r=e[yd];if(void 0===r)return t;const{openAll:n,closeAll:o}=r;if(t.includes(""))for(;void 0!==r;)t=dd(t,r.close,r.open),r=r.parent;const i=t.indexOf("\n");return-1!==i&&(t=function(e,t,r,n){let o=0,i="";do{const s="\r"===e[n-1];i+=e.slice(o,s?n-1:n)+t+(s?"\r\n":"\n")+r,o=n+1,n=e.indexOf("\n",o)}while(-1!==n);return i+=e.slice(o),i}(t,o,n,i)),n+t+o};Object.defineProperties(_d.prototype,bd);const Td=_d();var Pd,kd,Cd,Od,xd;_d({level:hd?hd.level:0}),xd="win32"===process.platform||se.TESTING_WINDOWS?function(){if(Od)return Cd;Od=1,Cd=r,r.sync=function(r,n){return t(e.statSync(r),r,n)};var e=x;function t(e,t,r){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var r=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!r)return!0;if(-1!==(r=r.split(";")).indexOf(""))return!0;for(var n=0;n<r.length;n++){var o=r[n].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}(t,r)}function r(r,n,o){e.stat(r,(function(e,i){o(e,!e&&t(i,r,n))}))}return Cd}():function(){if(kd)return Pd;kd=1,Pd=t,t.sync=function(t,n){return r(e.statSync(t),n)};var e=x;function t(t,n,o){e.stat(t,(function(e,t){o(e,!e&&r(t,n))}))}function r(e,t){return e.isFile()&&function(e,t){var r=e.mode,n=e.uid,o=e.gid,i=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),s=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8);return r&parseInt("001",8)||r&c&&o===s||r&a&&n===i||r&(a|c)&&0===i}(e,t)}return Pd}();var $d=Ld;function Ld(e,t,r){if("function"==typeof t&&(r=t,t={}),!r){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(r,n){Ld(e,t||{},(function(e,t){e?n(e):r(t)}))}))}xd(e,t||{},(function(e,n){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,n=!1),r(e,n)}))}Ld.sync=function(e,t){try{return xd.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}};const Fd=$d,{join:Dd,delimiter:jd,sep:Md,posix:Bd}=M,Id="win32"===process.platform,Nd=new RegExp(`[${Bd.sep}${Md===Bd.sep?"":Md}]`.replace(/(\\)/g,"\\$1")),Hd=new RegExp(`^\\.${Nd.source}`),qd=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Wd=(e,{path:t=process.env.PATH,pathExt:r=process.env.PATHEXT,delimiter:n=jd})=>{const o=e.match(Nd)?[""]:[...Id?[process.cwd()]:[],...(t||"").split(n)];if(Id){const t=r||[".EXE",".CMD",".BAT",".COM"].join(n),i=t.split(n);return e.includes(".")&&""!==i[0]&&i.unshift(""),{pathEnv:o,pathExt:i,pathExtExe:t}}return{pathEnv:o,pathExt:[""]}},Ud=(e,t)=>{const r=/^".*"$/.test(e)?e.slice(1,-1):e;return(!r&&Hd.test(t)?t.slice(0,2):"")+Dd(r,t)},zd=async(e,t={})=>{const{pathEnv:r,pathExt:n,pathExtExe:o}=Wd(e,t),i=[];for(const s of r){const r=Ud(s,e);for(const e of n){const n=r+e;if(await Fd(n,{pathExt:o,ignoreErrors:!0})){if(!t.all)return n;i.push(n)}}}if(t.all&&i.length)return i;if(t.nothrow)return null;throw qd(e)};var Gd=zd;zd.sync=(e,t={})=>{const{pathEnv:r,pathExt:n,pathExtExe:o}=Wd(e,t),i=[];for(const s of r){const r=Ud(s,e);for(const e of n){const n=r+e;if(Fd.sync(n,{pathExt:o,ignoreErrors:!0})){if(!t.all)return n;i.push(n)}}}if(t.all&&i.length)return i;if(t.nothrow)return null;throw qd(e)};const Vd=ae(Gd);var Kd={},Yd={exports:{}};!function(e,t){var r=$;function n(e,t,n){e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var o=!1,i=!1,s=[],a=!1,c=new r;function l(){for(;s.length&&!c.paused;){var e=s.shift();if(null===e)return c.emit("end");c.emit("data",e)}}return c.readable=c.writable=!0,c.paused=!1,c.autoDestroy=!(n&&!1===n.autoDestroy),c.write=function(t){return e.call(this,t),!c.paused},c.queue=c.push=function(e){return a||(null===e&&(a=!0),s.push(e),l()),c},c.on("end",(function(){c.readable=!1,!c.writable&&c.autoDestroy&&process.nextTick((function(){c.destroy()}))})),c.end=function(e){if(!o)return o=!0,arguments.length&&c.write(e),c.writable=!1,t.call(c),!c.readable&&c.autoDestroy&&c.destroy(),c},c.destroy=function(){if(!i)return i=!0,o=!0,s.length=0,c.writable=c.readable=!1,c.emit("close"),c},c.pause=function(){if(!c.paused)return c.paused=!0,c},c.resume=function(){return c.paused&&(c.paused=!1,c.emit("resume")),l(),c.paused||c.emit("drain"),c},c}Yd.exports=n,n.through=n}();var Qd=Yd.exports,Xd=$,Jd=function e(t){if(Array.isArray(t)){var r=0,n=t.length;return e((function(e){return r<n?this.emit("data",t[r++]):this.emit("end"),!0}))}var o=new Xd,i=0;function s(){if(o.started=!0,!o.ended)for(;!o.ended&&!o.paused&&t.call(o,i++,(function(){o.ended||o.paused||process.nextTick(s)})););}return o.ended=!1,o.started=!1,o.readable=!0,o.writable=!1,o.paused=!1,o.ended=!1,o.pause=function(){o.started=!0,o.paused=!0},o.resume=function(){o.started=!0,o.paused=!1,s()},o.on("end",(function(){o.ended=!0,o.readable=!1,process.nextTick(o.destroy)})),o.destroy=function(){o.ended=!0,o.emit("close")},process.nextTick((function(){o.started||o.resume()})),o},Zd=$,ef=["write","end","destroy"],tf=["resume","pause"],rf=["data","close"],nf=Array.prototype.slice,of=function(e,t){var r=new Zd,n=!1;return sf(ef,(function(t){r[t]=function(){return e[t].apply(e,arguments)}})),sf(tf,(function(e){r[e]=function(){r.emit(e);var n=t[e];if(n)return n.apply(t,arguments);t.emit(e)}})),sf(rf,(function(e){t.on(e,(function(){var t=nf.call(arguments);t.unshift(e),r.emit.apply(r,t)}))})),t.on("end",(function(){if(!n){n=!0;var e=nf.call(arguments);e.unshift("end"),r.emit.apply(r,e)}})),e.on("drain",(function(){r.emit("drain")})),e.on("error",o),t.on("error",o),r.writable=e.writable,r.readable=t.readable,r;function o(e){r.emit("error",e)}};function sf(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r)}var af=$.Stream,cf=function(e,t){var r=new af,n=this,o=0,i=0,s=!1,a=!1,c=!1,l=0,u=!1;this.opts=t||{};var d=this.opts.failures?"failure":"error",f={};function h(e,t){var n=l+1;if(t===n?(void 0!==e&&r.emit.apply(r,["data",e]),l++,n++):f[t]=e,f.hasOwnProperty(n)){var c=f[n];return delete f[n],h(c,n)}i++,o===i&&(a&&(a=!1,r.emit("drain")),s&&y())}function p(e,t,o){c||(u=!0,e&&!n.opts.failures||h(t,o),e&&r.emit.apply(r,[d,e]),u=!1)}function y(e){if(s=!0,r.writable=!1,void 0!==e)return h(e,o);o==i&&(r.readable=!1,r.emit("end"),r.destroy())}return r.writable=!0,r.readable=!0,r.write=function(t){if(s)throw new Error("map stream is not writable");u=!1,o++;try{var r=(n=t,i=o,c=p,e.call(null,n,(function(e,t){c(e,t,i)})));return!(a=!1===r)}catch(e){if(u)throw e;return p(e),!a}var n,i,c},r.end=function(e){s||y()},r.destroy=function(){s=c=!0,r.writable=r.readable=a=!1,process.nextTick((function(){r.emit("close")}))},r.pause=function(){a=!0},r.resume=function(){a=!1},r},lf=Qd,uf=Qd,df=re.StringDecoder,ff=function(e,t,r){var n=new df,o="",i=r&&r.maxLength;function s(e,r){if(t){try{r=t(r)}catch(t){return e.emit("error",t)}void 0!==r&&e.queue(r)}else e.queue(r)}function a(t,r){var n=((null!=o?o:"")+r).split(e);o=n.pop(),i&&o.length>i&&t.emit("error",new Error("maximum buffer reached"));for(var a=0;a<n.length;a++)s(t,n[a])}return"function"==typeof e&&(t=e,e=null),e||(e=/\r?\n/),uf((function(e){a(this,n.write(e))}),(function(){n.end&&a(this,n.end()),null!=o&&s(this,o),this.queue(null)}))},hf=of,pf=function(){var e=[].slice.call(arguments),t=e[0],r=e[e.length-1],n=hf(t,r);if(1==e.length)return e[0];if(!e.length)throw new Error("connect called with empty args");function o(){var e=[].slice.call(arguments);e.unshift("error"),n.emit.apply(n,e)}!function e(t){t.length<2||(t[0].pipe(t[1]),e(t.slice(1)))}(e);for(var i=1;i<e.length-1;i++)e[i].on("error",o);return n};!function(e){var t=$.Stream,r=e,n=Qd,o=Jd,i=of,s=cf,a=lf,c=ff,l=pf,u=se.setImmediate||process.nextTick;r.Stream=t,r.through=n,r.from=o,r.duplex=i,r.map=s,r.pause=a,r.split=c,r.pipeline=r.connect=r.pipe=l,r.concat=r.merge=function(){var e=[].slice.call(arguments);1===e.length&&e[0]instanceof Array&&(e=e[0]);var r=new t;r.setMaxListeners(0);var n=0;return r.writable=r.readable=!0,e.length?e.forEach((function(t){t.pipe(r,{end:!1});var o=!1;t.on("end",(function(){o||(o=!0,++n==e.length&&r.emit("end"))}))})):process.nextTick((function(){r.emit("end")})),r.write=function(e){this.emit("data",e)},r.destroy=function(){e.forEach((function(e){e.destroy&&e.destroy()}))},r},r.writeArray=function(e){if("function"!=typeof e)throw new Error("function writeArray (done): done must be function");var r=new t,n=[],o=!1;return r.write=function(e){n.push(e)},r.end=function(){o=!0,e(null,n)},r.writable=!0,r.readable=!1,r.destroy=function(){r.writable=r.readable=!1,o||e(new Error("destroyed before end"),n)},r},r.readArray=function(e){var r=new t,n=0,o=!1,i=!1;if(r.readable=!0,r.writable=!1,!Array.isArray(e))throw new Error("event-stream.read expects an array");return r.resume=function(){if(!i){o=!1;for(var t=e.length;n<t&&!o&&!i;)r.emit("data",e[n++]);n!=t||i||(i=!0,r.readable=!1,r.emit("end"))}},process.nextTick(r.resume),r.pause=function(){o=!0},r.destroy=function(){i=!0,r.emit("close")},r},r.readable=function(e,r){var n=new t,o=0,i=!1,s=!1,a=!1;if(n.readable=!0,n.writable=!1,"function"!=typeof e)throw new Error("event-stream.readable expects async function");function c(t,l){t?(n.emit("error",t),r||n.emit("end")):arguments.length>1&&n.emit("data",l),u((function(){if(!(s||i||a))try{a=!0,e.call(n,o++,(function(){a=!1,c.apply(null,arguments)}))}catch(e){n.emit("error",e)}}))}return n.on("end",(function(){s=!0})),n.resume=function(){i=!1,c()},process.nextTick(c),n.pause=function(){i=!0},n.destroy=function(){n.emit("end"),n.emit("close"),s=!0},n},r.mapSync=function(e){return r.through((function(t){var r;try{r=e(t)}catch(e){return this.emit("error",e)}void 0!==r&&this.emit("data",r)}))},r.log=function(e){return r.through((function(t){[].slice.call(arguments),e?console.error(e,t):console.error(t),this.emit("data",t)}))},r.child=function(e){return r.duplex(e.stdin,e.stdout)},r.parse=function(e){var t=!(!e||!e.error);return r.through((function(e){var r;try{e&&(r=JSON.parse(e.toString()))}catch(r){return t?this.emit("error",r):console.error(r,"attempting to parse:",e)}void 0!==r&&this.emit("data",r)}))},r.stringify=function(){var e=ne.Buffer;return r.mapSync((function(t){return JSON.stringify(e.isBuffer(t)?t.toString():t)+"\n"}))},r.replace=function(e,t){return r.pipeline(r.split(e),r.join(t))},r.join=function(e){if("function"==typeof e)return r.wait(e);var t=!0;return r.through((function(r){return t||this.emit("data",e),t=!1,this.emit("data",r),!0}))},r.wait=function(e){var t=[];return r.through((function(e){t.push(e)}),(function(){var r=Buffer.isBuffer(t[0])?Buffer.concat(t):t.join("");this.emit("data",r),this.emit("end"),e&&e(null,r)}))},r.pipeable=function(){throw new Error("[EVENT-STREAM] es.pipeable is deprecated")}}(Kd);var yf=te.spawn,mf=Kd;function gf(e){if("win32"!==process.platform)return e;switch(e){case"Name":return"COMMAND";case"ParentProcessId":return"PPID";case"ProcessId":return"PID";case"Status":return"STAT";default:throw new Error("Unknown process listing header: "+e)}}const bf=ae((function(e,t){var r,n=null;if("function"!=typeof t)throw new Error("childrenOfPid(pid, callback) expects callback");"number"==typeof e&&(e=e.toString()),r="win32"===process.platform?yf("wmic.exe",["PROCESS","GET","Name,ProcessId,ParentProcessId,Status"]):yf("ps",["-A","-o","ppid,pid,stat,comm"]),mf.connect(r.stdout,mf.split(),mf.map((function(e,t){var r=e.trim().split(/\s+/);if(!n)return n=(n=r).map(gf),t();for(var o={},i=n.slice();i.length;)o[i.shift()]=i.length?r.shift():r.join(" ");return t(null,o)})),mf.writeArray((function(r,n){var o={},i=[];o[e]=!0,n.forEach((function(e){o[e.PPID]&&(o[e.PID]=!0,i.push(e))})),t(null,i)}))).on("error",t)})),_f=X.promisify(bf);function vf(){}function wf(){return Math.random().toString(36).slice(2)}function Sf(e){return"string"==typeof e}function Ef(e){return{2:"Misuse of shell builtins",126:"Invoked command cannot execute",127:"Command not found",128:"Invalid exit argument",129:"Hangup",130:"Interrupt",131:"Quit and dump core",132:"Illegal instruction",133:"Trace/breakpoint trap",134:"Process aborted",135:'Bus error: "access to undefined portion of memory object"',136:'Floating point exception: "erroneous arithmetic operation"',137:"Kill (terminate immediately)",138:"User-defined 1",139:"Segmentation violation",140:"User-defined 2",141:"Write to pipe with no one reading",142:"Signal raised by alarm",143:"Termination (request to terminate)",145:"Child process terminated, stopped (or continued*)",146:"Continue if stopped",147:"Stop executing temporarily",148:"Terminal stop signal",149:'Background process attempting to read from tty ("in")',150:'Background process attempting to write to tty ("out")',151:"Urgent data available on socket",152:"CPU time limit exceeded",153:"File size limit exceeded",154:'Signal raised by timer counting virtual time: "virtual timer expired"',155:"Profiling timer expired",157:"Pollable event",159:"Bad syscall"}[e||-1]}function Rf(e){if("number"==typeof e){if(isNaN(e)||e<0)throw new Error(`Invalid duration: "${e}".`);return e}if(/\d+s/.test(e))return 1e3*+e.slice(0,-1);if(/\d+ms/.test(e))return+e.slice(0,-2);throw new Error(`Unknown duration: "${e}".`)}const Af=["if","then","else","elif","fi","case","esac","for","select","while","until","do","done","in"];const Tf=Symbol("processCwd"),Pf=new ee.AsyncLocalStorage;ee.createHook({init:Ff,before:Ff,promiseResolve:Ff,after:Ff,destroy:Ff}).enable();const kf={[Tf]:process.cwd(),verbose:!0,env:process.env,shell:!0,prefix:"",quote:()=>{throw new Error("No quote function is defined: https://Ã¯.at/no-quote-func")},spawn:Z.spawn,log:function(e){switch(e.kind){case"cmd":if(!e.verbose)return;process.stderr.write(function(e){if(null==e)return Td.grey("undefined");const t=[...e];let r,n="$ ",o="",i=l,s=0;for(;i;){if(r=t.shift()||"EOF","\n"==r){n+=a(i,o)+"\n> ",o="";continue}const e="EOF"==r?void 0:i();e!=i&&(n+=a(i,o),o=""),i=e==l?e():e,o+=r}function a(e,t){return""==t?"":Af.includes(t)?Td.cyanBright(t):e==d&&0==s?(s++,Td.greenBright(t)):e==f?(s=0,Td.cyanBright(t)):e==h||(null==e?void 0:e.name.startsWith("str"))?Td.yellowBright(t):t}function c(e){return"()[]{}<>;:+|&=".includes(e)}function l(){return/\s/.test(r)?u:c(r)?f:/[$]/.test(r)?h:/["]/.test(r)?g:/[']/.test(r)?b:d}function u(){return/\s/.test(r)?u:l}function d(){return/[0-9a-z/_.]/i.test(r)?d:l}function f(){return c(r)?f:l}function h(){return/[']/.test(r)?p:l}function p(){return/[']/.test(r)?_:/[\\]/.test(r)?y:p}function y(){return m}function m(){return p}function g(){return/["]/.test(r)?_:g}function b(){return/[']/.test(r)?_:b}function _(){return l}return n+"\n"}(e.cmd));break;case"stdout":case"stderr":if(!e.verbose)return;process.stderr.write(e.data);break;case"cd":if(!Of.verbose)return;process.stderr.write("$ "+Td.greenBright("cd")+` ${e.dir}\n`);break;case"fetch":if(!Of.verbose)return;const t=e.init?" "+X.inspect(e.init):"";process.stderr.write("$ "+Td.greenBright("fetch")+` ${e.url}${t}\n`);break;case"retry":if(!Of.verbose)return;process.stderr.write(e.error+"\n")}}};try{kf.shell=Vd.sync("bash"),kf.prefix="set -euo pipefail;",kf.quote=function(e){return/^[a-z0-9/_.\-@:=]+$/i.test(e)||""===e?e:"$'"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0")+"'"}}catch(x){"win32"==process.platform&&(kf.shell=Vd.sync("powershell.exe"),kf.quote=function(e){return/^[a-z0-9/_.\-]+$/i.test(e)||""===e?e:"'"+e.replace(/'/g,"''")+"'"})}function Cf(){return Pf.getStore()||kf}const Of=new Proxy((function(e,...t){const r=(new Error).stack.split(/^\s*at\s/m)[2].trim();if(e.some((e=>null==e)))throw new Error(`Malformed command at ${r}`);let n,o;const i=new $f(((...e)=>[n,o]=e));let s=e[0],a=0;for(;a<t.length;){let r;r=Array.isArray(t[a])?t[a].map((e=>Of.quote(xf(e)))).join(" "):Of.quote(xf(t[a])),s+=r+e[++a]}return i._bind(s,r,n,o,Cf()),setImmediate((()=>i.isHalted||i.run())),i}),{set(e,t,r){const n=t in Function.prototype?e:Cf();return Reflect.set(n,t,r),!0},get(e,t){const r=t in Function.prototype?e:Cf();return Reflect.get(r,t)}});function xf(e){return(null==e?void 0:e.stdout)?e.stdout.replace(/\n$/,""):`${e}`}class $f extends Promise{constructor(){super(...arguments),this._command="",this._from="",this._resolve=vf,this._reject=vf,this._snapshot=Cf(),this._stdio=["inherit","pipe","pipe"],this._nothrow=!1,this._quiet=!1,this._resolved=!1,this._halted=!1,this._piped=!1,this._prerun=vf,this._postrun=vf}_bind(e,t,r,n,o){this._command=e,this._from=t,this._resolve=r,this._reject=n,this._snapshot=Object.assign({},o)}run(){var e,t,r;const n=this._snapshot;if(this.child)return this;this._prerun(),n.log({kind:"cmd",cmd:this._command,verbose:n.verbose&&!this._quiet}),this.child=n.spawn(n.prefix+this._command,{cwd:null!==(e=n.cwd)&&void 0!==e?e:n[Tf],shell:"string"!=typeof n.shell||n.shell,stdio:this._stdio,windowsHide:!0,env:n.env}),this.child.on("close",((e,t)=>{let r=`exit code: ${e}`;0==e&&null==t||(r=`${i||"\n"}    at ${this._from}`,r+=`\n    exit code: ${e}${Ef(e)?" ("+Ef(e)+")":""}`,null!=t&&(r+=`\n    signal: ${t}`));let n=new Lf(e,t,o,i,s,r);0===e||this._nothrow?this._resolve(n):this._reject(n),this._resolved=!0})),this.child.on("error",(e=>{const t=`${e.message}\n    errno: ${e.errno} (${function(e){return void 0===e?"Unknown error":{0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"}[-e]||"Unknown error"}(e.errno)})\n    code: ${e.code}\n    at ${this._from}`;this._reject(new Lf(null,null,o,i,s,t)),this._resolved=!0}));let o="",i="",s="";if(this._piped||null===(t=this.child.stdout)||void 0===t||t.on("data",(e=>{n.log({kind:"stdout",data:e,verbose:n.verbose&&!this._quiet}),o+=e,s+=e})),null===(r=this.child.stderr)||void 0===r||r.on("data",(e=>{n.log({kind:"stderr",data:e,verbose:n.verbose&&!this._quiet}),i+=e,s+=e})),this._postrun(),this._timeout&&this._timeoutSignal){const e=setTimeout((()=>this.kill(this._timeoutSignal)),this._timeout);this.finally((()=>clearTimeout(e))).catch(vf)}return this}get stdin(){if(this.stdio("pipe"),this.run(),H(this.child),null==this.child.stdin)throw new Error("The stdin of subprocess is null.");return this.child.stdin}get stdout(){if(this.run(),H(this.child),null==this.child.stdout)throw new Error("The stdout of subprocess is null.");return this.child.stdout}get stderr(){if(this.run(),H(this.child),null==this.child.stderr)throw new Error("The stderr of subprocess is null.");return this.child.stderr}get exitCode(){return this.then((e=>e.exitCode),(e=>e.exitCode))}then(e,t){if(this.isHalted&&!this.child)throw new Error("The process is halted!");return super.then(e,t)}catch(e){return super.catch(e)}pipe(e){if("string"==typeof e)throw new Error("The pipe() method does not take strings. Forgot $?");if(this._resolved)throw e instanceof $f&&e.stdin.end(),new Error("The pipe() method shouldn't be called after promise is already resolved!");return this._piped=!0,e instanceof $f?(e.stdio("pipe"),e._prerun=this.run.bind(this),e._postrun=()=>{if(!e.child)throw new Error("Access to stdin of pipe destination without creation a subprocess.");this.stdout.pipe(e.stdin)},e):(this._postrun=()=>this.stdout.pipe(e),this)}kill(e="SIGTERM"){return function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if(!this.child)throw new Error("Trying to kill a process without creating one.");if(!this.child.pid)throw new Error("The process pid is undefined.");let t=yield _f(this.child.pid);for(const r of t)try{process.kill(+r.PID,e)}catch(e){}try{process.kill(this.child.pid,e)}catch(e){}}))}stdio(e,t="pipe",r="pipe"){return this._stdio=[e,t,r],this}nothrow(){return this._nothrow=!0,this}quiet(){return this._quiet=!0,this}timeout(e,t="SIGTERM"){return this._timeout=Rf(e),this._timeoutSignal=t,this}halt(){return this._halted=!0,this}get isHalted(){return this._halted}}class Lf extends Error{constructor(e,t,r,n,o,i){super(i),this._code=e,this._signal=t,this._stdout=r,this._stderr=n,this._combined=o}toString(){return this._combined}get stdout(){return this._stdout}get stderr(){return this._stderr}get exitCode(){return this._code}get signal(){return this._signal}[X.inspect.custom](){let e=(e,t)=>0===e.length?"''":t(X.inspect(e));return`ProcessOutput {\n  stdout: ${e(this.stdout,Td.green)},\n  stderr: ${e(this.stderr,Td.red)},\n  signal: ${X.inspect(this.signal)},\n  exitCode: ${(0===this.exitCode?Td.green:Td.red)(this.exitCode)}${Ef(this.exitCode)?Td.grey(" ("+Ef(this.exitCode)+")"):""}\n}`}}function Ff(){Of[Tf]!=process.cwd()&&process.chdir(Of[Tf])}var Df=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};let jf=sn(process.argv.slice(2));function Mf(e){return new Promise((t=>{setTimeout(t,Rf(e))}))}function Bf(e,...t){let r;const n=e.length-1;r=Array.isArray(e)&&e.every(Sf)&&n===t.length?t.map(((t,r)=>e[r]+If(t))).join("")+e[n]:[e,...t].map(If).join(" "),console.log(r)}function If(e){return e instanceof Lf?e.toString().replace(/\n$/,""):`${e}`}function Nf(e,t,r){return Df(this,void 0,void 0,(function*(){const n=e;let o,i,s,a=0;"function"==typeof t?o=t:("object"==typeof t?i=t:a=Rf(t),H(r),o=r);let c=0;for(;e-- >0;){c++;try{return yield o()}catch(t){let r=0;if(a>0&&(r=a),i&&(r=i.next().value),Of.log({kind:"retry",error:Td.bgRed.white(" FAIL ")+` Attempt: ${c}${n==1/0?"":`/${n}`}`+(r>0?`; next in ${r}ms`:"")}),s=t,0==e)break;r&&(yield Mf(r))}}throw s}))}function*Hf(e="60s",t="100ms"){const r=Rf(e),n=Rf(t);let o=1;for(;;){const e=Math.floor(Math.random()*n);yield Math.min(Math.pow(2,o++),r)+e}}function qf(e,t){return Df(this,void 0,void 0,(function*(){"function"==typeof e&&(t=e,e="");let r=0;const n=()=>process.stderr.write(`  ${"â â â ¹â ¸â ¼â ´â ¦â §â â "[r++%10]} ${e}\r`);return function(e){return Pf.run(Object.assign({},Cf()),e)}((()=>Df(this,void 0,void 0,(function*(){Of.verbose=!1;const e=setInterval(n,100);let r;try{r=yield t()}finally{clearInterval(e),process.stderr.write(" ".repeat(process.stdout.columns-1)+"\r")}return r}))))}))}Object.assign((function(e,t){return su(e,t)}),fu);var Wf=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const Uf=new Set(["_http_agent","_http_client","_http_common","_http_incoming","_http_outgoing","_http_server","_stream_duplex","_stream_passthrough","_stream_readable","_stream_transform","_stream_wrap","_stream_writable","_tls_common","_tls_wrap","assert","async_hooks","buffer","child_process","cluster","console","constants","crypto","dgram","dns","domain","events","fs","http","http2","https","inspector","module","net","os","path","perf_hooks","process","punycode","querystring","readline","repl","stream","string_decoder","sys","timers","tls","trace_events","tty","url","util","v8","vm","wasi","worker_threads","zlib"]),zf=[/\bimport\s+['"](?<path>[^'"]+)['"]/,/\bimport\(['"](?<path>[^'"]+)['"]\)/,/\brequire\(['"](?<path>[^'"]+)['"]\)/,/\bfrom\s+['"](?<path>[^'"]+)['"]/],Gf=/^(?<name>(@[a-z0-9-~][a-z0-9-._~]*\/)?[a-z0-9-~][a-z0-9-._~]*)\/?.*$/i,Vf=/(\/\/|\/\*)\s*@(?<version>[~^]?(v?[\dx*]+([-.][\d*a-z-]+)*))/i;function Kf(e){var t,r;for(let n of zf){const o=Yf(null===(r=null===(t=n.exec(e))||void 0===t?void 0:t.groups)||void 0===r?void 0:r.path),i=Qf(e);if(o)return{name:o,version:i}}}function Yf(e){var t,r;if(!e)return;const n=null===(r=null===(t=Gf.exec(e))||void 0===t?void 0:t.groups)||void 0===r?void 0:r.name;return n&&!Uf.has(n)?n:void 0}function Qf(e){var t,r;return(null===(r=null===(t=Vf.exec(e))||void 0===t?void 0:t.groups)||void 0===r?void 0:r.version)||"latest"}var Xf=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};function Jf(){console.log(`\n ${Td.bold("zx 7.2.3")}\n   A tool for writing better scripts\n\n ${Td.bold("Usage")}\n   zx [options] <script>\n\n ${Td.bold("Options")}\n   --quiet              don't echo commands\n   --shell=<path>       custom shell binary\n   --prefix=<command>   prefix all commands\n   --eval=<js>, -e      evaluate script \n   --install, -i        install dependencies\n   --experimental       enable experimental features\n   --version, -v        print current zx version\n   --help, -h           print help\n   --repl               start repl\n`)}const Zf=sn(process.argv.slice(2),{string:["shell","prefix","eval"],boolean:["version","help","quiet","install","repl","experimental"],alias:{e:"eval",i:"install",v:"version",h:"help"},stopEarly:!0});function eh(e){return Xf(this,void 0,void 0,(function*(){const t=I.join(process.cwd(),`zx-${wf()}.mjs`);yield th(e,t)}))}function th(e,t,r=t){return Xf(this,void 0,void 0,(function*(){yield rn.writeFile(t,e.toString());try{yield rh(t,r)}finally{yield rn.rm(t)}}))}function rh(e,t=e){return Xf(this,void 0,void 0,(function*(){const r=I.extname(e);if(""===r){const r=rn.existsSync(`${e}.mjs`)?`${I.basename(e)}-${wf()}.mjs`:`${I.basename(e)}.mjs`;return th(yield rn.readFile(e),I.join(I.dirname(e),r),t)}if(".md"===r)return th(function(e){const t=e.toString(),r=[];let n="root",o="",i=!0;const s=/^(```+|~~~+)(js|javascript)$/,a=/^(```+|~~~+)(sh|bash)$/,c=/^(```+|~~~+)(.*)$/;for(let e of t.split("\n"))switch(n){case"root":/^( {4}|\t)/.test(e)&&i?(r.push(e),n="tab"):s.test(e)?(r.push(""),n="js",o=e.match(s)[1]):a.test(e)?(r.push("await $`"),n="bash",o=e.match(a)[1]):c.test(e)?(r.push(""),n="other",o=e.match(c)[1]):(i=""===e,r.push("// "+e));break;case"tab":/^( +|\t)/.test(e)?r.push(e):""===e?r.push(""):(r.push("// "+e),n="root");break;case"js":e===o?(r.push(""),n="root"):r.push(e);break;case"bash":e===o?(r.push("`"),n="root"):r.push(e);break;case"other":e===o?(r.push(""),n="root"):r.push("// "+e)}return r.join("\n")}(yield rn.readFile(e)),I.join(I.dirname(e),I.basename(e)+".mjs"),t);if(Zf.install){const t=function(e){const t={},r=e.toString().split("\n");for(let e of r){const r=Kf(e);r&&(t[r.name]=r.version)}return t}(yield rn.readFile(e));yield function(e,t){return Wf(this,void 0,void 0,(function*(){const r=Object.entries(e).map((([e,t])=>`${e}@${t}`)),n=t?`--prefix=${t}`:"";0!==r.length&&(yield qf(`npm i ${r.join(" ")}`,(()=>Of`npm install --no-save --no-audit --no-fund ${n} ${r}`.nothrow())))}))}(t,I.dirname(e))}const n=I.resolve(t),o=I.dirname(n),i=B.createRequire(t);Object.assign(k,{__filename:n,__dirname:o,require:i}),yield import(N.pathToFileURL(e).toString())}))}!function(){Xf(this,void 0,void 0,(function*(){yield function(){return Xf(this,void 0,void 0,(function*(){if(Zf.quiet&&(Of.verbose=!1),Zf.shell&&(Of.shell=Zf.shell),Zf.prefix&&(Of.prefix=Zf.prefix),Zf.experimental&&Object.assign(k,{spinner:qf,retry:Nf,expBackoff:Hf,echo:Bf}),Zf.version)return void console.log("7.2.3");if(Zf.help)return void Jf();if(Zf.repl)return kf.verbose=!1,void ie.start({prompt:Td.greenBright.bold("â¯ "),useGlobal:!0,preview:!1,writer:e=>e instanceof Lf?e.toString().replace(/\n$/,""):X.inspect(e,{colors:!0})}).setupHistory(I.join(oe.homedir(),".zx_repl_history"),(()=>{}));if(Zf.eval)return void(yield eh(Zf.eval));const e=Zf._[0];var t;if(t=Zf._.slice(void 0===e?0:1),jf=sn(t),k.argv=jf,!e||"-"===e)return void((yield function(){var e,t,r,n;return Xf(this,void 0,void 0,(function*(){let o="";if(!process.stdin.isTTY){process.stdin.setEncoding("utf8");try{for(var i,s=!0,a=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}}(process.stdin);i=yield a.next(),!(e=i.done);){n=i.value,s=!1;try{o+=n}finally{s=!0}}}catch(e){t={error:e}}finally{try{s||e||!(r=a.return)||(yield r.call(a))}finally{if(t)throw t.error}}if(o.length>0)return yield eh(o),!0}return!1}))}())||Jf());if(/^https?:/.test(e))return void(yield function(e){return Xf(this,void 0,void 0,(function*(){const t=yield function(e,t){return Df(this,void 0,void 0,(function*(){return Of.log({kind:"fetch",url:e,init:t}),rd(e,t)}))}(e);t.ok||(console.error(`Error: Can't get ${e}`),process.exit(1));const r=yield t.text(),n=new URL(e).pathname,o=I.basename(n),i=I.extname(n)||".mjs",s=I.join(process.cwd(),`${o}-${wf()}${i}`);yield th(r,s)}))}(e));const r=e.startsWith("file:///")?N.fileURLToPath(e):I.resolve(e);yield rh(r)}))}().catch((e=>{e instanceof Lf?console.error("Error:",e.message):console.error(e),process.exitCode=1}))}))}(),C.File=bu,C.FormData=Pu}($)),$}const D=C(F());module.exports=D;
